"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}});var pn=!0,mi=!1,po="querySelectorAll";function qu(t){this.observe(t,{subtree:pn,childList:pn})}var Hu=(t,e,r)=>{let n=(s,o,a,l,c)=>{for(let u=0,{length:h}=s;u<h;u++){let d=s[u];(c||po in d)&&(l?o.has(d)||(o.add(d),a.delete(d),t(d,l)):a.has(d)||(a.add(d),o.delete(d),t(d,l)),c||n(d[po]("*"),o,a,l,pn))}},i=new(r||MutationObserver)(s=>{for(let o=new Set,a=new Set,l=0,{length:c}=s;l<c;l++){let{addedNodes:u,removedNodes:h}=s[l];n(h,o,a,mi,mi),n(u,o,a,pn,mi)}});return i.add=qu,i.add(e||document),i},fn="Callback",_i="Element",bi="constructor",dn="prototype",wi="attributeChanged"+fn,Fr="connected"+fn,fo="dis"+Fr,go="upgraded"+fn,mo="downgraded"+fn,zu={Anchor:"A",DList:"DL",Directory:"Dir",Heading:["H6","H5","H4","H3","H2","H1"],Image:"Img",OList:"OL",Paragraph:"P",TableCaption:"Caption",TableCell:["TH","TD"],TableRow:"TR",UList:"UL",[_i]:["Article","Aside","Footer","Header","Main","Nav","Section",_i]};var{getOwnPropertyNames:Wu,setPrototypeOf:_o}=Object,yi=new WeakMap,vi=new WeakMap,bo=new Set,wo=(t,e)=>document.createElementNS(e?"http://www.w3.org/2000/svg":"",t),Yu=new MutationObserver(t=>{for(let e=0;e<t.length;e++){let{target:r,attributeName:n,oldValue:i}=t[e];yi.has(r)&&r[wi](n,i,r.getAttribute(n))}}),Ku=t=>{bo.has(t[bi])||(yi.delete(t),vi.delete(t),mo in t&&t[mo](),_o(t,wo(t.tagName,"ownerSVGElement"in t)[bi][dn]))},yo=(t,e)=>{if(!(t instanceof e)){Ku(t),_o(t,e[dn]),go in t&&t[go]();let{observedAttributes:r}=e;if(r&&wi in t){yi.set(t,0),Yu.observe(t,{attributeFilter:r,attributeOldValue:!0,attributes:!0});for(let n=0;n<r.length;n++){let i=r[n],s=t.getAttribute(i);s!=null&&t[wi](i,null,s)}}(Fr in t||fo in t)&&(vi.set(t,0),t.isConnected&&Fr in t&&t[Fr]())}return t},Vu={},me={};Wu(window).forEach(t=>{if(/^(HTML|SVG)/.test(t)){let{$1:e}=RegExp,r=e=="SVG",n=t.slice(e.length,-7)||_i,i=r?Vu:me,s=window[t];bo.add(s),[].concat(zu[n]||n).forEach(o=>{let a=o.toLowerCase();l.tagName=a,l[dn]=s[dn],i[n]=i[o]=l;function l(){return yo(wo(a,r),this[bi])}})}});var vy=Hu((t,e)=>{if(vi.has(t)){let r=e?Fr:fo;r in t&&t[r]()}}),vo=new WeakMap,Ju=(t,...e)=>{let{t:r,v:n}=Qu(t,e),i=vo.get(t)||vo.set(t,{}).get(t);return(i[r]||(i[r]=[r])).concat(n.map(s=>e[s]))},Qu=(t,e)=>{let r=[t[0]],n=[];for(let i=0,s=0,o=0,{length:a}=e;s<a;s++)e[s]instanceof Eo?r[i]+=e[s].v+t[s+1]:(n[o++]=s,r[++i]=t[s+1]);return{t:r,v:n}},To=t=>new Eo(t);function Eo(t){this.v=t}var Ei=t=>({get:e=>t.get(e),set:(e,r)=>(t.set(e,r),r)}),ko=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,Xu=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,Zu=/<[a-z][^>]+$/i,eh=/>[^<>]*$/,th=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/ig,rh=/\s+$/,xo=(t,e)=>0<e--&&(Zu.test(t[e])||!eh.test(t[e])&&xo(t,e)),nh=(t,e,r)=>Xu.test(e)?t:`<${e}${r.replace(rh,"")}></${e}>`,ih=(t,e,r)=>{let n=[],{length:i}=t;for(let o=1;o<i;o++){let a=t[o-1];n.push(ko.test(a)&&xo(t,o)?a.replace(ko,(l,c,u)=>`${e}${o-1}=${u||'"'}${c}${u?"":'"'}`):`${a}<!--${e}${o-1}-->`)}n.push(t[i-1]);let s=n.join("").trim();return r?s:s.replace(th,nh)},{isArray:Ti}=Array,{indexOf:sh,slice:Ao}=[],oh=1,So=111,ah=({firstChild:t,lastChild:e})=>{let r=document.createRange();return r.setStartAfter(t),r.setEndAfter(e),r.deleteContents(),t},lh=(t,e)=>t.nodeType===So?1/e<0?e?ah(t):t.lastChild:e?t.valueOf():t.firstChild:t,ch=t=>{let{childNodes:e}=t,{length:r}=e;if(r<2)return r?e[0]:t;let n=Ao.call(e,0),i=n[0],s=n[r-1];return{ELEMENT_NODE:oh,nodeType:So,firstChild:i,lastChild:s,valueOf(){if(e.length!==r){let o=0;for(;o<r;)t.appendChild(n[o++])}return t}}},uh=(t,e,r,n,i)=>{let s=r.length,o=e.length,a=s,l=0,c=0,u=null;for(;l<o||c<a;)if(o===l){let h=a<s?c?n(r[c-1],-0).nextSibling:n(r[a-c],0):i;for(;c<a;)t.insertBefore(n(r[c++],1),h)}else if(a===c)for(;l<o;)(!u||!u.has(e[l]))&&t.removeChild(n(e[l],-1)),l++;else if(e[l]===r[c])l++,c++;else if(e[o-1]===r[a-1])o--,a--;else if(e[l]===r[a-1]&&r[c]===e[o-1]){let h=n(e[--o],-1).nextSibling;t.insertBefore(n(r[c++],1),n(e[l++],-1).nextSibling),t.insertBefore(n(r[--a],1),h),e[o]=r[a]}else{if(!u){u=new Map;let h=c;for(;h<a;)u.set(r[h],h++)}if(u.has(e[l])){let h=u.get(e[l]);if(c<h&&h<a){let d=l,p=1;for(;++d<o&&d<a&&u.get(e[d])===h+p;)p++;if(p>h-c){let v=n(e[l],0);for(;c<h;)t.insertBefore(n(r[c++],1),v)}else t.replaceChild(n(r[c++],1),n(e[l++],-1))}else l++}else t.removeChild(n(e[l++],-1))}return r},hh=t=>e=>{for(let r in e){let n=r==="role"?r:`aria-${r}`,i=e[r];i==null?t.removeAttribute(n):t.setAttribute(n,i)}},ph=(t,e)=>{let r,n=!0,i=document.createAttributeNS(null,e);return s=>{if(r!==s)if(r=s,r==null)n||(t.removeAttributeNode(i),n=!0);else{let o=s;o==null?(n||t.removeAttributeNode(i),n=!0):(i.value=o,n&&(t.setAttributeNodeNS(i),n=!1))}}},fh=(t,e,r)=>n=>{r!==!!n&&((r=!!n)?t.setAttribute(e,""):t.removeAttribute(e))},dh=({dataset:t})=>e=>{for(let r in e){let n=e[r];n==null?delete t[r]:t[r]=n}},Ro=(t,e)=>{let r,n,i=e.slice(2);return!(e in t)&&(n=e.toLowerCase())in t&&(i=n.slice(2)),s=>{let o=Ti(s)?s:[s,!1];r!==o[0]&&(r&&t.removeEventListener(i,r,o[1]),(r=o[0])&&t.addEventListener(i,r,o[1]))}},gh=t=>{let e;return r=>{e!==r&&(e=r,typeof r=="function"?r(t):r.current=t)}},mh=(t,e)=>e==="dataset"?dh(t):r=>{t[e]=r},_h=t=>{let e;return r=>{e!=r&&(e=r,t.textContent=r??"")}},bh=({childNodes:t},e)=>t[e],Lr=(t,e,r)=>uh(t.parentNode,e,r,lh,t),wh=t=>{let e,r,n=[],i=s=>{switch(typeof s){case"string":case"number":case"boolean":e!==s&&(e=s,r||(r=document.createTextNode("")),r.data=s,n=Lr(t,n,[r]));break;case"object":case"undefined":if(s==null){e!=s&&(e=s,n=Lr(t,n,[]));break}if(Ti(s)){e=s,s.length===0?n=Lr(t,n,[]):typeof s[0]=="object"?n=Lr(t,n,s):i(String(s));break}e!==s&&"ELEMENT_NODE"in s&&(e=s,n=Lr(t,n,s.nodeType===11?Ao.call(s.childNodes):[s]));break;case"function":i(s(t));break}};return i},yh=(t,e)=>{switch(e[0]){case"?":return fh(t,e.slice(1),!1);case".":return mh(t,e.slice(1));case"@":return Ro(t,"on"+e.slice(1));case"o":if(e[1]==="n")return Ro(t,e)}switch(e){case"ref":return gh(t);case"aria":return hh(t)}return ph(t,e)};function vh(t){let{type:e,path:r}=t,n=r.reduceRight(bh,this);return e==="node"?wh(n):e==="attr"?yh(n,t.name):_h(n)}var Po=function(t){var e="fragment",r="template",n="content"in o(r),i=n?function(l){var c=o(r);return c.innerHTML=l,c.content}:function(l){var c=o(e),u=o(r),h=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(l)){var d=RegExp.$1;u.innerHTML="<table>"+l+"</table>",h=u.querySelectorAll(d)}else u.innerHTML=l,h=u.childNodes;return s(c,h),c};return function(c,u){return(u==="svg"?a:i)(c)};function s(l,c){for(var u=c.length;u--;)l.appendChild(c[0])}function o(l){return l===e?t.createDocumentFragment():t.createElementNS("http://www.w3.org/1999/xhtml",l)}function a(l){var c=o(e),u=o("div");return u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+l+"</svg>",s(c,u.firstChild.childNodes),c}}(document),Oo=document.importNode.length!=1,Eh=Oo?(t,e,r)=>document.importNode(Po(t,e,r),!0):Po,Th=Oo?t=>document.createTreeWalker(t,1|128,null,!1):t=>document.createTreeWalker(t,1|128),ki=t=>{let e=[],{parentNode:r}=t;for(;r;)e.push(sh.call(r.childNodes,t)),t=r,r=t.parentNode;return e},Gr="isÂµ",Co=Ei(new WeakMap),kh=/^(?:plaintext|script|style|textarea|title|xmp)$/i,Dr=()=>({stack:[],entry:null,wire:null}),Ah=(t,e)=>{let{content:r,updates:n}=xh(t,e);return{type:t,template:e,content:r,updates:n,wire:null}},Sh=(t,e)=>{let r=ih(e,Gr,t==="svg"),n=Eh(r,t),i=Th(n),s=[],o=e.length-1,a=0,l=`${Gr}${a}`;for(;a<o;){let c=i.nextNode();if(!c)throw`bad template: ${r}`;if(c.nodeType===8)c.data===l&&(s.push({type:"node",path:ki(c)}),l=`${Gr}${++a}`);else{for(;c.hasAttribute(l);)s.push({type:"attr",path:ki(c),name:c.getAttribute(l)}),c.removeAttribute(l),l=`${Gr}${++a}`;kh.test(c.tagName)&&c.textContent.trim()===`<!--${l}-->`&&(c.textContent="",s.push({type:"text",path:ki(c)}),l=`${Gr}${++a}`)}}return{content:n,nodes:s}},xh=(t,e)=>{let{content:r,nodes:n}=Co.get(e)||Co.set(e,Sh(t,e)),i=document.importNode(r,!0),s=n.map(vh,i);return{content:i,updates:s}},gn=(t,{type:e,template:r,values:n})=>{let{length:i}=n;Io(t,n,i);let{entry:s}=t;(!s||s.template!==r||s.type!==e)&&(t.entry=s=Ah(e,r));let{content:o,updates:a,wire:l}=s;for(let c=0;c<i;c++)a[c](n[c]);return l||(s.wire=ch(o))},Io=({stack:t},e,r)=>{for(let n=0;n<r;n++){let i=e[n];i instanceof xi?e[n]=gn(t[n]||(t[n]=Dr()),i):Ti(i)?Io(t[n]||(t[n]=Dr()),i,i.length):t[n]=null}r<t.length&&t.splice(r)};function xi(t,e,r){this.type=t,this.template=e,this.values=r}var{create:Rh,defineProperties:Ph}=Object,jo=t=>{let e=Ei(new WeakMap),r=n=>(i,...s)=>gn(n,{type:t,template:i,values:s});return Ph((n,...i)=>new xi(t,n,i),{for:{value(n,i){let s=e.get(n)||e.set(n,Rh(null));return s[i]||(s[i]=r(Dr()))}},node:{value:(n,...i)=>gn(Dr(),{type:t,template:n,values:i}).valueOf()}})},$o=Ei(new WeakMap),Oh=(t,e)=>{let r=typeof e=="function"?e():e,n=$o.get(t)||$o.set(t,Dr()),i=r instanceof xi?gn(n,r):r;return i!==n.wire&&(n.wire=i,t.textContent="",t.appendChild(i.valueOf())),t},Ch=jo("html"),Ih=jo("svg"),mn="data-ube",Fo=new WeakMap,Ai=[],jh=t=>{let e=Ai.indexOf(t);return e<0?Ai.push(t)-1:e},Go=t=>{function e(){return Lo.apply(t,arguments)}return e.for=(r,n)=>function(){return Lo.apply(t.for(r,n),arguments)},e};function pe(t){let e=Oh.apply(this,arguments),r=t.querySelectorAll(`[${mn}]`);for(let n=0,{length:i}=r;n<i;n++){let s=Ai[r[n].getAttribute(mn)];r[n].removeAttribute(mn),yo(r[n],s)}return e}var O=Go(Ch),Ey=Go(Ih);function Lo(...t){let[e]=t,r=Fo.get(e);if(r)for(let n=0,{length:i}=r;n<i;n++)t[r[n].i]=r[n].v;else{Fo.set(e,r=[]);for(let n=1,{length:i}=t;n<i;n++){let s=t[n];if(typeof s=="function"&&"tagName"in s){let{tagName:o}=s,a=e[n-1];switch(a[a.length-1]){case"<":s=To(`${o} ${mn}=${jh(s)}`);break;case"/":s=To(o);break}r.push({i:n,v:s}),t[n]=s}}}return this.apply(null,Ju.apply(null,t))}function $h(t){for(var e=[],r=0;r<t.length;){var n=t[r];if(n==="*"||n==="+"||n==="?"){e.push({type:"MODIFIER",index:r,value:t[r++]});continue}if(n==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});continue}if(n==="{"){e.push({type:"OPEN",index:r,value:t[r++]});continue}if(n==="}"){e.push({type:"CLOSE",index:r,value:t[r++]});continue}if(n===":"){for(var i="",s=r+1;s<t.length;){var o=t.charCodeAt(s);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o===95){i+=t[s++];continue}break}if(!i)throw new TypeError("Missing parameter name at "+r);e.push({type:"NAME",index:r,value:i}),r=s;continue}if(n==="("){var a=1,l="",s=r+1;if(t[s]==="?")throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<t.length;){if(t[s]==="\\"){l+=t[s++]+t[s++];continue}if(t[s]===")"){if(a--,a===0){s++;break}}else if(t[s]==="("&&(a++,t[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+s);l+=t[s++]}if(a)throw new TypeError("Unbalanced pattern at "+r);if(!l)throw new TypeError("Missing pattern at "+r);e.push({type:"PATTERN",index:r,value:l}),r=s;continue}e.push({type:"CHAR",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}function Fh(t,e){e===void 0&&(e={});for(var r=$h(t),n=e.prefixes,i=n===void 0?"./":n,s="[^"+rr(e.delimiter||"/#?")+"]+?",o=[],a=0,l=0,c="",u=function(V){if(l<r.length&&r[l].type===V)return r[l++].value},h=function(V){var le=u(V);if(le!==void 0)return le;var Se=r[l],j=Se.type,C=Se.index;throw new TypeError("Unexpected "+j+" at "+C+", expected "+V)},d=function(){for(var V="",le;le=u("CHAR")||u("ESCAPED_CHAR");)V+=le;return V};l<r.length;){var p=u("CHAR"),v=u("NAME"),R=u("PATTERN");if(v||R){var w=p||"";i.indexOf(w)===-1&&(c+=w,w=""),c&&(o.push(c),c=""),o.push({name:v||a++,prefix:w,suffix:"",pattern:R||s,modifier:u("MODIFIER")||""});continue}var $=p||u("ESCAPED_CHAR");if($){c+=$;continue}c&&(o.push(c),c="");var D=u("OPEN");if(D){var w=d(),K=u("NAME")||"",H=u("PATTERN")||"",ne=d();h("CLOSE"),o.push({name:K||(H?a++:""),pattern:K&&!H?s:H,prefix:w,suffix:ne,modifier:u("MODIFIER")||""});continue}h("END")}return o}function Gh(t,e){var r=[],n=Do(t,r,e);return Lh(n,r,e)}function Lh(t,e,r){r===void 0&&(r={});var n=r.decode,i=n===void 0?function(s){return s}:n;return function(s){var o=t.exec(s);if(!o)return!1;for(var a=o[0],l=o.index,c=Object.create(null),u=function(d){if(o[d]===void 0)return"continue";var p=e[d-1];p.modifier==="*"||p.modifier==="+"?c[p.name]=o[d].split(p.prefix+p.suffix).map(function(v){return i(v,p)}):c[p.name]=i(o[d],p)},h=1;h<o.length;h++)u(h);return{path:a,index:l,params:c}}}function rr(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function No(t){return t&&t.sensitive?"":"i"}function Dh(t,e){if(!e)return t;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,i=r.exec(t.source);i;)e.push({name:i[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),i=r.exec(t.source);return t}function Nh(t,e,r){var n=t.map(function(i){return Do(i,e,r).source});return new RegExp("(?:"+n.join("|")+")",No(r))}function Mh(t,e,r){return Uh(Fh(t,r),e,r)}function Uh(t,e,r){r===void 0&&(r={});for(var n=r.strict,i=n===void 0?!1:n,s=r.start,o=s===void 0?!0:s,a=r.end,l=a===void 0?!0:a,c=r.encode,u=c===void 0?function(V){return V}:c,h="["+rr(r.endsWith||"")+"]|$",d="["+rr(r.delimiter||"/#?")+"]",p=o?"^":"",v=0,R=t;v<R.length;v++){var w=R[v];if(typeof w=="string")p+=rr(u(w));else{var $=rr(u(w.prefix)),D=rr(u(w.suffix));if(w.pattern)if(e&&e.push(w),$||D)if(w.modifier==="+"||w.modifier==="*"){var K=w.modifier==="*"?"?":"";p+="(?:"+$+"((?:"+w.pattern+")(?:"+D+$+"(?:"+w.pattern+"))*)"+D+")"+K}else p+="(?:"+$+"("+w.pattern+")"+D+")"+w.modifier;else p+="("+w.pattern+")"+w.modifier;else p+="(?:"+$+D+")"+w.modifier}}if(l)i||(p+=d+"?"),p+=r.endsWith?"(?="+h+")":"$";else{var H=t[t.length-1],ne=typeof H=="string"?d.indexOf(H[H.length-1])>-1:H===void 0;i||(p+="(?:"+d+"(?="+h+"))?"),ne||(p+="(?="+d+"|"+h+")")}return new RegExp(p,No(r))}function Do(t,e,r){return t instanceof RegExp?Dh(t,e):Array.isArray(t)?Nh(t,e,r):Mh(t,e,r)}function Bh(t){try{return decodeURIComponent(t)}catch(e){return t}}function Uo(t,e,r,n,i){var s,o,a=0;return{next:function(c){if(t===c)return{done:!0,value:!1};if(!s){var u=t,h=!u.children;if(u.match||(u.match=Gh(u.path||"",Object.assign({end:h},r))),s=u.match(n),s){var d=s,p=d.path;return s.path=!h&&p.charAt(p.length-1)==="/"?p.substr(1):p,s.params=Object.assign({},i,s.params),{done:!1,value:{route:t,baseUrl:e,path:s.path,params:s.params}}}}if(s&&t.children)for(;a<t.children.length;){if(!o){var v=t.children[a];v.parent=t,o=Uo(v,e+s.path,r,n.substr(s.path.length),s.params)}var R=o.next(c);if(!R.done)return{done:!1,value:R.value};o=null,a++}return{done:!0,value:!1}}}}function qh(t,e){if(typeof t.route.action=="function")return t.route.action(t,e)}function Hh(t,e){for(var r=e;r;)if(r=r.parent,r===t)return!0;return!1}var zh=function(){function t(r,n){if(!r||typeof r!="object")throw new TypeError("Invalid routes");this.options=Object.assign({decode:Bh},n),this.baseUrl=this.options.baseUrl||"",this.root=Array.isArray(r)?{path:"",children:r,parent:null}:r,this.root.parent=null}var e=t.prototype;return e.resolve=function(n){var i=this,s=Object.assign({router:this},this.options.context,typeof n=="string"?{pathname:n}:n),o=Uo(this.root,this.baseUrl,this.options,s.pathname.substr(this.baseUrl.length)),a=this.options.resolveRoute||qh,l,c,u=s;function h(d,p,v){p===void 0&&(p=!l.done&&l.value.route);var R=v===null&&!l.done&&l.value.route;if(l=c||o.next(R),c=null,!d&&(l.done||!Hh(p,l.value.route)))return c=l,Promise.resolve(null);if(l.done){var w=new Error("Route not found");return w.status=404,Promise.reject(w)}return u=Object.assign({},s,l.value),Promise.resolve(a(u,l.value.params)).then(function($){return $??h(d,p,$)})}return s.next=h,Promise.resolve().then(function(){return h(!0,i.root)}).catch(function(d){if(i.options.errorHandler)return i.options.errorHandler(d,u);throw d})},t}(),Mo=zh;var Qe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function nt(t,e,r){return r={path:e,exports:{},require:function(n,i){return _n(n,i??r.path)}},t(r,r.exports),r.exports}function Nr(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")&&Object.keys(t).length===1?t.default:t}function _n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var bn=typeof bn!="undefined"?bn:typeof self!="undefined"?self:typeof window!="undefined"?window:{},Je=[],Me=[],Wh=typeof Uint8Array!="undefined"?Uint8Array:Array,Si=!1;function Bo(){Si=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)Je[e]=t[e],Me[t.charCodeAt(e)]=e;Me["-".charCodeAt(0)]=62,Me["_".charCodeAt(0)]=63}function Yh(t){Si||Bo();var e,r,n,i,s,o,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=t[a-2]==="="?2:t[a-1]==="="?1:0,o=new Wh(a*3/4-s),n=s>0?a-4:a;var l=0;for(e=0,r=0;e<n;e+=4,r+=3)i=Me[t.charCodeAt(e)]<<18|Me[t.charCodeAt(e+1)]<<12|Me[t.charCodeAt(e+2)]<<6|Me[t.charCodeAt(e+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=i&255;return s===2?(i=Me[t.charCodeAt(e)]<<2|Me[t.charCodeAt(e+1)]>>4,o[l++]=i&255):s===1&&(i=Me[t.charCodeAt(e)]<<10|Me[t.charCodeAt(e+1)]<<4|Me[t.charCodeAt(e+2)]>>2,o[l++]=i>>8&255,o[l++]=i&255),o}function Kh(t){return Je[t>>18&63]+Je[t>>12&63]+Je[t>>6&63]+Je[t&63]}function Vh(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(Kh(n));return i.join("")}function qo(t){Si||Bo();for(var e,r=t.length,n=r%3,i="",s=[],o=16383,a=0,l=r-n;a<l;a+=o)s.push(Vh(t,a,a+o>l?l:a+o));return n===1?(e=t[r-1],i+=Je[e>>2],i+=Je[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=Je[e>>10],i+=Je[e>>4&63],i+=Je[e<<2&63],i+="="),s.push(i),s.join("")}function wn(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,d=r?-1:1,p=t[e+h];for(h+=d,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=s*256+t[e+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+t[e+h],h+=d,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*Infinity;o=o+Math.pow(2,n),s=s-c}return(p?-1:1)*o*Math.pow(2,s-n)}function Ho(t,e,r,n,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,v=n?1:-1,R=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=d/l:e+=d*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+p]=a&255,p+=v,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+p]=o&255,p+=v,o/=256,c-=8);t[r+p-v]|=R*128}var Qh={}.toString,zo=Array.isArray||function(t){return Qh.call(t)=="[object Array]"};var Wo=50;E.TYPED_ARRAY_SUPPORT=bn.TYPED_ARRAY_SUPPORT!==void 0?bn.TYPED_ARRAY_SUPPORT:!0;var Jh=yn();function yn(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function it(t,e){if(yn()<e)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=E.prototype):(t===null&&(t=new E(e)),t.length=e),t}function E(t,e,r){if(!E.TYPED_ARRAY_SUPPORT&&!(this instanceof E))return new E(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return Ri(this,t)}return Yo(this,t,e,r)}E.poolSize=8192;E._augment=function(t){return t.__proto__=E.prototype,t};function Yo(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer?Zh(t,e,r,n):typeof e=="string"?Xh(t,e,r):ep(t,e)}E.from=function(t,e,r){return Yo(null,t,e,r)};E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array);function Ko(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function tp(t,e,r,n){return Ko(e),e<=0?it(t,e):r!==void 0?typeof n=="string"?it(t,e).fill(r,n):it(t,e).fill(r):it(t,e)}E.alloc=function(t,e,r){return tp(null,t,e,r)};function Ri(t,e){if(Ko(e),t=it(t,e<0?0:Pi(e)|0),!E.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}E.allocUnsafe=function(t){return Ri(null,t)};E.allocUnsafeSlow=function(t){return Ri(null,t)};function Xh(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!E.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=Vo(e,r)|0;t=it(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function Oi(t,e){var r=e.length<0?0:Pi(e.length)|0;t=it(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function Zh(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),E.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=E.prototype):t=Oi(t,e),t}function ep(t,e){if(Xe(e)){var r=Pi(e.length)|0;return t=it(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer!="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||rp(e.length)?it(t,0):Oi(t,e);if(e.type==="Buffer"&&zo(e.data))return Oi(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Pi(t){if(t>=yn())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+yn().toString(16)+" bytes");return t|0}function np(t){return+t!=t&&(t=0),E.alloc(+t)}E.isBuffer=Qo;function Xe(t){return!!(t!=null&&t._isBuffer)}E.compare=function(e,r){if(!Xe(e)||!Xe(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};E.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};E.concat=function(e,r){if(!zo(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return E.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=E.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!Xe(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function Vo(t,e){if(Xe(t))return t.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return vn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Jo(t).length;default:if(n)return vn(t).length;e=(""+e).toLowerCase(),n=!0}}E.byteLength=Vo;function cp(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return ap(this,e,r);case"utf8":case"utf-8":return Xo(this,e,r);case"ascii":return sp(this,e,r);case"latin1":case"binary":return op(this,e,r);case"base64":return ip(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lp(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}E.prototype._isBuffer=!0;function Pt(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}E.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Pt(this,r,r+1);return this};E.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Pt(this,r,r+3),Pt(this,r+1,r+2);return this};E.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Pt(this,r,r+7),Pt(this,r+1,r+6),Pt(this,r+2,r+5),Pt(this,r+3,r+4);return this};E.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Xo(this,0,e):cp.apply(this,arguments)};E.prototype.equals=function(e){if(!Xe(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:E.compare(this,e)===0};E.prototype.inspect=function(){var e="",r=Wo;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};E.prototype.compare=function(e,r,n,i,s){if(!Xe(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=n-r,l=Math.min(o,a),c=this.slice(i,s),u=e.slice(r,n),h=0;h<l;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0};function ea(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=E.from(e,n)),Xe(e))return e.length===0?-1:Zo(t,e,r,n,i);if(typeof e=="number")return e=e&255,E.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Zo(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Zo(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function l(p,v){return s===1?p[v]:p.readUInt16BE(v*s)}var c;if(i){var u=-1;for(c=r;c<o;c++)if(l(t,c)===l(e,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===a)return u*s}else u!==-1&&(c-=c-u),u=-1}else for(r+a>o&&(r=o-a),c=r;c>=0;c--){for(var h=!0,d=0;d<a;d++)if(l(t,c+d)!==l(e,d)){h=!1;break}if(h)return c}return-1}E.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};E.prototype.indexOf=function(e,r,n){return ea(this,e,r,n,!0)};E.prototype.lastIndexOf=function(e,r,n){return ea(this,e,r,n,!1)};function up(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(o*2,2),16);if(isNaN(a))return o;t[r+o]=a}return o}function hp(t,e,r,n){return En(vn(e,t.length-r),t,r,n)}function ta(t,e,r,n){return En(pp(e),t,r,n)}function fp(t,e,r,n){return ta(t,e,r,n)}function dp(t,e,r,n){return En(Jo(e),t,r,n)}function mp(t,e,r,n){return En(gp(e,t.length-r),t,r,n)}E.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return up(this,e,r,n);case"utf8":case"utf-8":return hp(this,e,r,n);case"ascii":return ta(this,e,r,n);case"latin1":case"binary":return fp(this,e,r,n);case"base64":return dp(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mp(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ip(t,e,r){return e===0&&r===t.length?qo(t):qo(t.slice(e,r))}function Xo(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var l,c,u,h;switch(a){case 1:s<128&&(o=s);break;case 2:l=t[i+1],(l&192)==128&&(h=(s&31)<<6|l&63,h>127&&(o=h));break;case 3:l=t[i+1],c=t[i+2],(l&192)==128&&(c&192)==128&&(h=(s&15)<<12|(l&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:l=t[i+1],c=t[i+2],u=t[i+3],(l&192)==128&&(c&192)==128&&(u&192)==128&&(h=(s&15)<<18|(l&63)<<12|(c&63)<<6|u&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return _p(n)}var ra=4096;function _p(t){var e=t.length;if(e<=ra)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=ra));return r}function sp(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function op(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function ap(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=bp(t[s]);return i}function lp(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}E.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(E.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=E.prototype;else{var s=r-e;i=new E(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i};function Ee(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||Ee(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return i};E.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||Ee(e,r,this.length);for(var i=this[e+--r],s=1;r>0&&(s*=256);)i+=this[e+--r]*s;return i};E.prototype.readUInt8=function(e,r){return r||Ee(e,1,this.length),this[e]};E.prototype.readUInt16LE=function(e,r){return r||Ee(e,2,this.length),this[e]|this[e+1]<<8};E.prototype.readUInt16BE=function(e,r){return r||Ee(e,2,this.length),this[e]<<8|this[e+1]};E.prototype.readUInt32LE=function(e,r){return r||Ee(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};E.prototype.readUInt32BE=function(e,r){return r||Ee(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};E.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||Ee(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};E.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||Ee(e,r,this.length);for(var i=r,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};E.prototype.readInt8=function(e,r){return r||Ee(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};E.prototype.readInt16LE=function(e,r){r||Ee(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};E.prototype.readInt16BE=function(e,r){r||Ee(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};E.prototype.readInt32LE=function(e,r){return r||Ee(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};E.prototype.readInt32BE=function(e,r){return r||Ee(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};E.prototype.readFloatLE=function(e,r){return r||Ee(e,4,this.length),wn(this,e,!0,23,4)};E.prototype.readFloatBE=function(e,r){return r||Ee(e,4,this.length),wn(this,e,!1,23,4)};E.prototype.readDoubleLE=function(e,r){return r||Ee(e,8,this.length),wn(this,e,!0,52,8)};E.prototype.readDoubleBE=function(e,r){return r||Ee(e,8,this.length),wn(this,e,!1,52,8)};function Le(t,e,r,n,i,s){if(!Xe(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}E.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Le(this,e,r,n,s,0)}var o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};E.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Le(this,e,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};E.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,1,255,0),E.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};function Tn(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}E.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):Tn(this,e,r,!0),r+2};E.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):Tn(this,e,r,!1),r+2};function kn(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>(n?i:3-i)*8&255}E.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):kn(this,e,r,!0),r+4};E.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):kn(this,e,r,!1),r+4};E.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var s=Math.pow(2,8*n-1);Le(this,e,r,n,s-1,-s)}var o=0,a=1,l=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&l===0&&this[r+o-1]!==0&&(l=1),this[r+o]=(e/a>>0)-l&255;return r+n};E.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var s=Math.pow(2,8*n-1);Le(this,e,r,n,s-1,-s)}var o=n-1,a=1,l=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&l===0&&this[r+o+1]!==0&&(l=1),this[r+o]=(e/a>>0)-l&255;return r+n};E.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,1,127,-128),E.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};E.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):Tn(this,e,r,!0),r+2};E.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):Tn(this,e,r,!1),r+2};E.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):kn(this,e,r,!0),r+4};E.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||Le(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),E.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):kn(this,e,r,!1),r+4};function na(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ia(t,e,r,n,i){return i||na(t,e,r,4),Ho(t,e,r,n,23,4),r+4}E.prototype.writeFloatLE=function(e,r,n){return ia(this,e,r,!0,n)};E.prototype.writeFloatBE=function(e,r,n){return ia(this,e,r,!1,n)};function sa(t,e,r,n,i){return i||na(t,e,r,8),Ho(t,e,r,n,52,8),r+8}E.prototype.writeDoubleLE=function(e,r,n){return sa(this,e,r,!0,n)};E.prototype.writeDoubleBE=function(e,r,n){return sa(this,e,r,!1,n)};E.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n,o;if(this===e&&n<r&&r<i)for(o=s-1;o>=0;--o)e[o+r]=this[o+n];else if(s<1e3||!E.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),r);return s};E.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!E.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var a=Xe(e)?e:vn(new E(e,i).toString()),l=a.length;for(o=0;o<n-r;++o)this[o+r]=a[o%l]}return this};var wp=/[^+\/0-9A-Za-z-_]/g;function vp(t){if(t=yp(t).replace(wp,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function yp(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function bp(t){return t<16?"0"+t.toString(16):t.toString(16)}function vn(t,e){e=e||Infinity;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function pp(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function gp(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Jo(t){return Yh(vp(t))}function En(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function rp(t){return t!==t}function Qo(t){return t!=null&&(!!t._isBuffer||oa(t)||Ep(t))}function oa(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Ep(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&oa(t.slice(0,0))}var aa=Object.freeze({__proto__:null,Buffer:E,INSPECT_MAX_BYTES:Wo,SlowBuffer:np,isBuffer:Qo,kMaxLength:Jh});function la(){throw new Error("setTimeout has not been defined")}function ca(){throw new Error("clearTimeout has not been defined")}var _t=la,bt=ca,nr;typeof window!="undefined"?nr=window:typeof self!="undefined"?nr=self:nr={};typeof nr.setTimeout=="function"&&(_t=setTimeout);typeof nr.clearTimeout=="function"&&(bt=clearTimeout);function ua(t){if(_t===setTimeout)return setTimeout(t,0);if((_t===la||!_t)&&setTimeout)return _t=setTimeout,setTimeout(t,0);try{return _t(t,0)}catch(e){try{return _t.call(null,t,0)}catch(r){return _t.call(this,t,0)}}}function Tp(t){if(bt===clearTimeout)return clearTimeout(t);if((bt===ca||!bt)&&clearTimeout)return bt=clearTimeout,clearTimeout(t);try{return bt(t)}catch(e){try{return bt.call(null,t)}catch(r){return bt.call(this,t)}}}var st=[],ir=!1,Ot,xn=-1;function kp(){!ir||!Ot||(ir=!1,Ot.length?st=Ot.concat(st):xn=-1,st.length&&ha())}function ha(){if(!ir){var t=ua(kp);ir=!0;for(var e=st.length;e;){for(Ot=st,st=[];++xn<e;)Ot&&Ot[xn].run();xn=-1,e=st.length}Ot=null,ir=!1,Tp(t)}}function xp(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];st.push(new pa(t,e)),st.length===1&&!ir&&ua(ha)}function pa(t,e){this.fun=t,this.array=e}pa.prototype.run=function(){this.fun.apply(null,this.array)};var Ap="browser",Sp="browser",Rp=!0,Pp=[],Op="",Cp={},Ip={},jp={};function Ct(){}var $p=Ct,Fp=Ct,Lp=Ct,Gp=Ct,Dp=Ct,Np=Ct,Up=Ct;function Mp(t){throw new Error("process.binding is not supported")}function Bp(){return"/"}function qp(t){throw new Error("process.chdir is not supported")}function Hp(){return 0}var sr=nr.performance||{},zp=sr.now||sr.mozNow||sr.msNow||sr.oNow||sr.webkitNow||function(){return new Date().getTime()};function Wp(t){var e=zp.call(sr)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}var Yp=new Date;function Kp(){var t=new Date,e=t-Yp;return e/1e3}var J={nextTick:xp,title:Ap,browser:Rp,env:{NODE_ENV:"production"},argv:Pp,version:Op,versions:Cp,on:$p,addListener:Fp,once:Lp,off:Gp,removeListener:Dp,removeAllListeners:Np,emit:Up,binding:Mp,cwd:Bp,chdir:qp,umask:Hp,hrtime:Wp,platform:Sp,release:Ip,config:jp,uptime:Kp},Vp={},Qp=Object.freeze({__proto__:null,default:Vp}),wt=Nr(Qp);function ot(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof J=="object"&&"version"in J?`Node.js/${J.version.substr(1)} (${J.platform}; ${J.arch})`:"<environment undetectable>"}var Jp=Object.freeze({__proto__:null,getUserAgent:ot}),da=fa;function fa(t,e,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(e)?e.reverse().reduce(function(i,s){return fa.bind(null,t,s,i,n)},r)():Promise.resolve().then(function(){return t.registry[e]?t.registry[e].reduce(function(i,s){return s.hook.bind(null,i,n)},r)():r(n)})}var Zp=Xp;function Xp(t,e,r,n){var i=n;t.registry[r]||(t.registry[r]=[]),e==="before"&&(n=function(s,o){return Promise.resolve().then(i.bind(null,o)).then(s.bind(null,o))}),e==="after"&&(n=function(s,o){var a;return Promise.resolve().then(s.bind(null,o)).then(function(l){return a=l,i(a,o)}).then(function(){return a})}),e==="error"&&(n=function(s,o){return Promise.resolve().then(s.bind(null,o)).catch(function(a){return i(a,o)})}),t.registry[r].push({hook:n,orig:i})}var tf=ef;function ef(t,e,r){if(!!t.registry[e]){var n=t.registry[e].map(function(i){return i.orig}).indexOf(r);n!==-1&&t.registry[e].splice(n,1)}}var ga=Function.bind,ma=ga.bind(ga);function _a(t,e,r){var n=ma(tf,null).apply(null,r?[e,r]:[e]);t.api={remove:n},t.remove=n,["before","error","after","wrap"].forEach(function(i){var s=r?[e,i,r]:[e,i];t[i]=t.api[i]=ma(Zp,null).apply(null,s)})}function rf(){var t="h",e={registry:{}},r=da.bind(null,e,t);return _a(r,e,t),r}function ba(){var t={registry:{}},e=da.bind(null,t);return _a(e,t),e}var wa=!1;function or(){return wa||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),wa=!0),ba()}or.Singular=rf.bind();or.Collection=ba.bind();var Ci=or,nf=or,sf=or.Singular,ya=or.Collection;Ci.Hook=nf;Ci.Singular=sf;Ci.Collection=ya;function va(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ea(t){var e,r;return va(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(va(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function of(t){return t?Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{}):{}}function Ta(t,e){let r=Object.assign({},t);return Object.keys(e).forEach(n=>{Ea(e[n])?n in t?r[n]=Ta(t[n],e[n]):Object.assign(r,{[n]:e[n]}):Object.assign(r,{[n]:e[n]})}),r}function ka(t){for(let e in t)t[e]===void 0&&delete t[e];return t}function Ii(t,e,r){if(typeof e=="string"){let[i,s]=e.split(" ");r=Object.assign(s?{method:i,url:s}:{url:i},r)}else r=Object.assign({},e);r.headers=of(r.headers),ka(r),ka(r.headers);let n=Ta(t||{},r);return t&&t.mediaType.previews.length&&(n.mediaType.previews=t.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}function af(t,e){let r=/\?/.test(t)?"&":"?",n=Object.keys(e);return n.length===0?t:t+r+n.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var lf=/\{[^}]+\}/g;function cf(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function uf(t){let e=t.match(lf);return e?e.map(cf).reduce((r,n)=>r.concat(n),[]):[]}function xa(t,e){return Object.keys(t).filter(r=>!e.includes(r)).reduce((r,n)=>(r[n]=t[n],r),{})}function Aa(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function ar(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Ur(t,e,r){return e=t==="+"||t==="#"?Aa(e):ar(e),r?ar(r)+"="+e:e}function lr(t){return t!=null}function ji(t){return t===";"||t==="&"||t==="?"}function hf(t,e,r,n){var i=t[r],s=[];if(lr(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),s.push(Ur(e,i,ji(e)?r:""));else if(n==="*")Array.isArray(i)?i.filter(lr).forEach(function(o){s.push(Ur(e,o,ji(e)?r:""))}):Object.keys(i).forEach(function(o){lr(i[o])&&s.push(Ur(e,i[o],o))});else{let o=[];Array.isArray(i)?i.filter(lr).forEach(function(a){o.push(Ur(e,a))}):Object.keys(i).forEach(function(a){lr(i[a])&&(o.push(ar(a)),o.push(Ur(e,i[a].toString())))}),ji(e)?s.push(ar(r)+"="+o.join(",")):o.length!==0&&s.push(o.join(","))}else e===";"?lr(i)&&s.push(ar(r)):i===""&&(e==="&"||e==="?")?s.push(ar(r)+"="):i===""&&s.push("");return s}function ff(t){return{expand:pf.bind(null,t)}}function pf(t,e){var r=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,s){if(i){let a="",l=[];if(r.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(hf(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return Aa(s)})}function Sa(t){let e=t.method.toUpperCase(),r=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},t.headers),i,s=xa(t,["method","baseUrl","url","headers","request","mediaType"]),o=uf(r);r=ff(r).expand(s),/^http/.test(r)||(r=t.baseUrl+r);let a=Object.keys(t).filter(u=>o.includes(u)).concat("baseUrl"),l=xa(s,a);if(!/application\/octet-stream/i.test(n.accept)&&(t.mediaType.format&&(n.accept=n.accept.split(/,/).map(u=>u.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){let u=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=u.concat(t.mediaType.previews).map(h=>{let d=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${h}-preview${d}`}).join(",")}return["GET","HEAD"].includes(e)?r=af(r,l):"data"in l?i=l.data:Object.keys(l).length?i=l:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:r,headers:n},typeof i!="undefined"?{body:i}:null,t.request?{request:t.request}:null)}function df(t,e,r){return Sa(Ii(t,e,r))}function Ra(t,e){let r=Ii(t,e),n=df.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:Ra.bind(null,r),merge:Ii.bind(null,r),parse:Sa})}var gf="6.0.12",mf=`octokit-endpoint.js/${gf} ${ot()}`,_f={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":mf},mediaType:{format:"",previews:[]}},bf=Ra(null,_f),wf=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof It!="undefined")return It;throw new Error("unable to locate global object")},It=wf(),yf=It.fetch.bind(It),Oy=It.Headers,Cy=It.Request,Iy=It.Response,An=class extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}},Oa=Pa;function Pa(t,e){if(t&&e)return Pa(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}var $i=Oa(Sn),vf=Oa(Ca);Sn.proto=Sn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Sn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Ca(this)},configurable:!0})});function Sn(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Ca(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}$i.strict=vf;var Ef=$i(t=>console.warn(t)),Tf=$i(t=>console.warn(t)),jt=class extends Error{constructor(e,r,n){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let i;"headers"in n&&typeof n.headers!="undefined"&&(i=n.headers),"response"in n&&(this.response=n.response,i=n.response.headers);let s=Object.assign({},n.request);n.request.headers.authorization&&(s.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),s.url=s.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=s,Object.defineProperty(this,"code",{get(){return Ef(new An("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return Tf(new An("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}},kf=Object.freeze({__proto__:null,RequestError:jt}),xf="5.6.2";function Af(t){return t.arrayBuffer()}function Ia(t){let e=t.request&&t.request.log?t.request.log:console;(Ea(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let r={},n,i;return(t.request&&t.request.fetch||yf)(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(async o=>{i=o.url,n=o.status;for(let a of o.headers)r[a[0]]=a[1];if("deprecation"in r){let a=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),l=a&&a.pop();e.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${l?`. See ${l}`:""}`)}if(!(n===204||n===205)){if(t.method==="HEAD"){if(n<400)return;throw new jt(o.statusText,n,{response:{url:i,status:n,headers:r,data:void 0},request:t})}if(n===304)throw new jt("Not modified",n,{response:{url:i,status:n,headers:r,data:await Fi(o)},request:t});if(n>=400){let a=await Fi(o);throw new jt(Sf(a),n,{response:{url:i,status:n,headers:r,data:a},request:t})}return Fi(o)}}).then(o=>({status:n,url:i,headers:r,data:o})).catch(o=>{throw o instanceof jt?o:new jt(o.message,500,{request:t})})}async function Fi(t){let e=t.headers.get("content-type");return/application\/json/.test(e)?t.json():!e||/^text\/|charset=utf-8$/.test(e)?t.text():Af(t)}function Sf(t){return typeof t=="string"?t:"message"in t?Array.isArray(t.errors)?`${t.message}: ${t.errors.map(JSON.stringify).join(", ")}`:t.message:`Unknown error: ${JSON.stringify(t)}`}function Li(t,e){let r=t.defaults(e);return Object.assign(function(i,s){let o=r.merge(i,s);if(!o.request||!o.request.hook)return Ia(r.parse(o));let a=(l,c)=>Ia(r.parse(r.merge(l,c)));return Object.assign(a,{endpoint:r,defaults:Li.bind(null,r)}),o.request.hook(a,o)},{endpoint:r,defaults:Li.bind(null,r)})}var at=Li(bf,{headers:{"user-agent":`octokit-request.js/${xf} ${ot()}`}}),Ze=Object.freeze({__proto__:null,request:at}),Rf="4.8.0";function Pf(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}var ja=class extends Error{constructor(e,r,n){super(Pf(n));this.request=e,this.headers=r,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Of=["method","baseUrl","url","headers","request","query","mediaType"],Cf=["query","method","url"],$a=/\/api\/v3\/?$/;function If(t,e,r){if(r){if(typeof e=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let o in r)if(!!Cf.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}let n=typeof e=="string"?Object.assign({query:e},r):e,i=Object.keys(n).reduce((o,a)=>Of.includes(a)?(o[a]=n[a],o):(o.variables||(o.variables={}),o.variables[a]=n[a],o),{}),s=n.baseUrl||t.endpoint.DEFAULTS.baseUrl;return $a.test(s)&&(i.url=s.replace($a,"/api/graphql")),t(i).then(o=>{if(o.data.errors){let a={};for(let l of Object.keys(o.headers))a[l]=o.headers[l];throw new ja(i,a,o.data)}return o.data.data})}function Gi(t,e){let r=t.defaults(e);return Object.assign((i,s)=>If(r,i,s),{defaults:Gi.bind(null,r),endpoint:at.endpoint})}var jy=Gi(at,{headers:{"user-agent":`octokit-graphql.js/${Rf} ${ot()}`},method:"POST",url:"/graphql"});function jf(t){return Gi(t,{method:"POST",url:"/graphql"})}var $f=/^v1\./,Ff=/^ghs_/,Lf=/^ghu_/;async function Gf(t){let e=t.split(/\./).length===3,r=$f.test(t)||Ff.test(t),n=Lf.test(t);return{type:"token",token:t,tokenType:e?"app":r?"installation":n?"user-to-server":"oauth"}}function Df(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function Nf(t,e,r,n){let i=e.endpoint.merge(r,n);return i.headers.authorization=Df(t),e(i)}var Uf=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Gf.bind(null,e),{hook:Nf.bind(null,e)})},Fa="3.5.1",Mr=class{constructor(e={}){let r=new ya,n={baseUrl:at.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[e.userAgent,`octokit-core.js/${Fa} ${ot()}`].filter(Boolean).join(" "),e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=at.defaults(n),this.graphql=jf(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=r,e.authStrategy){let{authStrategy:s,...o}=e,a=s(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));r.wrap("request",a.hook),this.auth=a}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{let s=Uf(e.auth);r.wrap("request",s.hook),this.auth=s}this.constructor.plugins.forEach(s=>{Object.assign(this,s(this,e))})}static defaults(e){return class extends this{constructor(...n){let i=n[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;let n=this.plugins;return r=class extends this{},r.plugins=n.concat(e.filter(s=>!n.includes(s))),r}};Mr.VERSION=Fa;Mr.plugins=[];var La=Object.freeze({__proto__:null,Octokit:Mr}),Mf="2.17.0";function Bf(t){if(!t.data)return{...t,data:[]};if(!("total_count"in t.data&&!("url"in t.data)))return t;let r=t.data.incomplete_results,n=t.data.repository_selection,i=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;let s=Object.keys(t.data)[0],o=t.data[s];return t.data=o,typeof r!="undefined"&&(t.data.incomplete_results=r),typeof n!="undefined"&&(t.data.repository_selection=n),t.data.total_count=i,t}function Di(t,e,r){let n=typeof e=="function"?e.endpoint(r):t.request.endpoint(e,r),i=typeof e=="function"?e:t.request,s=n.method,o=n.headers,a=n.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:!0};try{let l=await i({method:s,url:a,headers:o}),c=Bf(l);return a=((c.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:c}}catch(l){if(l.status!==409)throw l;return a="",{value:{status:200,headers:{},data:[]}}}}})}}function Da(t,e,r,n){return typeof r=="function"&&(n=r,r=void 0),Ga(t,[],Di(t,e,r)[Symbol.asyncIterator](),n)}function Ga(t,e,r,n){return r.next().then(i=>{if(i.done)return e;let s=!1;function o(){s=!0}return e=e.concat(n?n(i.value,o):i.value.data),s?e:Ga(t,e,r,n)})}var qf=Object.assign(Da,{iterator:Di}),Na=["GET /app/hook/deliveries","GET /app/installations","GET /applications/grants","GET /authorizations","GET /enterprises/{enterprise}/actions/permissions/organizations","GET /enterprises/{enterprise}/actions/runner-groups","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/organizations","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/runners","GET /enterprises/{enterprise}/actions/runners","GET /enterprises/{enterprise}/actions/runners/downloads","GET /events","GET /gists","GET /gists/public","GET /gists/starred","GET /gists/{gist_id}/comments","GET /gists/{gist_id}/commits","GET /gists/{gist_id}/forks","GET /installation/repositories","GET /issues","GET /marketplace_listing/plans","GET /marketplace_listing/plans/{plan_id}/accounts","GET /marketplace_listing/stubbed/plans","GET /marketplace_listing/stubbed/plans/{plan_id}/accounts","GET /networks/{owner}/{repo}/events","GET /notifications","GET /organizations","GET /orgs/{org}/actions/permissions/repositories","GET /orgs/{org}/actions/runner-groups","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/runners","GET /orgs/{org}/actions/runners","GET /orgs/{org}/actions/runners/downloads","GET /orgs/{org}/actions/secrets","GET /orgs/{org}/actions/secrets/{secret_name}/repositories","GET /orgs/{org}/blocks","GET /orgs/{org}/credential-authorizations","GET /orgs/{org}/events","GET /orgs/{org}/failed_invitations","GET /orgs/{org}/hooks","GET /orgs/{org}/hooks/{hook_id}/deliveries","GET /orgs/{org}/installations","GET /orgs/{org}/invitations","GET /orgs/{org}/invitations/{invitation_id}/teams","GET /orgs/{org}/issues","GET /orgs/{org}/members","GET /orgs/{org}/migrations","GET /orgs/{org}/migrations/{migration_id}/repositories","GET /orgs/{org}/outside_collaborators","GET /orgs/{org}/packages","GET /orgs/{org}/projects","GET /orgs/{org}/public_members","GET /orgs/{org}/repos","GET /orgs/{org}/secret-scanning/alerts","GET /orgs/{org}/team-sync/groups","GET /orgs/{org}/teams","GET /orgs/{org}/teams/{team_slug}/discussions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions","GET /orgs/{org}/teams/{team_slug}/invitations","GET /orgs/{org}/teams/{team_slug}/members","GET /orgs/{org}/teams/{team_slug}/projects","GET /orgs/{org}/teams/{team_slug}/repos","GET /orgs/{org}/teams/{team_slug}/team-sync/group-mappings","GET /orgs/{org}/teams/{team_slug}/teams","GET /projects/columns/{column_id}/cards","GET /projects/{project_id}/collaborators","GET /projects/{project_id}/columns","GET /repos/{owner}/{repo}/actions/artifacts","GET /repos/{owner}/{repo}/actions/runners","GET /repos/{owner}/{repo}/actions/runners/downloads","GET /repos/{owner}/{repo}/actions/runs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts","GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs","GET /repos/{owner}/{repo}/actions/secrets","GET /repos/{owner}/{repo}/actions/workflows","GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs","GET /repos/{owner}/{repo}/assignees","GET /repos/{owner}/{repo}/autolinks","GET /repos/{owner}/{repo}/branches","GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations","GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs","GET /repos/{owner}/{repo}/code-scanning/alerts","GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances","GET /repos/{owner}/{repo}/code-scanning/analyses","GET /repos/{owner}/{repo}/collaborators","GET /repos/{owner}/{repo}/comments","GET /repos/{owner}/{repo}/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/commits","GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head","GET /repos/{owner}/{repo}/commits/{commit_sha}/comments","GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls","GET /repos/{owner}/{repo}/commits/{ref}/check-runs","GET /repos/{owner}/{repo}/commits/{ref}/check-suites","GET /repos/{owner}/{repo}/commits/{ref}/statuses","GET /repos/{owner}/{repo}/contributors","GET /repos/{owner}/{repo}/deployments","GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses","GET /repos/{owner}/{repo}/events","GET /repos/{owner}/{repo}/forks","GET /repos/{owner}/{repo}/git/matching-refs/{ref}","GET /repos/{owner}/{repo}/hooks","GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries","GET /repos/{owner}/{repo}/invitations","GET /repos/{owner}/{repo}/issues","GET /repos/{owner}/{repo}/issues/comments","GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/issues/events","GET /repos/{owner}/{repo}/issues/{issue_number}/comments","GET /repos/{owner}/{repo}/issues/{issue_number}/events","GET /repos/{owner}/{repo}/issues/{issue_number}/labels","GET /repos/{owner}/{repo}/issues/{issue_number}/reactions","GET /repos/{owner}/{repo}/issues/{issue_number}/timeline","GET /repos/{owner}/{repo}/keys","GET /repos/{owner}/{repo}/labels","GET /repos/{owner}/{repo}/milestones","GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels","GET /repos/{owner}/{repo}/notifications","GET /repos/{owner}/{repo}/pages/builds","GET /repos/{owner}/{repo}/projects","GET /repos/{owner}/{repo}/pulls","GET /repos/{owner}/{repo}/pulls/comments","GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/pulls/{pull_number}/comments","GET /repos/{owner}/{repo}/pulls/{pull_number}/commits","GET /repos/{owner}/{repo}/pulls/{pull_number}/files","GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments","GET /repos/{owner}/{repo}/releases","GET /repos/{owner}/{repo}/releases/{release_id}/assets","GET /repos/{owner}/{repo}/secret-scanning/alerts","GET /repos/{owner}/{repo}/stargazers","GET /repos/{owner}/{repo}/subscribers","GET /repos/{owner}/{repo}/tags","GET /repos/{owner}/{repo}/teams","GET /repositories","GET /repositories/{repository_id}/environments/{environment_name}/secrets","GET /scim/v2/enterprises/{enterprise}/Groups","GET /scim/v2/enterprises/{enterprise}/Users","GET /scim/v2/organizations/{org}/Users","GET /search/code","GET /search/commits","GET /search/issues","GET /search/labels","GET /search/repositories","GET /search/topics","GET /search/users","GET /teams/{team_id}/discussions","GET /teams/{team_id}/discussions/{discussion_number}/comments","GET /teams/{team_id}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /teams/{team_id}/discussions/{discussion_number}/reactions","GET /teams/{team_id}/invitations","GET /teams/{team_id}/members","GET /teams/{team_id}/projects","GET /teams/{team_id}/repos","GET /teams/{team_id}/team-sync/group-mappings","GET /teams/{team_id}/teams","GET /user/blocks","GET /user/emails","GET /user/followers","GET /user/following","GET /user/gpg_keys","GET /user/installations","GET /user/installations/{installation_id}/repositories","GET /user/issues","GET /user/keys","GET /user/marketplace_purchases","GET /user/marketplace_purchases/stubbed","GET /user/memberships/orgs","GET /user/migrations","GET /user/migrations/{migration_id}/repositories","GET /user/orgs","GET /user/packages","GET /user/public_emails","GET /user/repos","GET /user/repository_invitations","GET /user/starred","GET /user/subscriptions","GET /user/teams","GET /users","GET /users/{username}/events","GET /users/{username}/events/orgs/{org}","GET /users/{username}/events/public","GET /users/{username}/followers","GET /users/{username}/following","GET /users/{username}/gists","GET /users/{username}/gpg_keys","GET /users/{username}/keys","GET /users/{username}/orgs","GET /users/{username}/packages","GET /users/{username}/projects","GET /users/{username}/received_events","GET /users/{username}/received_events/public","GET /users/{username}/repos","GET /users/{username}/starred","GET /users/{username}/subscriptions"];function Hf(t){return typeof t=="string"?Na.includes(t):!1}function Ni(t){return{paginate:Object.assign(Da.bind(null,t),{iterator:Di.bind(null,t)})}}Ni.VERSION=Mf;var Ua=Object.freeze({__proto__:null,composePaginateRest:qf,isPaginatingEndpoint:Hf,paginateRest:Ni,paginatingEndpoints:Na}),zf={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createContentAttachmentForRepo:["POST /repos/{owner}/{repo}/content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableLfsForRepo:["DELETE /repos/{owner}/{repo}/lfs"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enableLfsForRepo:["PUT /repos/{owner}/{repo}/lfs"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Wf="5.13.0";function Kf(t,e){let r={};for(let[n,i]of Object.entries(e))for(let[s,o]of Object.entries(i)){let[a,l,c]=o,[u,h]=a.split(/ /),d=Object.assign({method:u,url:h},l);r[n]||(r[n]={});let p=r[n];if(c){p[s]=Yf(t,n,s,d,c);continue}p[s]=t.request.defaults(d)}return r}function Yf(t,e,r,n,i){let s=t.request.defaults(n);function o(...a){let l=s.endpoint.merge(...a);if(i.mapToData)return l=Object.assign({},l,{data:l[i.mapToData],[i.mapToData]:void 0}),s(l);if(i.renamed){let[c,u]=i.renamed;t.log.warn(`octokit.${e}.${r}() has been renamed to octokit.${c}.${u}()`)}if(i.deprecated&&t.log.warn(i.deprecated),i.renamedParameters){let c=s.endpoint.merge(...a);for(let[u,h]of Object.entries(i.renamedParameters))u in c&&(t.log.warn(`"${u}" parameter is deprecated for "octokit.${e}.${r}()". Use "${h}" instead`),h in c||(c[h]=c[u]),delete c[u]);return s(c)}return s(...a)}return Object.assign(o,s)}function Ma(t){return{rest:Kf(t,zf)}}Ma.VERSION=Wf;var Vf=nt(function(t,e){(function(r,n){t.exports=n()})(Qe,function(){var r=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Qe!="undefined"?Qe:typeof self!="undefined"?self:{};function n(U){return U&&U.default||U}var i=function(U,_,f={}){var b,y,T;for(b in _)T=_[b],f[b]=(y=U[b])!=null?y:T;return f},s=function(U,_,f={}){var b,y;for(b in U)y=U[b],_[b]!==void 0&&(f[b]=y);return f},o={load:i,overwrite:s},a;a=class{constructor(_,f){this.incr=_,this.decr=f,this._first=null,this._last=null,this.length=0}push(_){var f;this.length++,typeof this.incr=="function"&&this.incr(),f={value:_,prev:this._last,next:null},this._last!=null?(this._last.next=f,this._last=f):this._first=this._last=f}shift(){var _;if(this._first!=null)return this.length--,typeof this.decr=="function"&&this.decr(),_=this._first.value,(this._first=this._first.next)!=null?this._first.prev=null:this._last=null,_}first(){if(this._first!=null)return this._first.value}getArray(){var _,f,b;for(_=this._first,b=[];_!=null;)b.push((f=_,_=_.next,f.value));return b}forEachShift(_){var f;for(f=this.shift();f!=null;)_(f),f=this.shift()}debug(){var _,f,b,y,T;for(_=this._first,T=[];_!=null;)T.push((f=_,_=_.next,{value:f.value,prev:(b=f.prev)!=null?b.value:void 0,next:(y=f.next)!=null?y.value:void 0}));return T}};var l=a,c;c=class{constructor(_){if(this.instance=_,this._events={},this.instance.on!=null||this.instance.once!=null||this.instance.removeAllListeners!=null)throw new Error("An Emitter already exists for this object");this.instance.on=(f,b)=>this._addListener(f,"many",b),this.instance.once=(f,b)=>this._addListener(f,"once",b),this.instance.removeAllListeners=(f=null)=>f!=null?delete this._events[f]:this._events={}}_addListener(_,f,b){var y;return(y=this._events)[_]==null&&(y[_]=[]),this._events[_].push({cb:b,status:f}),this.instance}listenerCount(_){return this._events[_]!=null?this._events[_].length:0}async trigger(_,...f){var b,y;try{return _!=="debug"&&this.trigger("debug",`Event triggered: ${_}`,f),this._events[_]==null?void 0:(this._events[_]=this._events[_].filter(function(T){return T.status!=="none"}),y=this._events[_].map(async T=>{var P,G;if(T.status!=="none"){T.status==="once"&&(T.status="none");try{return G=typeof T.cb=="function"?T.cb(...f):void 0,typeof(G!=null?G.then:void 0)=="function"?await G:G}catch(ie){return P=ie,this.trigger("error",P),null}}}),(await Promise.all(y)).find(function(T){return T!=null}))}catch(T){return b=T,this.trigger("error",b),null}}};var u=c,h,d,p;h=l,d=u,p=class{constructor(_){this.Events=new d(this),this._length=0,this._lists=function(){var f,b,y;for(y=[],f=1,b=_;1<=b?f<=b:f>=b;1<=b?++f:--f)y.push(new h(()=>this.incr(),()=>this.decr()));return y}.call(this)}incr(){if(this._length++==0)return this.Events.trigger("leftzero")}decr(){if(--this._length==0)return this.Events.trigger("zero")}push(_){return this._lists[_.options.priority].push(_)}queued(_){return _!=null?this._lists[_].length:this._length}shiftAll(_){return this._lists.forEach(function(f){return f.forEachShift(_)})}getFirst(_=this._lists){var f,b,y;for(f=0,b=_.length;f<b;f++)if(y=_[f],y.length>0)return y;return[]}shiftLastFrom(_){return this.getFirst(this._lists.slice(_).reverse()).shift()}};var v=p,R;R=class extends Error{};var w=R,$,D,K,H,ne;H=10,D=5,ne=o,$=w,K=class{constructor(_,f,b,y,T,P,G,ie){this.task=_,this.args=f,this.rejectOnDrop=T,this.Events=P,this._states=G,this.Promise=ie,this.options=ne.load(b,y),this.options.priority=this._sanitizePriority(this.options.priority),this.options.id===y.id&&(this.options.id=`${this.options.id}-${this._randomIndex()}`),this.promise=new this.Promise((Pe,Ie)=>{this._resolve=Pe,this._reject=Ie}),this.retryCount=0}_sanitizePriority(_){var f;return f=~~_!==_?D:_,f<0?0:f>H-1?H-1:f}_randomIndex(){return Math.random().toString(36).slice(2)}doDrop({error:_,message:f="This job has been dropped by Bottleneck"}={}){return this._states.remove(this.options.id)?(this.rejectOnDrop&&this._reject(_??new $(f)),this.Events.trigger("dropped",{args:this.args,options:this.options,task:this.task,promise:this.promise}),!0):!1}_assertStatus(_){var f;if(f=this._states.jobStatus(this.options.id),!(f===_||_==="DONE"&&f===null))throw new $(`Invalid job status ${f}, expected ${_}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`)}doReceive(){return this._states.start(this.options.id),this.Events.trigger("received",{args:this.args,options:this.options})}doQueue(_,f){return this._assertStatus("RECEIVED"),this._states.next(this.options.id),this.Events.trigger("queued",{args:this.args,options:this.options,reachedHWM:_,blocked:f})}doRun(){return this.retryCount===0?(this._assertStatus("QUEUED"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),this.Events.trigger("scheduled",{args:this.args,options:this.options})}async doExecute(_,f,b,y){var T,P,G;this.retryCount===0?(this._assertStatus("RUNNING"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),P={args:this.args,options:this.options,retryCount:this.retryCount},this.Events.trigger("executing",P);try{if(G=await(_!=null?_.schedule(this.options,this.task,...this.args):this.task(...this.args)),f())return this.doDone(P),await y(this.options,P),this._assertStatus("DONE"),this._resolve(G)}catch(ie){return T=ie,this._onFailure(T,P,f,b,y)}}doExpire(_,f,b){var y,T;return this._states.jobStatus(this.options.id==="RUNNING")&&this._states.next(this.options.id),this._assertStatus("EXECUTING"),T={args:this.args,options:this.options,retryCount:this.retryCount},y=new $(`This job timed out after ${this.options.expiration} ms.`),this._onFailure(y,T,_,f,b)}async _onFailure(_,f,b,y,T){var P,G;if(b())return P=await this.Events.trigger("failed",_,f),P!=null?(G=~~P,this.Events.trigger("retry",`Retrying ${this.options.id} after ${G} ms`,f),this.retryCount++,y(G)):(this.doDone(f),await T(this.options,f),this._assertStatus("DONE"),this._reject(_))}doDone(_){return this._assertStatus("EXECUTING"),this._states.next(this.options.id),this.Events.trigger("done",_)}};var V=K,le,Se,j;j=o,le=w,Se=class{constructor(_,f,b){this.instance=_,this.storeOptions=f,this.clientId=this.instance._randomIndex(),j.load(b,b,this),this._nextRequest=this._lastReservoirRefresh=this._lastReservoirIncrease=Date.now(),this._running=0,this._done=0,this._unblockTime=0,this.ready=this.Promise.resolve(),this.clients={},this._startHeartbeat()}_startHeartbeat(){var _;return this.heartbeat==null&&(this.storeOptions.reservoirRefreshInterval!=null&&this.storeOptions.reservoirRefreshAmount!=null||this.storeOptions.reservoirIncreaseInterval!=null&&this.storeOptions.reservoirIncreaseAmount!=null)?typeof(_=this.heartbeat=setInterval(()=>{var f,b,y,T,P;if(T=Date.now(),this.storeOptions.reservoirRefreshInterval!=null&&T>=this._lastReservoirRefresh+this.storeOptions.reservoirRefreshInterval&&(this._lastReservoirRefresh=T,this.storeOptions.reservoir=this.storeOptions.reservoirRefreshAmount,this.instance._drainAll(this.computeCapacity())),this.storeOptions.reservoirIncreaseInterval!=null&&T>=this._lastReservoirIncrease+this.storeOptions.reservoirIncreaseInterval&&({reservoirIncreaseAmount:f,reservoirIncreaseMaximum:y,reservoir:P}=this.storeOptions,this._lastReservoirIncrease=T,b=y!=null?Math.min(f,y-P):f,b>0))return this.storeOptions.reservoir+=b,this.instance._drainAll(this.computeCapacity())},this.heartbeatInterval)).unref=="function"?_.unref():void 0:clearInterval(this.heartbeat)}async __publish__(_){return await this.yieldLoop(),this.instance.Events.trigger("message",_.toString())}async __disconnect__(_){return await this.yieldLoop(),clearInterval(this.heartbeat),this.Promise.resolve()}yieldLoop(_=0){return new this.Promise(function(f,b){return setTimeout(f,_)})}computePenalty(){var _;return(_=this.storeOptions.penalty)!=null?_:15*this.storeOptions.minTime||5e3}async __updateSettings__(_){return await this.yieldLoop(),j.overwrite(_,_,this.storeOptions),this._startHeartbeat(),this.instance._drainAll(this.computeCapacity()),!0}async __running__(){return await this.yieldLoop(),this._running}async __queued__(){return await this.yieldLoop(),this.instance.queued()}async __done__(){return await this.yieldLoop(),this._done}async __groupCheck__(_){return await this.yieldLoop(),this._nextRequest+this.timeout<_}computeCapacity(){var _,f;return{maxConcurrent:_,reservoir:f}=this.storeOptions,_!=null&&f!=null?Math.min(_-this._running,f):_!=null?_-this._running:f??null}conditionsCheck(_){var f;return f=this.computeCapacity(),f==null||_<=f}async __incrementReservoir__(_){var f;return await this.yieldLoop(),f=this.storeOptions.reservoir+=_,this.instance._drainAll(this.computeCapacity()),f}async __currentReservoir__(){return await this.yieldLoop(),this.storeOptions.reservoir}isBlocked(_){return this._unblockTime>=_}check(_,f){return this.conditionsCheck(_)&&this._nextRequest-f<=0}async __check__(_){var f;return await this.yieldLoop(),f=Date.now(),this.check(_,f)}async __register__(_,f,b){var y,T;return await this.yieldLoop(),y=Date.now(),this.conditionsCheck(f)?(this._running+=f,this.storeOptions.reservoir!=null&&(this.storeOptions.reservoir-=f),T=Math.max(this._nextRequest-y,0),this._nextRequest=y+T+this.storeOptions.minTime,{success:!0,wait:T,reservoir:this.storeOptions.reservoir}):{success:!1}}strategyIsBlock(){return this.storeOptions.strategy===3}async __submit__(_,f){var b,y,T;if(await this.yieldLoop(),this.storeOptions.maxConcurrent!=null&&f>this.storeOptions.maxConcurrent)throw new le(`Impossible to add a job having a weight of ${f} to a limiter having a maxConcurrent setting of ${this.storeOptions.maxConcurrent}`);return y=Date.now(),T=this.storeOptions.highWater!=null&&_===this.storeOptions.highWater&&!this.check(f,y),b=this.strategyIsBlock()&&(T||this.isBlocked(y)),b&&(this._unblockTime=y+this.computePenalty(),this._nextRequest=this._unblockTime+this.storeOptions.minTime,this.instance._dropAllQueued()),{reachedHWM:T,blocked:b,strategy:this.storeOptions.strategy}}async __free__(_,f){return await this.yieldLoop(),this._running-=f,this._done+=f,this.instance._drainAll(this.computeCapacity()),{running:this._running}}};var C=Se,g,x;g=w,x=class{constructor(_){this.status=_,this._jobs={},this.counts=this.status.map(function(){return 0})}next(_){var f,b;if(f=this._jobs[_],b=f+1,f!=null&&b<this.status.length)return this.counts[f]--,this.counts[b]++,this._jobs[_]++;if(f!=null)return this.counts[f]--,delete this._jobs[_]}start(_){var f;return f=0,this._jobs[_]=f,this.counts[f]++}remove(_){var f;return f=this._jobs[_],f!=null&&(this.counts[f]--,delete this._jobs[_]),f!=null}jobStatus(_){var f;return(f=this.status[this._jobs[_]])!=null?f:null}statusJobs(_){var f,b,y,T,P;if(_!=null){if(b=this.status.indexOf(_),b<0)throw new g(`status must be one of ${this.status.join(", ")}`);y=this._jobs,T=[];for(f in y)P=y[f],P===b&&T.push(f);return T}else return Object.keys(this._jobs)}statusCounts(){return this.counts.reduce((_,f,b)=>(_[this.status[b]]=f,_),{})}};var A=x,I,N;I=l,N=class{constructor(_,f){this.schedule=this.schedule.bind(this),this.name=_,this.Promise=f,this._running=0,this._queue=new I}isEmpty(){return this._queue.length===0}async _tryToRun(){var _,f,b,y,T,P,G;if(this._running<1&&this._queue.length>0)return this._running++,{task:G,args:_,resolve:T,reject:y}=this._queue.shift(),f=await async function(){try{return P=await G(..._),function(){return T(P)}}catch(ie){return b=ie,function(){return y(b)}}}(),this._running--,this._tryToRun(),f()}schedule(_,...f){var b,y,T;return T=y=null,b=new this.Promise(function(P,G){return T=P,y=G}),this._queue.push({task:_,args:f,resolve:T,reject:y}),this._tryToRun(),b}};var Z=N,ye="2.19.5",ge={version:ye},m=Object.freeze({version:ye,default:ge}),k=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),S=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),L=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),q,Q,Ce,rt,ve,Ne;Ne=o,q=u,rt=k,Ce=S,ve=L,Q=function(){class U{constructor(f={}){this.deleteKey=this.deleteKey.bind(this),this.limiterOptions=f,Ne.load(this.limiterOptions,this.defaults,this),this.Events=new q(this),this.instances={},this.Bottleneck=uo,this._startAutoCleanup(),this.sharedConnection=this.connection!=null,this.connection==null&&(this.limiterOptions.datastore==="redis"?this.connection=new rt(Object.assign({},this.limiterOptions,{Events:this.Events})):this.limiterOptions.datastore==="ioredis"&&(this.connection=new Ce(Object.assign({},this.limiterOptions,{Events:this.Events}))))}key(f=""){var b;return(b=this.instances[f])!=null?b:(()=>{var y;return y=this.instances[f]=new this.Bottleneck(Object.assign(this.limiterOptions,{id:`${this.id}-${f}`,timeout:this.timeout,connection:this.connection})),this.Events.trigger("created",y,f),y})()}async deleteKey(f=""){var b,y;return y=this.instances[f],this.connection&&(b=await this.connection.__runCommand__(["del",...ve.allKeys(`${this.id}-${f}`)])),y!=null&&(delete this.instances[f],await y.disconnect()),y!=null||b>0}limiters(){var f,b,y,T;b=this.instances,y=[];for(f in b)T=b[f],y.push({key:f,limiter:T});return y}keys(){return Object.keys(this.instances)}async clusterKeys(){var f,b,y,T,P,G,ie,Pe,Ie;if(this.connection==null)return this.Promise.resolve(this.keys());for(G=[],f=null,Ie=`b_${this.id}-`.length,b="_settings".length;f!==0;)for([Pe,y]=await this.connection.__runCommand__(["scan",f??0,"match",`b_${this.id}-*_settings`,"count",1e4]),f=~~Pe,T=0,ie=y.length;T<ie;T++)P=y[T],G.push(P.slice(Ie,-b));return G}_startAutoCleanup(){var f;return clearInterval(this.interval),typeof(f=this.interval=setInterval(async()=>{var b,y,T,P,G,ie;G=Date.now(),T=this.instances,P=[];for(y in T){ie=T[y];try{await ie._store.__groupCheck__(G)?P.push(this.deleteKey(y)):P.push(void 0)}catch(Pe){b=Pe,P.push(ie.Events.trigger("error",b))}}return P},this.timeout/2)).unref=="function"?f.unref():void 0}updateSettings(f={}){if(Ne.overwrite(f,this.defaults,this),Ne.overwrite(f,f,this.limiterOptions),f.timeout!=null)return this._startAutoCleanup()}disconnect(f=!0){var b;if(!this.sharedConnection)return(b=this.connection)!=null?b.disconnect(f):void 0}}return U.prototype.defaults={timeout:1e3*60*5,connection:null,Promise,id:"group-key"},U}.call(r);var Cr=Q,Xt,Zt,er;er=o,Zt=u,Xt=function(){class U{constructor(f={}){this.options=f,er.load(this.options,this.defaults,this),this.Events=new Zt(this),this._arr=[],this._resetPromise(),this._lastFlush=Date.now()}_resetPromise(){return this._promise=new this.Promise((f,b)=>this._resolve=f)}_flush(){return clearTimeout(this._timeout),this._lastFlush=Date.now(),this._resolve(),this.Events.trigger("batch",this._arr),this._arr=[],this._resetPromise()}add(f){var b;return this._arr.push(f),b=this._promise,this._arr.length===this.maxSize?this._flush():this.maxTime!=null&&this._arr.length===1&&(this._timeout=setTimeout(()=>this._flush(),this.maxTime)),b}}return U.prototype.defaults={maxTime:null,maxSize:null,Promise},U}.call(r);var Ir=Xt,jr=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),Ke=n(m),ue,Re,mt,tr,so,di,oo,ao,lo,gi,Ve,co=[].splice;di=10,Re=5,Ve=o,oo=v,tr=V,so=C,ao=jr,mt=u,lo=A,gi=Z,ue=function(){class U{constructor(f={},...b){var y,T;this._addToQueue=this._addToQueue.bind(this),this._validateOptions(f,b),Ve.load(f,this.instanceDefaults,this),this._queues=new oo(di),this._scheduled={},this._states=new lo(["RECEIVED","QUEUED","RUNNING","EXECUTING"].concat(this.trackDoneStatus?["DONE"]:[])),this._limiter=null,this.Events=new mt(this),this._submitLock=new gi("submit",this.Promise),this._registerLock=new gi("register",this.Promise),T=Ve.load(f,this.storeDefaults,{}),this._store=function(){if(this.datastore==="redis"||this.datastore==="ioredis"||this.connection!=null)return y=Ve.load(f,this.redisStoreDefaults,{}),new ao(this,T,y);if(this.datastore==="local")return y=Ve.load(f,this.localStoreDefaults,{}),new so(this,T,y);throw new U.prototype.BottleneckError(`Invalid datastore type: ${this.datastore}`)}.call(this),this._queues.on("leftzero",()=>{var P;return(P=this._store.heartbeat)!=null&&typeof P.ref=="function"?P.ref():void 0}),this._queues.on("zero",()=>{var P;return(P=this._store.heartbeat)!=null&&typeof P.unref=="function"?P.unref():void 0})}_validateOptions(f,b){if(!(f!=null&&typeof f=="object"&&b.length===0))throw new U.prototype.BottleneckError("Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.")}ready(){return this._store.ready}clients(){return this._store.clients}channel(){return`b_${this.id}`}channel_client(){return`b_${this.id}_${this._store.clientId}`}publish(f){return this._store.__publish__(f)}disconnect(f=!0){return this._store.__disconnect__(f)}chain(f){return this._limiter=f,this}queued(f){return this._queues.queued(f)}clusterQueued(){return this._store.__queued__()}empty(){return this.queued()===0&&this._submitLock.isEmpty()}running(){return this._store.__running__()}done(){return this._store.__done__()}jobStatus(f){return this._states.jobStatus(f)}jobs(f){return this._states.statusJobs(f)}counts(){return this._states.statusCounts()}_randomIndex(){return Math.random().toString(36).slice(2)}check(f=1){return this._store.__check__(f)}_clearGlobalState(f){return this._scheduled[f]!=null?(clearTimeout(this._scheduled[f].expiration),delete this._scheduled[f],!0):!1}async _free(f,b,y,T){var P,G;try{if({running:G}=await this._store.__free__(f,y.weight),this.Events.trigger("debug",`Freed ${y.id}`,T),G===0&&this.empty())return this.Events.trigger("idle")}catch(ie){return P=ie,this.Events.trigger("error",P)}}_run(f,b,y){var T,P,G;return b.doRun(),T=this._clearGlobalState.bind(this,f),G=this._run.bind(this,f,b),P=this._free.bind(this,f,b),this._scheduled[f]={timeout:setTimeout(()=>b.doExecute(this._limiter,T,G,P),y),expiration:b.options.expiration!=null?setTimeout(function(){return b.doExpire(T,G,P)},y+b.options.expiration):void 0,job:b}}_drainOne(f){return this._registerLock.schedule(()=>{var b,y,T,P,G;return this.queued()===0?this.Promise.resolve(null):(G=this._queues.getFirst(),{options:P,args:b}=T=G.first(),f!=null&&P.weight>f?this.Promise.resolve(null):(this.Events.trigger("debug",`Draining ${P.id}`,{args:b,options:P}),y=this._randomIndex(),this._store.__register__(y,P.weight,P.expiration).then(({success:ie,wait:Pe,reservoir:Ie})=>{var $r;return this.Events.trigger("debug",`Drained ${P.id}`,{success:ie,args:b,options:P}),ie?(G.shift(),$r=this.empty(),$r&&this.Events.trigger("empty"),Ie===0&&this.Events.trigger("depleted",$r),this._run(y,T,Pe),this.Promise.resolve(P.weight)):this.Promise.resolve(null)})))})}_drainAll(f,b=0){return this._drainOne(f).then(y=>{var T;return y!=null?(T=f!=null?f-y:f,this._drainAll(T,b+y)):this.Promise.resolve(b)}).catch(y=>this.Events.trigger("error",y))}_dropAllQueued(f){return this._queues.shiftAll(function(b){return b.doDrop({message:f})})}stop(f={}){var b,y;return f=Ve.load(f,this.stopDefaults),y=T=>{var P;return P=()=>{var G;return G=this._states.counts,G[0]+G[1]+G[2]+G[3]===T},new this.Promise((G,ie)=>P()?G():this.on("done",()=>{if(P())return this.removeAllListeners("done"),G()}))},b=f.dropWaitingJobs?(this._run=function(T,P){return P.doDrop({message:f.dropErrorMessage})},this._drainOne=()=>this.Promise.resolve(null),this._registerLock.schedule(()=>this._submitLock.schedule(()=>{var T,P,G;P=this._scheduled;for(T in P)G=P[T],this.jobStatus(G.job.options.id)==="RUNNING"&&(clearTimeout(G.timeout),clearTimeout(G.expiration),G.job.doDrop({message:f.dropErrorMessage}));return this._dropAllQueued(f.dropErrorMessage),y(0)}))):this.schedule({priority:di-1,weight:0},()=>y(1)),this._receive=function(T){return T._reject(new U.prototype.BottleneckError(f.enqueueErrorMessage))},this.stop=()=>this.Promise.reject(new U.prototype.BottleneckError("stop() has already been called")),b}async _addToQueue(f){var b,y,T,P,G,ie,Pe;({args:b,options:P}=f);try{({reachedHWM:G,blocked:y,strategy:Pe}=await this._store.__submit__(this.queued(),P.weight))}catch(Ie){return T=Ie,this.Events.trigger("debug",`Could not queue ${P.id}`,{args:b,options:P,error:T}),f.doDrop({error:T}),!1}return y?(f.doDrop(),!0):G&&(ie=Pe===U.prototype.strategy.LEAK?this._queues.shiftLastFrom(P.priority):Pe===U.prototype.strategy.OVERFLOW_PRIORITY?this._queues.shiftLastFrom(P.priority+1):Pe===U.prototype.strategy.OVERFLOW?f:void 0,ie!=null&&ie.doDrop(),ie==null||Pe===U.prototype.strategy.OVERFLOW)?(ie==null&&f.doDrop(),G):(f.doQueue(G,y),this._queues.push(f),await this._drainAll(),G)}_receive(f){return this._states.jobStatus(f.options.id)!=null?(f._reject(new U.prototype.BottleneckError(`A job with the same id already exists (id=${f.options.id})`)),!1):(f.doReceive(),this._submitLock.schedule(this._addToQueue,f))}submit(...f){var b,y,T,P,G,ie,Pe;return typeof f[0]=="function"?(G=f,[y,...f]=G,[b]=co.call(f,-1),P=Ve.load({},this.jobDefaults)):(ie=f,[P,y,...f]=ie,[b]=co.call(f,-1),P=Ve.load(P,this.jobDefaults)),Pe=(...Ie)=>new this.Promise(function($r,Bu){return y(...Ie,function(...ho){return(ho[0]!=null?Bu:$r)(ho)})}),T=new tr(Pe,f,P,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),T.promise.then(function(Ie){return typeof b=="function"?b(...Ie):void 0}).catch(function(Ie){return Array.isArray(Ie)?typeof b=="function"?b(...Ie):void 0:typeof b=="function"?b(Ie):void 0}),this._receive(T)}schedule(...f){var b,y,T;return typeof f[0]=="function"?([T,...f]=f,y={}):[y,T,...f]=f,b=new tr(T,f,y,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),this._receive(b),b.promise}wrap(f){var b,y;return b=this.schedule.bind(this),y=function(...T){return b(f.bind(this),...T)},y.withOptions=function(T,...P){return b(T,f,...P)},y}async updateSettings(f={}){return await this._store.__updateSettings__(Ve.overwrite(f,this.storeDefaults)),Ve.overwrite(f,this.instanceDefaults,this),this}currentReservoir(){return this._store.__currentReservoir__()}incrementReservoir(f=0){return this._store.__incrementReservoir__(f)}}return U.default=U,U.Events=mt,U.version=U.prototype.version=Ke.version,U.strategy=U.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},U.BottleneckError=U.prototype.BottleneckError=w,U.Group=U.prototype.Group=Cr,U.RedisConnection=U.prototype.RedisConnection=k,U.IORedisConnection=U.prototype.IORedisConnection=S,U.Batcher=U.prototype.Batcher=Ir,U.prototype.jobDefaults={priority:Re,weight:1,expiration:null,id:"<no-id>"},U.prototype.storeDefaults={maxConcurrent:null,minTime:0,highWater:null,strategy:U.prototype.strategy.LEAK,penalty:null,reservoir:null,reservoirRefreshInterval:null,reservoirRefreshAmount:null,reservoirIncreaseInterval:null,reservoirIncreaseAmount:null,reservoirIncreaseMaximum:null},U.prototype.localStoreDefaults={Promise,timeout:null,heartbeatInterval:250},U.prototype.redisStoreDefaults={Promise,timeout:null,heartbeatInterval:5e3,clientTimeout:1e4,Redis:null,clientOptions:{},clusterNodes:null,clearDatastore:!1,connection:null},U.prototype.instanceDefaults={datastore:"local",connection:null,id:"<no-id>",rejectOnDrop:!0,trackDoneStatus:!1,Promise},U.prototype.stopDefaults={enqueueErrorMessage:"This limiter has been stopped and cannot accept new jobs.",dropWaitingJobs:!0,dropErrorMessage:"This limiter has been stopped."},U}.call(r);var uo=ue,Mu=uo;return Mu})});async function Qf(t,e,r,n){if(!r.request||!r.request.request)throw r;if(r.status>=400&&!e.doNotRetry.includes(r.status)){let i=n.request.retries!=null?n.request.retries:e.retries,s=Math.pow((n.request.retryCount||0)+1,2);throw t.retry.retryRequest(r,i,s)}throw r}async function Jf(t,e,r){let n=new Vf;return n.on("failed",function(i,s){let o=~~i.request.request.retries,a=~~i.request.request.retryAfter;if(r.request.retryCount=s.retryCount+1,o>s.retryCount)return a*t.retryAfterBaseValue}),n.schedule(e,r)}var Xf="3.0.9";function Ba(t,e){let r=Object.assign({enabled:!0,retryAfterBaseValue:1e3,doNotRetry:[400,401,403,404,422],retries:3},e.retry);return r.enabled&&(t.hook.error("request",Qf.bind(null,t,r)),t.hook.wrap("request",Jf.bind(null,r))),{retry:{retryRequest:(n,i,s)=>(n.request.request=Object.assign({},n.request.request,{retries:i,retryAfter:s}),n)}}}Ba.VERSION=Xf;var Rn=function(e){return btoa(e)};function ed(t){let e=t.clientType||"oauth-app",r=t.baseUrl||"https://github.com",n={clientType:e,allowSignup:t.allowSignup!==!1,clientId:t.clientId,login:t.login||null,redirectUrl:t.redirectUrl||null,state:t.state||Math.random().toString(36).substr(2),url:""};if(e==="oauth-app"){let i="scopes"in t?t.scopes:[];n.scopes=typeof i=="string"?i.split(/[,\s]+/).filter(Boolean):i}return n.url=Zf(`${r}/login/oauth/authorize`,n),n}function Zf(t,e){let r={allowSignup:"allow_signup",clientId:"client_id",login:"login",redirectUrl:"redirect_uri",scopes:"scope",state:"state"},n=t;return Object.keys(r).filter(i=>e[i]!==null).filter(i=>i!=="scopes"?!0:e.clientType==="github-app"?!1:!Array.isArray(e[i])||e[i].length>0).map(i=>[r[i],`${e[i]}`]).forEach(([i,s],o)=>{n+=o===0?"?":"&",n+=`${i}=${encodeURIComponent(s)}`}),n}var td=Object.freeze({__proto__:null,oauthAuthorizationUrl:ed}),_e=nt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function r(g){return g&&typeof g=="object"&&"default"in g?g.default:g}var n=r(Rn);let i="1.2.6";function s(g,x){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);x&&(I=I.filter(function(N){return Object.getOwnPropertyDescriptor(g,N).enumerable})),A.push.apply(A,I)}return A}function o(g){for(var x=1;x<arguments.length;x++){var A=arguments[x]!=null?arguments[x]:{};x%2?s(Object(A),!0).forEach(function(I){a(g,I,A[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):s(Object(A)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(A,I))})}return g}function a(g,x,A){return x in g?Object.defineProperty(g,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):g[x]=A,g}function l(g,x){if(g==null)return{};var A={},I=Object.keys(g),N,Z;for(Z=0;Z<I.length;Z++)N=I[Z],!(x.indexOf(N)>=0)&&(A[N]=g[N]);return A}function c(g,x){if(g==null)return{};var A=l(g,x),I,N;if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(g);for(N=0;N<Z.length;N++)I=Z[N],!(x.indexOf(I)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,I)||(A[I]=g[I]))}return A}function u(g){let x=g.endpoint.DEFAULTS;return/^https:\/\/(api\.)?github\.com$/.test(x.baseUrl)?"https://github.com":x.baseUrl.replace("/api/v3","")}async function h(g,x,A){let I=o({baseUrl:u(g),headers:{accept:"application/json"}},A),N=await g(x,I);if("error"in N.data){let Z=new kf.RequestError(`${N.data.error_description} (${N.data.error}, ${N.data.error_uri})`,400,{request:g.endpoint.merge(x,I),headers:N.headers});throw Z.response=N,Z}return N}let d=["request"];function p(g){let{request:x=Ze.request}=g,A=c(g,d),I=u(x);return td.oauthAuthorizationUrl(o(o({},A),{},{baseUrl:I}))}async function v(g){let x=g.request||Ze.request,A=await h(x,"POST /login/oauth/access_token",{client_id:g.clientId,client_secret:g.clientSecret,code:g.code,redirect_uri:g.redirectUrl}),I={clientType:g.clientType,clientId:g.clientId,clientSecret:g.clientSecret,token:A.data.access_token,scopes:A.data.scope.split(/\s+/).filter(Boolean)};if(g.clientType==="github-app"){if("refresh_token"in A.data){let N=new Date(A.headers.date).getTime();I.refreshToken=A.data.refresh_token,I.expiresAt=R(N,A.data.expires_in),I.refreshTokenExpiresAt=R(N,A.data.refresh_token_expires_in)}delete I.scopes}return o(o({},A),{},{authentication:I})}function R(g,x){return new Date(g+x*1e3).toISOString()}async function w(g){let x=g.request||Ze.request,A={client_id:g.clientId};return"scopes"in g&&Array.isArray(g.scopes)&&(A.scope=g.scopes.join(" ")),h(x,"POST /login/device/code",A)}async function $(g){let x=g.request||Ze.request,A=await h(x,"POST /login/oauth/access_token",{client_id:g.clientId,device_code:g.code,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),I={clientType:g.clientType,clientId:g.clientId,token:A.data.access_token,scopes:A.data.scope.split(/\s+/).filter(Boolean)};if("clientSecret"in g&&(I.clientSecret=g.clientSecret),g.clientType==="github-app"){if("refresh_token"in A.data){let N=new Date(A.headers.date).getTime();I.refreshToken=A.data.refresh_token,I.expiresAt=D(N,A.data.expires_in),I.refreshTokenExpiresAt=D(N,A.data.refresh_token_expires_in)}delete I.scopes}return o(o({},A),{},{authentication:I})}function D(g,x){return new Date(g+x*1e3).toISOString()}async function K(g){let A=await(g.request||Ze.request)("POST /applications/{client_id}/token",{headers:{authorization:`basic ${n(`${g.clientId}:${g.clientSecret}`)}`},client_id:g.clientId,access_token:g.token}),I={clientType:g.clientType,clientId:g.clientId,clientSecret:g.clientSecret,token:g.token,scopes:A.data.scopes};return A.data.expires_at&&(I.expiresAt=A.data.expires_at),g.clientType==="github-app"&&delete I.scopes,o(o({},A),{},{authentication:I})}async function H(g){let x=g.request||Ze.request,A=await h(x,"POST /login/oauth/access_token",{client_id:g.clientId,client_secret:g.clientSecret,grant_type:"refresh_token",refresh_token:g.refreshToken}),I=new Date(A.headers.date).getTime(),N={clientType:"github-app",clientId:g.clientId,clientSecret:g.clientSecret,token:A.data.access_token,refreshToken:A.data.refresh_token,expiresAt:ne(I,A.data.expires_in),refreshTokenExpiresAt:ne(I,A.data.refresh_token_expires_in)};return o(o({},A),{},{authentication:N})}function ne(g,x){return new Date(g+x*1e3).toISOString()}let V=["request","clientType","clientId","clientSecret","token"];async function le(g){let{request:x,clientType:A,clientId:I,clientSecret:N,token:Z}=g,ye=c(g,V),ge=await(x||Ze.request)("POST /applications/{client_id}/token/scoped",o({headers:{authorization:`basic ${n(`${I}:${N}`)}`},client_id:I,access_token:Z},ye)),m=Object.assign({clientType:A,clientId:I,clientSecret:N,token:ge.data.token},ge.data.expires_at?{expiresAt:ge.data.expires_at}:{});return o(o({},ge),{},{authentication:m})}async function Se(g){let x=g.request||Ze.request,A=n(`${g.clientId}:${g.clientSecret}`),I=await x("PATCH /applications/{client_id}/token",{headers:{authorization:`basic ${A}`},client_id:g.clientId,access_token:g.token}),N={clientType:g.clientType,clientId:g.clientId,clientSecret:g.clientSecret,token:I.data.token,scopes:I.data.scopes};return I.data.expires_at&&(N.expiresAt=I.data.expires_at),g.clientType==="github-app"&&delete N.scopes,o(o({},I),{},{authentication:N})}async function j(g){let x=g.request||Ze.request,A=n(`${g.clientId}:${g.clientSecret}`);return x("DELETE /applications/{client_id}/token",{headers:{authorization:`basic ${A}`},client_id:g.clientId,access_token:g.token})}async function C(g){let x=g.request||Ze.request,A=n(`${g.clientId}:${g.clientSecret}`);return x("DELETE /applications/{client_id}/grant",{headers:{authorization:`basic ${A}`},client_id:g.clientId,access_token:g.token})}e.VERSION=i,e.checkToken=K,e.createDeviceCode=w,e.deleteAuthorization=C,e.deleteToken=j,e.exchangeDeviceCode=$,e.exchangeWebFlowCode=v,e.getWebFlowAuthorizationUrl=p,e.refreshToken=H,e.resetToken=Se,e.scopeToken=le});async function qa(t,e){let r=rd(t,e.auth);if(r)return r;let{data:n}=await _e.createDeviceCode({clientType:t.clientType,clientId:t.clientId,request:e.request||t.request,scopes:e.auth.scopes||t.scopes});await t.onVerification(n);let i=await Ui(e.request||t.request,t.clientId,t.clientType,n);return t.authentication=i,i}function rd(t,e){if(e.refresh===!0||!t.authentication)return!1;if(t.clientType==="github-app")return t.authentication;let r=t.authentication,n=("scopes"in e&&e.scopes||t.scopes).join(" "),i=r.scopes.join(" ");return n===i?r:!1}async function Ha(t){await new Promise(e=>setTimeout(e,t*1e3))}async function Ui(t,e,r,n){try{let i={clientId:e,request:t,code:n.device_code},{authentication:s}=r==="oauth-app"?await _e.exchangeDeviceCode({...i,clientType:"oauth-app"}):await _e.exchangeDeviceCode({...i,clientType:"github-app"});return{type:"token",tokenType:"oauth",...s}}catch(i){if(!i.response)throw i;let s=i.response.data.error;if(s==="authorization_pending")return await Ha(n.interval),Ui(t,e,r,n);if(s==="slow_down")return await Ha(n.interval+5),Ui(t,e,r,n);throw i}}async function nd(t,e){return qa(t,{auth:e})}async function id(t,e,r,n){let i=e.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);let{token:s}=await qa(t,{request:e,auth:{type:"oauth"}});return i.headers.authorization=`token ${s}`,e(i)}var sd="3.1.2";function od(t){let e=t.request||at.defaults({headers:{"user-agent":`octokit-auth-oauth-device.js/${sd} ${ot()}`}}),{request:r=e,...n}=t,i=t.clientType==="github-app"?{...n,clientType:"github-app",request:r}:{...n,clientType:"oauth-app",request:r,scopes:t.scopes||[]};if(!t.clientId)throw new Error('[@octokit/auth-oauth-device] "clientId" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)');if(!t.onVerification)throw new Error('[@octokit/auth-oauth-device] "onVerification" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)');return Object.assign(nd.bind(null,i),{hook:id.bind(null,i)})}var za="1.3.0";async function Wa(t){if("code"in t.strategyOptions){let{authentication:e}=await _e.exchangeWebFlowCode({clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,...t.strategyOptions,request:t.request});return{type:"token",tokenType:"oauth",...e}}if("onVerification"in t.strategyOptions){let r=await od({clientType:t.clientType,clientId:t.clientId,...t.strategyOptions,request:t.request})({type:"oauth"});return{clientSecret:t.clientSecret,...r}}if("token"in t.strategyOptions)return{type:"token",tokenType:"oauth",clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,...t.strategyOptions};throw new Error("[@octokit/auth-oauth-user] Invalid strategy options")}async function Mi(t,e={}){if(t.authentication||(t.authentication=t.clientType==="oauth-app"?await Wa(t):await Wa(t)),t.authentication.invalid)throw new Error("[@octokit/auth-oauth-user] Token is invalid");let r=t.authentication;if("expiresAt"in r&&(e.type==="refresh"||new Date(r.expiresAt)<new Date)){let{authentication:n}=await _e.refreshToken({clientType:"github-app",clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:r.refreshToken,request:t.request});t.authentication={tokenType:"oauth",type:"token",...n}}if(e.type==="refresh"){if(t.clientType==="oauth-app")throw new Error("[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens");if(!r.hasOwnProperty("expiresAt"))throw new Error("[@octokit/auth-oauth-user] Refresh token missing")}if(e.type==="check"||e.type==="reset"){let n=e.type==="check"?_e.checkToken:_e.resetToken;try{let{authentication:i}=await n({clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:t.authentication.token,request:t.request});return t.authentication={tokenType:"oauth",type:"token",...i},t.authentication}catch(i){throw i.status===404&&(i.message="[@octokit/auth-oauth-user] Token is invalid",t.authentication.invalid=!0),i}}if(e.type==="delete"||e.type==="deleteAuthorization"){let n=e.type==="delete"?_e.deleteToken:_e.deleteAuthorization;try{await n({clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:t.authentication.token,request:t.request})}catch(i){if(i.status!==404)throw i}return t.authentication.invalid=!0,t.authentication}return t.authentication}var ad=/\/applications\/[^/]+\/(token|grant)s?/;function Pn(t){return t&&ad.test(t)}async function ld(t,e,r,n={}){let i=e.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);if(Pn(i.url)){let o=Rn(`${t.clientId}:${t.clientSecret}`);return i.headers.authorization=`basic ${o}`,e(i)}let{token:s}=t.clientType==="oauth-app"?await Mi({...t,request:e}):await Mi({...t,request:e});return i.headers.authorization="token "+s,e(i)}function cr({clientId:t,clientSecret:e,clientType:r="oauth-app",request:n=at.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${za} ${ot()}`}}),...i}){let s=Object.assign({clientType:r,clientId:t,clientSecret:e,strategyOptions:i,request:n});return Object.assign(Mi.bind(null,s),{hook:ld.bind(null,s)})}cr.VERSION=za;var Br=Object.freeze({__proto__:null,createOAuthUserAuth:cr,requiresBasicAuth:Pn});async function cd(t,e){if(e.type==="oauth-app")return{type:"oauth-app",clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,headers:{authorization:`basic ${Rn(`${t.clientId}:${t.clientSecret}`)}`}};if("factory"in e){let{type:i,...s}={...e,...t};return e.factory(s)}let r={clientId:t.clientId,clientSecret:t.clientSecret,request:t.request,...e};return(t.clientType==="oauth-app"?await cr({...r,clientType:t.clientType}):await cr({...r,clientType:t.clientType}))()}async function ud(t,e,r,n){let i=e.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);if(t.clientType==="github-app"&&!Pn(i.url))throw new Error(`[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than "/applications/{client_id}/**". "${i.method} ${i.url}" is not supported.`);let s=Rn(`${t.clientId}:${t.clientSecret}`);i.headers.authorization=`basic ${s}`;try{return await e(i)}catch(o){throw o.status!==401||(o.message=`[@octokit/auth-oauth-app] "${i.method} ${i.url}" does not support clientId/clientSecret basic authentication.`),o}}var hd="4.3.0";function Ya(t){let e=Object.assign({request:at.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${hd} ${ot()}`}}),clientType:"oauth-app"},t);return Object.assign(cd.bind(null,e),{hook:ud.bind(null,e)})}var Ka=Object.freeze({__proto__:null,createOAuthAppAuth:Ya,createOAuthUserAuth:cr});function Va(t){let e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0,i=t.length;n<i;n++)r[n]=t.charCodeAt(n);return e}function pd(t){let e=t.trim().split(`
`).slice(1,-1).join(""),r=atob(e);return Va(r)}function fd(t,e){return`${Qa(t)}.${Qa(e)}`}function dd(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,i=0;i<n;i++)e+=String.fromCharCode(r[i]);return Ja(btoa(e))}function Ja(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qa(t){return Ja(btoa(JSON.stringify(t)))}var gd=async({privateKey:t,payload:e})=>{if(/BEGIN RSA PRIVATE KEY/.test(t))throw new Error("[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#readme");let r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},n={alg:"RS256",typ:"JWT"},i=pd(t),s=await crypto.subtle.importKey("pkcs8",i,r,!1,["sign"]),o=fd(n,e),a=Va(o),l=await crypto.subtle.sign(r.name,s,a),c=dd(l);return`${o}.${c}`};async function md({id:t,privateKey:e,now:r=Math.floor(Date.now()/1e3)}){let n=r-30,i=n+60*10,o=await gd({privateKey:e,payload:{iat:n,exp:i,iss:t}});return{appId:t,expiration:i,token:o}}var _d=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}},bd=re;re.Node=$t;re.create=re;function re(t){var e=this;if(e instanceof re||(e=new re),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}re.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};re.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};re.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};re.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)wd(this,arguments[t]);return this.length};re.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)yd(this,arguments[t]);return this.length};re.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};re.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};re.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};re.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};re.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};re.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};re.prototype.map=function(t,e){e=e||this;for(var r=new re,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};re.prototype.mapReverse=function(t,e){e=e||this;for(var r=new re,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};re.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};re.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};re.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};re.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};re.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new re;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};re.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new re;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};re.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=vd(this,i,r[n]);return s};re.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function vd(t,e,r){var n=e===t.head?new $t(r,null,e,t):new $t(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function wd(t,e){t.tail=new $t(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function yd(t,e){t.head=new $t(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function $t(t,e,r,n){if(!(this instanceof $t))return new $t(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{_d(re)}catch(t){}var Ft=Symbol("max"),lt=Symbol("length"),ur=Symbol("lengthCalculator"),qr=Symbol("allowStale"),Lt=Symbol("maxAge"),ct=Symbol("dispose"),Xa=Symbol("noDisposeOnSet"),Te=Symbol("lruList"),He=Symbol("cache"),Za=Symbol("updateAgeOnGet"),Bi=()=>1,el=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Ft]=e.max||Infinity,n=e.length||Bi;if(this[ur]=typeof n!="function"?Bi:n,this[qr]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Lt]=e.maxAge||0,this[ct]=e.dispose,this[Xa]=e.noDisposeOnSet||!1,this[Za]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ft]=e||Infinity,Hr(this)}get max(){return this[Ft]}set allowStale(e){this[qr]=!!e}get allowStale(){return this[qr]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Lt]=e,Hr(this)}get maxAge(){return this[Lt]}set lengthCalculator(e){typeof e!="function"&&(e=Bi),e!==this[ur]&&(this[ur]=e,this[lt]=0,this[Te].forEach(r=>{r.length=this[ur](r.value,r.key),this[lt]+=r.length})),Hr(this)}get lengthCalculator(){return this[ur]}get length(){return this[lt]}get itemCount(){return this[Te].length}rforEach(e,r){r=r||this;for(let n=this[Te].tail;n!==null;){let i=n.prev;rl(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Te].head;n!==null;){let i=n.next;rl(this,e,n,r),n=i}}keys(){return this[Te].toArray().map(e=>e.key)}values(){return this[Te].toArray().map(e=>e.value)}reset(){this[ct]&&this[Te]&&this[Te].length&&this[Te].forEach(e=>this[ct](e.key,e.value)),this[He]=new Map,this[Te]=new bd,this[lt]=0}dump(){return this[Te].map(e=>On(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Te]}set(e,r,n){if(n=n||this[Lt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[ur](r,e);if(this[He].has(e)){if(s>this[Ft])return hr(this,this[He].get(e)),!1;let l=this[He].get(e).value;return this[ct]&&(this[Xa]||this[ct](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[lt]+=s-l.length,l.length=s,this.get(e),Hr(this),!0}let o=new tl(e,r,s,i,n);return o.length>this[Ft]?(this[ct]&&this[ct](e,r),!1):(this[lt]+=o.length,this[Te].unshift(o),this[He].set(e,this[Te].head),Hr(this),!0)}has(e){if(!this[He].has(e))return!1;let r=this[He].get(e).value;return!On(this,r)}get(e){return qi(this,e,!0)}peek(e){return qi(this,e,!1)}pop(){let e=this[Te].tail;return e?(hr(this,e),e.value):null}del(e){hr(this,this[He].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[He].forEach((e,r)=>qi(this,r,!1))}},qi=(t,e,r)=>{let n=t[He].get(e);if(n){let i=n.value;if(On(t,i)){if(hr(t,n),!t[qr])return}else r&&(t[Za]&&(n.value.now=Date.now()),t[Te].unshiftNode(n));return i.value}},On=(t,e)=>{if(!e||!e.maxAge&&!t[Lt])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Lt]&&r>t[Lt]},Hr=t=>{if(t[lt]>t[Ft])for(let e=t[Te].tail;t[lt]>t[Ft]&&e!==null;){let r=e.prev;hr(t,e),e=r}},hr=(t,e)=>{if(e){let r=e.value;t[ct]&&t[ct](r.key,r.value),t[lt]-=r.length,t[He].delete(r.key),t[Te].removeNode(e)}},tl=class{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},rl=(t,e,r,n)=>{let i=r.value;On(t,i)&&(hr(t,r),t[qr]||(i=void 0)),i&&e.call(n,i.value,i.key,t)},Ed=el;async function Cn({appId:t,privateKey:e,timeDifference:r}){try{let n=await md({id:+t,privateKey:e,now:r&&Math.floor(Date.now()/1e3)+r});return{type:"app",token:n.token,appId:n.appId,expiresAt:new Date(n.expiration*1e3).toISOString()}}catch(n){throw e==="-----BEGIN RSA PRIVATE KEY-----"?new Error("The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\n'"):n}}function Td(){return new Ed({max:15e3,maxAge:1e3*60*59})}async function kd(t,e){let r=nl(e),n=await t.get(r);if(!n)return;let[i,s,o,a,l,c]=n.split("|"),u=e.permissions||l.split(/,/).reduce((h,d)=>(/!$/.test(d)?h[d.slice(0,-1)]="write":h[d]="read",h),{});return{token:i,createdAt:s,expiresAt:o,permissions:u,repositoryIds:e.repositoryIds,repositoryNames:e.repositoryNames,singleFileName:c,repositorySelection:a}}async function xd(t,e,r){let n=nl(e),i=e.permissions?"":Object.keys(r.permissions).map(o=>`${o}${r.permissions[o]==="write"?"!":""}`).join(","),s=[r.token,r.createdAt,r.expiresAt,r.repositorySelection,i,r.singleFileName].join("|");await t.set(n,s)}function nl({installationId:t,permissions:e={},repositoryIds:r=[],repositoryNames:n=[]}){let i=Object.keys(e).sort().map(a=>e[a]==="read"?a:`${a}!`).join(","),s=r.sort().join(","),o=n.join(",");return[t,s,o,i].filter(Boolean).join("|")}function il({installationId:t,token:e,createdAt:r,expiresAt:n,repositorySelection:i,permissions:s,repositoryIds:o,repositoryNames:a,singleFileName:l}){return Object.assign({type:"token",tokenType:"installation",token:e,installationId:t,permissions:s,createdAt:r,expiresAt:n,repositorySelection:i},o?{repositoryIds:o}:null,a?{repositoryNames:a}:null,l?{singleFileName:l}:null)}async function sl(t,e,r){let n=Number(e.installationId||t.installationId);if(!n)throw new Error("[@octokit/auth-app] installationId option is required for installation authentication.");if(e.factory){let{type:D,factory:K,oauthApp:H,...ne}={...t,...e};return K(ne)}let i=Object.assign({installationId:n},e);if(!e.refresh){let D=await kd(t.cache,i);if(D){let{token:K,createdAt:H,expiresAt:ne,permissions:V,repositoryIds:le,repositoryNames:Se,singleFileName:j,repositorySelection:C}=D;return il({installationId:n,token:K,createdAt:H,expiresAt:ne,permissions:V,repositorySelection:C,repositoryIds:le,repositoryNames:Se,singleFileName:j})}}let s=await Cn(t),o=r||t.request,{data:{token:a,expires_at:l,repositories:c,permissions:u,repository_selection:h,single_file:d}}=await o("POST /app/installations/{installation_id}/access_tokens",{installation_id:n,repository_ids:e.repositoryIds,repositories:e.repositoryNames,permissions:e.permissions,mediaType:{previews:["machine-man"]},headers:{authorization:`bearer ${s.token}`}}),p=u||{},v=h||"all",R=c?c.map(D=>D.id):void 0,w=c?c.map(D=>D.name):void 0,$=new Date().toISOString();return await xd(t.cache,i,{token:a,createdAt:$,expiresAt:l,repositorySelection:v,permissions:p,repositoryIds:R,repositoryNames:w,singleFileName:d}),il({installationId:n,token:a,createdAt:$,expiresAt:l,repositorySelection:v,permissions:p,repositoryIds:R,repositoryNames:w,singleFileName:d})}async function Ad(t,e){switch(e.type){case"app":return Cn(t);case"oauth":t.log.warn(new An('[@octokit/auth-app] {type: "oauth"} is deprecated. Use {type: "oauth-app"} instead'));case"oauth-app":return t.oauthApp({type:"oauth-app"});case"installation":return sl(t,{...e,type:"installation"});case"oauth-user":return t.oauthApp(e);default:throw new Error(`Invalid auth type: ${e.type}`)}}var Sd=["/app","/app/hook/config","/app/hook/deliveries","/app/hook/deliveries/{delivery_id}","/app/hook/deliveries/{delivery_id}/attempts","/app/installations","/app/installations/{installation_id}","/app/installations/{installation_id}/access_tokens","/app/installations/{installation_id}/suspended","/marketplace_listing/accounts/{account_id}","/marketplace_listing/plan","/marketplace_listing/plans","/marketplace_listing/plans/{plan_id}/accounts","/marketplace_listing/stubbed/accounts/{account_id}","/marketplace_listing/stubbed/plan","/marketplace_listing/stubbed/plans","/marketplace_listing/stubbed/plans/{plan_id}/accounts","/orgs/{org}/installation","/repos/{owner}/{repo}/installation","/users/{username}/installation"];function Rd(t){let r=`^(?:${t.map(n=>n.split("/").map(i=>i.startsWith("{")?"(?:.+?)":i).join("/")).map(n=>`(?:${n})`).join("|")})[^/]*$`;return new RegExp(r,"i")}var Pd=Rd(Sd);function Od(t){return!!t&&Pd.test(t)}var Cd=5*1e3;function Id(t){return!(t.message.match(/'Expiration time' claim \('exp'\) must be a numeric value representing the future time at which the assertion expires/)||t.message.match(/'Issued at' claim \('iat'\) must be an Integer representing the time that the assertion was issued/))}async function jd(t,e,r,n){let i=e.endpoint.merge(r,n),s=i.url;if(/\/login\/oauth\/access_token$/.test(s))return e(i);if(Od(s.replace(e.endpoint.DEFAULTS.baseUrl,""))){let{token:l}=await Cn(t);i.headers.authorization=`bearer ${l}`;let c;try{c=await e(i)}catch(u){if(Id(u)||typeof u.response.headers.date=="undefined")throw u;let h=Math.floor((Date.parse(u.response.headers.date)-Date.parse(new Date().toString()))/1e3);t.log.warn(u.message),t.log.warn(`[@octokit/auth-app] GitHub API time and system time are different by ${h} seconds. Retrying request with the difference accounted for.`);let{token:d}=await Cn({...t,timeDifference:h});return i.headers.authorization=`bearer ${d}`,e(i)}return c}if(Pn(s)){let l=await t.oauthApp({type:"oauth-app"});return i.headers.authorization=l.headers.authorization,e(i)}let{token:o,createdAt:a}=await sl(t,{},e);return i.headers.authorization=`token ${o}`,ol(t,e,i,a)}async function ol(t,e,r,n,i=0){let s=+new Date-+new Date(n);try{return await e(r)}catch(o){if(o.status!==401)throw o;if(s>=Cd)throw i>0&&(o.message=`After ${i} retries within ${s/1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`),o;++i;let a=i*1e3;return t.log.warn(`[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${i}, wait: ${a/1e3}s)`),await new Promise(l=>setTimeout(l,a)),ol(t,e,r,n,i)}}var $d="3.6.1";function Fd(t){if(!t.appId)throw new Error("[@octokit/auth-app] appId option is required");if(!t.privateKey)throw new Error("[@octokit/auth-app] privateKey option is required");if("installationId"in t&&!t.installationId)throw new Error("[@octokit/auth-app] installationId is set to a falsy value");let e=Object.assign({warn:console.warn.bind(console)},t.log),r=t.request||at.defaults({headers:{"user-agent":`octokit-auth-app.js/${$d} ${ot()}`}}),n=Object.assign({request:r,cache:Td()},t,t.installationId?{installationId:Number(t.installationId)}:{},{log:e,oauthApp:Ya({clientType:"github-app",clientId:t.clientId||"",clientSecret:t.clientSecret||"",request:r})});return Object.assign(Ad.bind(null,n),{hook:jd.bind(null,n)})}var Hi=Object.freeze({__proto__:null,createAppAuth:Fd,createOAuthUserAuth:cr});async function Ld(t){return{type:"unauthenticated",reason:t}}function Gd(t){return t.status!==403||!t.response?!1:t.response.headers["x-ratelimit-remaining"]==="0"}var Dd=/\babuse\b/i;function Nd(t){return t.status!==403?!1:Dd.test(t.message)}async function Ud(t,e,r,n){let i=e.endpoint.merge(r,n);return e(i).catch(s=>{throw s.status===404?(s.message=`Not found. May be due to lack of authentication. Reason: ${t}`,s):Gd(s)?(s.message=`API rate limit exceeded. This maybe caused by the lack of authentication. Reason: ${t}`,s):Nd(s)?(s.message=`You have triggered an abuse detection mechanism. This maybe caused by the lack of authentication. Reason: ${t}`,s):s.status===401?(s.message=`Unauthorized. "${i.method} ${i.url}" failed most likely due to lack of authentication. Reason: ${t}`,s):(s.status>=400&&s.status<500&&(s.message=s.message.replace(/\.?$/,`. May be caused by lack of authentication (${t}).`)),s)})}var Md=function(e){if(!e||!e.reason)throw new Error("[@octokit/auth-unauthenticated] No reason passed to createUnauthenticatedAuth");return Object.assign(Ld.bind(null,e.reason),{hook:Ud.bind(null,e.reason)})},In=Object.freeze({__proto__:null,createUnauthenticatedAuth:Md});var Bd=function(e){return[...e].reduce((r,[n,i])=>(r[n]=i,r),{})},zi=nt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function r(m){return m&&typeof m=="object"&&"default"in m?m.default:m}var n=r(Bd);function i(m,k){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(m);k&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(m,q).enumerable})),S.push.apply(S,L)}return S}function s(m){for(var k=1;k<arguments.length;k++){var S=arguments[k]!=null?arguments[k]:{};k%2?i(Object(S),!0).forEach(function(L){o(m,L,S[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):i(Object(S)).forEach(function(L){Object.defineProperty(m,L,Object.getOwnPropertyDescriptor(S,L))})}return m}function o(m,k,S){return k in m?Object.defineProperty(m,k,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[k]=S,m}let a="3.6.0";function l(m,k,S){if(Array.isArray(k)){for(let L of k)l(m,L,S);return}m.eventHandlers[k]||(m.eventHandlers[k]=[]),m.eventHandlers[k].push(S)}let c=La.Octokit.defaults({userAgent:`octokit-oauth-app.js/${a} ${Jp.getUserAgent()}`});async function u(m,k){let{name:S,action:L}=k;if(m.eventHandlers[`${S}.${L}`])for(let q of m.eventHandlers[`${S}.${L}`])await q(k);if(m.eventHandlers[S])for(let q of m.eventHandlers[S])await q(k)}async function h(m,k){return m.octokit.auth(s(s({type:"oauth-user"},k),{},{async factory(S){let L=new m.Octokit({authStrategy:Br.createOAuthUserAuth,auth:S}),q=await L.auth({type:"get"});return await u(m,{name:"token",action:"created",token:q.token,scopes:q.scopes,authentication:q,octokit:L}),L}}))}function d(m,k){let S=s(s({clientId:m.clientId,request:m.octokit.request},k),{},{allowSignup:k.allowSignup||m.allowSignup,scopes:k.scopes||m.defaultScopes});return _e.getWebFlowAuthorizationUrl(s({clientType:m.clientType},S))}async function p(m,k){let S=await m.octokit.auth(s({type:"oauth-user"},k));return await u(m,{name:"token",action:"created",token:S.token,scopes:S.scopes,authentication:S,octokit:new m.Octokit({authStrategy:Ka.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:S.token,scopes:S.scopes,refreshToken:S.refreshToken,expiresAt:S.expiresAt,refreshTokenExpiresAt:S.refreshTokenExpiresAt}})}),{authentication:S}}async function v(m,k){let S=await _e.checkToken(s({clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k));return Object.assign(S.authentication,{type:"token",tokenType:"oauth"}),S}async function R(m,k){let S=s({clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k);if(m.clientType==="oauth-app"){let Q=await _e.resetToken(s({clientType:"oauth-app"},S)),Ce=Object.assign(Q.authentication,{type:"token",tokenType:"oauth"});return await u(m,{name:"token",action:"reset",token:Q.authentication.token,scopes:Q.authentication.scopes||void 0,authentication:Ce,octokit:new m.Octokit({authStrategy:Br.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:Q.authentication.token,scopes:Q.authentication.scopes}})}),s(s({},Q),{},{authentication:Ce})}let L=await _e.resetToken(s({clientType:"github-app"},S)),q=Object.assign(L.authentication,{type:"token",tokenType:"oauth"});return await u(m,{name:"token",action:"reset",token:L.authentication.token,authentication:q,octokit:new m.Octokit({authStrategy:Br.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:L.authentication.token}})}),s(s({},L),{},{authentication:q})}async function w(m,k){if(m.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.refreshToken() is not supported for OAuth Apps");let S=await _e.refreshToken({clientType:"github-app",clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request,refreshToken:k.refreshToken}),L=Object.assign(S.authentication,{type:"token",tokenType:"oauth"});return await u(m,{name:"token",action:"refreshed",token:S.authentication.token,authentication:L,octokit:new m.Octokit({authStrategy:Br.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:S.authentication.token}})}),s(s({},S),{},{authentication:L})}async function $(m,k){if(m.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.scopeToken() is not supported for OAuth Apps");let S=await _e.scopeToken(s({clientType:"github-app",clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k)),L=Object.assign(S.authentication,{type:"token",tokenType:"oauth"});return await u(m,{name:"token",action:"scoped",token:S.authentication.token,authentication:L,octokit:new m.Octokit({authStrategy:Br.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:S.authentication.token}})}),s(s({},S),{},{authentication:L})}async function D(m,k){let S=s({clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k),L=m.clientType==="oauth-app"?await _e.deleteToken(s({clientType:"oauth-app"},S)):await _e.deleteToken(s({clientType:"github-app"},S));return await u(m,{name:"token",action:"deleted",token:k.token,octokit:new m.Octokit({authStrategy:In.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),L}async function K(m,k){let S=s({clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k),L=m.clientType==="oauth-app"?await _e.deleteAuthorization(s({clientType:"oauth-app"},S)):await _e.deleteAuthorization(s({clientType:"github-app"},S));return await u(m,{name:"token",action:"deleted",token:k.token,octokit:new m.Octokit({authStrategy:In.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),await u(m,{name:"authorization",action:"deleted",token:k.token,octokit:new m.Octokit({authStrategy:In.createUnauthenticatedAuth,auth:{reason:'Handling "authorization.deleted" event. The access for the app has been revoked.'}})}),L}function H(m){let{method:k,url:S,headers:L}=m;async function q(){return await new Promise((Ce,rt)=>{let ve=[];m.on("error",rt).on("data",Ne=>ve.push(Ne)).on("end",()=>Ce(E.concat(ve).toString()))})}return{method:k,url:S,headers:L,text:q}}function ne(m,k){k.writeHead(m.status,m.headers),k.end(m.text)}function V(m){return{status:404,headers:{"content-type":"application/json"},text:JSON.stringify({error:`Unknown route: ${m.method} ${m.url}`})}}async function le(m,{pathPrefix:k="/api/github/oauth"},S){if(S.method==="OPTIONS")return{status:200,headers:{"access-control-allow-origin":"*","access-control-allow-methods":"*","access-control-allow-headers":"Content-Type, User-Agent, Authorization"}};let{pathname:L}=new URL(S.url,"http://localhost"),q=[S.method,L].join(" "),Q={getLogin:`GET ${k}/login`,getCallback:`GET ${k}/callback`,createToken:`POST ${k}/token`,getToken:`GET ${k}/token`,patchToken:`PATCH ${k}/token`,patchRefreshToken:`PATCH ${k}/refresh-token`,scopeToken:`POST ${k}/token/scoped`,deleteToken:`DELETE ${k}/token`,deleteGrant:`DELETE ${k}/grant`};if(!Object.values(Q).includes(q))return null;let Ce;try{let Ke=await S.text();Ce=Ke?JSON.parse(Ke):{}}catch(Ke){return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:"[@octokit/oauth-app] request error"})}}let{searchParams:rt}=new URL(S.url,"http://localhost"),ve=n(rt),Ne=S.headers;try{var Cr;if(q===Q.getLogin){let{url:ue}=m.getWebFlowAuthorizationUrl({state:ve.state,scopes:ve.scopes?ve.scopes.split(","):void 0,allowSignup:ve.allowSignup!=="false",redirectUrl:ve.redirectUrl});return{status:302,headers:{location:ue}}}if(q===Q.getCallback){if(ve.error)throw new Error(`[@octokit/oauth-app] ${ve.error} ${ve.error_description}`);if(!ve.state||!ve.code)throw new Error('[@octokit/oauth-app] Both "code" & "state" parameters are required');let{authentication:{token:ue}}=await m.createToken({state:ve.state,code:ve.code});return{status:200,headers:{"content-type":"text/html"},text:`<h1>Token created successfull</h1>
    
<p>Your token is: <strong>${ue}</strong>. Copy it now as it cannot be shown again.</p>`}}if(q===Q.createToken){let{state:ue,code:Re,redirectUrl:mt}=Ce;if(!ue||!Re)throw new Error('[@octokit/oauth-app] Both "code" & "state" parameters are required');let tr=await m.createToken({state:ue,code:Re,redirectUrl:mt});return delete tr.authentication.clientSecret,{status:201,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(tr)}}if(q===Q.getToken){var Xt;let ue=(Xt=Ne.authorization)===null||Xt===void 0?void 0:Xt.substr("token ".length);if(!ue)throw new Error('[@octokit/oauth-app] "Authorization" header is required');let Re=await m.checkToken({token:ue});return delete Re.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(Re)}}if(q===Q.patchToken){var Zt;let ue=(Zt=Ne.authorization)===null||Zt===void 0?void 0:Zt.substr("token ".length);if(!ue)throw new Error('[@octokit/oauth-app] "Authorization" header is required');let Re=await m.resetToken({token:ue});return delete Re.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(Re)}}if(q===Q.patchRefreshToken){var er;if(!((er=Ne.authorization)===null||er===void 0?void 0:er.substr("token ".length)))throw new Error('[@octokit/oauth-app] "Authorization" header is required');let{refreshToken:Re}=Ce;if(!Re)throw new Error("[@octokit/oauth-app] refreshToken must be sent in request body");let mt=await m.refreshToken({refreshToken:Re});return delete mt.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(mt)}}if(q===Q.scopeToken){var Ir;let ue=(Ir=Ne.authorization)===null||Ir===void 0?void 0:Ir.substr("token ".length);if(!ue)throw new Error('[@octokit/oauth-app] "Authorization" header is required');let Re=await m.scopeToken(s({token:ue},Ce));return delete Re.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(Re)}}if(q===Q.deleteToken){var jr;let ue=(jr=Ne.authorization)===null||jr===void 0?void 0:jr.substr("token ".length);if(!ue)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await m.deleteToken({token:ue}),{status:204,headers:{"access-control-allow-origin":"*"}}}let Ke=(Cr=Ne.authorization)===null||Cr===void 0?void 0:Cr.substr("token ".length);if(!Ke)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await m.deleteAuthorization({token:Ke}),{status:204,headers:{"access-control-allow-origin":"*"}}}catch(Ke){return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:Ke.message})}}}function Se(m,k){let S=H(m),L=V(S);ne(L,k)}function j(m,{pathPrefix:k,onUnhandledRequest:S=Se}={}){return async function(L,q,Q){let Ce=H(L),rt=await le(m,{pathPrefix:k},Ce);rt?ne(rt,q):typeof Q=="function"?Q():S(L,q)}}function C(m){let k=Object.fromEntries(m.headers.entries());return{method:m.method,url:m.url,headers:k,text:()=>m.text()}}function g(m){return new Response(m.text,{status:m.status,headers:m.headers})}async function x(m){let k=C(m),S=V(k);return g(S)}function A(m,{pathPrefix:k,onUnhandledRequest:S=x}={}){return async function(L){let q=C(L),Q=await le(m,{pathPrefix:k},q);return Q?g(Q):await S(L)}}function I(m){let{method:k}=m.requestContext.http,S=m.rawPath,{stage:L}=m.requestContext;S.startsWith("/"+L)&&(S=S.substring(L.length+1)),m.rawQueryString&&(S+="?"+m.rawQueryString);let q=m.headers;return{method:k,url:S,headers:q,text:async()=>m.body||""}}function N(m){return{statusCode:m.status,headers:m.headers,body:m.text}}async function Z(m){let k=I(m),S=V(k);return N(S)}function ye(m,{pathPrefix:k,onUnhandledRequest:S=Z}={}){return async function(L){let q=I(L),Q=await le(m,{pathPrefix:k},q);return Q?N(Q):S(L)}}class ge{constructor(k){let S=k.Octokit||c;this.type=k.clientType||"oauth-app";let L=new S({authStrategy:Ka.createOAuthAppAuth,auth:{clientType:this.type,clientId:k.clientId,clientSecret:k.clientSecret}}),q={clientType:this.type,clientId:k.clientId,clientSecret:k.clientSecret,defaultScopes:k.defaultScopes||[],allowSignup:k.allowSignup,baseUrl:k.baseUrl,log:k.log,Octokit:S,octokit:L,eventHandlers:{}};this.on=l.bind(null,q),this.octokit=L,this.getUserOctokit=h.bind(null,q),this.getWebFlowAuthorizationUrl=d.bind(null,q),this.createToken=p.bind(null,q),this.checkToken=v.bind(null,q),this.resetToken=R.bind(null,q),this.refreshToken=w.bind(null,q),this.scopeToken=$.bind(null,q),this.deleteToken=D.bind(null,q),this.deleteAuthorization=K.bind(null,q)}static defaults(k){return class extends this{constructor(...L){super(s(s({},k),L[0]))}}}}ge.VERSION=a,e.OAuthApp=ge,e.createAWSLambdaAPIGatewayV2Handler=ye,e.createCloudflareHandler=A,e.createNodeMiddleware=j}),qd=(t,e=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof t!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof t}\``);if(typeof e!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(e===0)return t;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return t.replace(n,r.indent.repeat(e))},al=/\s+at.*(?:\(|\s)(.*)\)?/,Hd=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,zd=typeof wt.homedir=="undefined"?"":wt.homedir(),Wd=(t,e)=>(e=Object.assign({pretty:!1},e),t.replace(/\\/g,"/").split(`
`).filter(r=>{let n=r.match(al);if(n===null||!n[1])return!0;let i=n[1];return i.includes(".app/Contents/Resources/electron.asar")||i.includes(".app/Contents/Resources/default_app.asar")?!1:!Hd.test(i)}).filter(r=>r.trim()!=="").map(r=>e.pretty?r.replace(al,(n,i)=>n.replace(i,i.replace(zd,"~"))):r).join(`
`)),Yd=t=>t.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),ll=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);e=[...e].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=e.map(n=>typeof n.stack=="string"?Yd(Wd(n.stack)):String(n)).join(`
`);r=`
`+qd(r,4),super(r),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(let e of this._errors)yield e}},pr=ll,Wi=new TextEncoder;async function Vd(t,e){let r=await crypto.subtle.sign("HMAC",await cl(t),Wi.encode(e));return Kd(r)}async function ul(t,e,r){return await crypto.subtle.verify("HMAC",await cl(t),Qd(r),Wi.encode(e))}function Qd(t){let r=t.match(/[\dA-F]{2}/gi).map(function(n){return parseInt(n,16)});return new Uint8Array(r)}function Kd(t){return Array.prototype.map.call(new Uint8Array(t),e=>e.toString(16).padStart(2,"0")).join("")}async function cl(t){return crypto.subtle.importKey("raw",Wi.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"])}var Yi=t=>({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console),...t}),hl=["branch_protection_rule","branch_protection_rule.created","branch_protection_rule.deleted","branch_protection_rule.edited","check_run","check_run.completed","check_run.created","check_run.requested_action","check_run.rerequested","check_suite","check_suite.completed","check_suite.requested","check_suite.rerequested","code_scanning_alert","code_scanning_alert.appeared_in_branch","code_scanning_alert.closed_by_user","code_scanning_alert.created","code_scanning_alert.fixed","code_scanning_alert.reopened","code_scanning_alert.reopened_by_user","commit_comment","commit_comment.created","content_reference","content_reference.created","create","delete","deploy_key","deploy_key.created","deploy_key.deleted","deployment","deployment.created","deployment_status","deployment_status.created","discussion","discussion.answered","discussion.category_changed","discussion.created","discussion.deleted","discussion.edited","discussion.labeled","discussion.locked","discussion.pinned","discussion.transferred","discussion.unanswered","discussion.unlabeled","discussion.unlocked","discussion.unpinned","discussion_comment","discussion_comment.created","discussion_comment.deleted","discussion_comment.edited","fork","github_app_authorization","github_app_authorization.revoked","gollum","installation","installation.created","installation.deleted","installation.new_permissions_accepted","installation.suspend","installation.unsuspend","installation_repositories","installation_repositories.added","installation_repositories.removed","issue_comment","issue_comment.created","issue_comment.deleted","issue_comment.edited","issues","issues.assigned","issues.closed","issues.deleted","issues.demilestoned","issues.edited","issues.labeled","issues.locked","issues.milestoned","issues.opened","issues.pinned","issues.reopened","issues.transferred","issues.unassigned","issues.unlabeled","issues.unlocked","issues.unpinned","label","label.created","label.deleted","label.edited","marketplace_purchase","marketplace_purchase.cancelled","marketplace_purchase.changed","marketplace_purchase.pending_change","marketplace_purchase.pending_change_cancelled","marketplace_purchase.purchased","member","member.added","member.edited","member.removed","membership","membership.added","membership.removed","meta","meta.deleted","milestone","milestone.closed","milestone.created","milestone.deleted","milestone.edited","milestone.opened","org_block","org_block.blocked","org_block.unblocked","organization","organization.deleted","organization.member_added","organization.member_invited","organization.member_removed","organization.renamed","package","package.published","package.updated","page_build","ping","project","project.closed","project.created","project.deleted","project.edited","project.reopened","project_card","project_card.converted","project_card.created","project_card.deleted","project_card.edited","project_card.moved","project_column","project_column.created","project_column.deleted","project_column.edited","project_column.moved","public","pull_request","pull_request.assigned","pull_request.auto_merge_disabled","pull_request.auto_merge_enabled","pull_request.closed","pull_request.converted_to_draft","pull_request.edited","pull_request.labeled","pull_request.locked","pull_request.opened","pull_request.ready_for_review","pull_request.reopened","pull_request.review_request_removed","pull_request.review_requested","pull_request.synchronize","pull_request.unassigned","pull_request.unlabeled","pull_request.unlocked","pull_request_review","pull_request_review.dismissed","pull_request_review.edited","pull_request_review.submitted","pull_request_review_comment","pull_request_review_comment.created","pull_request_review_comment.deleted","pull_request_review_comment.edited","pull_request_review_thread","pull_request_review_thread.resolved","pull_request_review_thread.unresolved","push","release","release.created","release.deleted","release.edited","release.prereleased","release.published","release.released","release.unpublished","repository","repository.archived","repository.created","repository.deleted","repository.edited","repository.privatized","repository.publicized","repository.renamed","repository.transferred","repository.unarchived","repository_dispatch","repository_import","repository_vulnerability_alert","repository_vulnerability_alert.create","repository_vulnerability_alert.dismiss","repository_vulnerability_alert.resolve","secret_scanning_alert","secret_scanning_alert.created","secret_scanning_alert.reopened","secret_scanning_alert.resolved","security_advisory","security_advisory.performed","security_advisory.published","security_advisory.updated","security_advisory.withdrawn","sponsorship","sponsorship.cancelled","sponsorship.created","sponsorship.edited","sponsorship.pending_cancellation","sponsorship.pending_tier_change","sponsorship.tier_changed","star","star.created","star.deleted","status","team","team.added_to_repository","team.created","team.deleted","team.edited","team.removed_from_repository","team_add","watch","watch.started","workflow_dispatch","workflow_job","workflow_job.completed","workflow_job.in_progress","workflow_job.queued","workflow_job.started","workflow_run","workflow_run.completed","workflow_run.requested"];function Ki(t,e,r){t.hooks[e]||(t.hooks[e]=[]),t.hooks[e].push(r)}function pl(t,e,r){if(Array.isArray(e)){e.forEach(n=>pl(t,n,r));return}if(["*","error"].includes(e)){let n=e==="*"?"any":e,i=`Using the "${e}" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.on${n.charAt(0).toUpperCase()+n.slice(1)}() method instead`;throw new Error(i)}hl.includes(e)||t.log.warn(`"${e}" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`),Ki(t,e,r)}function Jd(t,e){Ki(t,"*",e)}function Xd(t,e){Ki(t,"error",e)}function fl(t,e){let r;try{r=t(e)}catch(n){console.log('FATAL: Error occurred in "error" event handler'),console.log(n)}r&&r.catch&&r.catch(n=>{console.log('FATAL: Error occurred in "error" event handler'),console.log(n)})}function Zd(t,e,r){let n=[t.hooks[r],t.hooks["*"]];return e&&n.unshift(t.hooks[`${r}.${e}`]),[].concat(...n.filter(Boolean))}function eg(t,e){let r=t.hooks.error||[];if(e instanceof Error){let o=Object.assign(new pr([e]),{event:e,errors:[e]});return r.forEach(a=>fl(a,o)),Promise.reject(o)}if(!e||!e.name)throw new pr(["Event name not passed"]);if(!e.payload)throw new pr(["Event payload not passed"]);let n=Zd(t,"action"in e.payload?e.payload.action:null,e.name);if(n.length===0)return Promise.resolve();let i=[],s=n.map(o=>{let a=Promise.resolve(e);return t.transform&&(a=a.then(t.transform)),a.then(l=>o(l)).catch(l=>i.push(Object.assign(l,{event:e})))});return Promise.all(s).then(()=>{if(i.length===0)return;let o=new pr(i);throw Object.assign(o,{event:e,errors:i}),r.forEach(a=>fl(a,o)),o})}function dl(t,e,r){if(Array.isArray(e)){e.forEach(n=>dl(t,n,r));return}if(!!t.hooks[e]){for(let n=t.hooks[e].length-1;n>=0;n--)if(t.hooks[e][n]===r){t.hooks[e].splice(n,1);return}}}function gl(t){let e={hooks:{},log:Yi(t&&t.log)};return t&&t.transform&&(e.transform=t.transform),{on:pl.bind(null,e),onAny:Jd.bind(null,e),onError:Xd.bind(null,e),removeListener:dl.bind(null,e),receive:eg.bind(null,e)}}function Vi(t){return JSON.stringify(t).replace(/[^\\]\\u[\da-f]{4}/g,r=>r.substr(0,3)+r.substr(3).toUpperCase())}async function tg(t,e){return Vd(t,typeof e=="string"?e:Vi(e))}async function rg(t,e,r){return ul(t,typeof e=="string"?e:Vi(e),r)}async function ng(t,e){if(!await ul(t.secret,typeof e.payload=="object"?Vi(e.payload):e.payload,e.signature)){let n=new Error("[@octokit/webhooks] signature does not match event payload and secret");return t.eventHandler.receive(Object.assign(n,{event:e,status:400}))}return t.eventHandler.receive({id:e.id,name:e.name,payload:typeof e.payload=="string"?JSON.parse(e.payload):e.payload})}var ig=["x-github-event","x-hub-signature-256","x-github-delivery"];function sg(t){return ig.filter(e=>!(e in t.headers))}function og(t){return t.body?Promise.resolve(t.body):new Promise((e,r)=>{let n="";t.setEncoding("utf8"),t.on("error",i=>r(new pr([i]))),t.on("data",i=>n+=i),t.on("end",()=>{try{e(JSON.parse(n))}catch(i){i.message="Invalid JSON",i.status=400,r(new pr([i]))}})})}async function ag(t,e,r,n,i){let s;try{s=new URL(r.url,"http://localhost").pathname}catch(v){n.writeHead(422,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Request URL could not be parsed: ${r.url}`}));return}let o=r.method!=="POST"||s!==e.path,a=typeof i=="function";if(o)return a?i():e.onUnhandledRequest(r,n);let l=sg(r).join(", ");if(l){n.writeHead(400,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Required headers missing: ${l}`}));return}let c=r.headers["x-github-event"],u=r.headers["x-hub-signature-256"],h=r.headers["x-github-delivery"];e.log.debug(`${c} event received (id: ${h})`);let d=!1,p=setTimeout(()=>{d=!0,n.statusCode=202,n.end(`still processing
`)},9e3).unref();try{let v=await og(r);if(await t.verifyAndReceive({id:h,name:c,payload:v,signature:u}),clearTimeout(p),d)return;n.end(`ok
`)}catch(v){if(clearTimeout(p),d)return;let R=Array.from(v)[0].status;n.statusCode=typeof R!="undefined"?R:500,n.end(String(v))}}function lg(t,e){e.writeHead(404,{"content-type":"application/json"}),e.end(JSON.stringify({error:`Unknown route: ${t.method} ${t.url}`}))}function cg(t,{path:e="/api/github/webhooks",onUnhandledRequest:r=lg,log:n=Yi()}={}){return ag.bind(null,t,{path:e,onUnhandledRequest:r,log:n})}var ml=class{constructor(e){if(!e||!e.secret)throw new Error("[@octokit/webhooks] options.secret required");let r={eventHandler:gl(e),secret:e.secret,hooks:{},log:Yi(e.log)};this.sign=tg.bind(null,e.secret),this.verify=rg.bind(null,e.secret),this.on=r.eventHandler.on,this.onAny=r.eventHandler.onAny,this.onError=r.eventHandler.onError,this.removeListener=r.eventHandler.removeListener,this.receive=r.eventHandler.receive,this.verifyAndReceive=ng.bind(null,r)}},_l=Object.freeze({__proto__:null,Webhooks:ml,createEventHandler:gl,createNodeMiddleware:cg,emitterEventNames:hl}),ug=nt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function r(j,C){var g=Object.keys(j);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(j);C&&(x=x.filter(function(A){return Object.getOwnPropertyDescriptor(j,A).enumerable})),g.push.apply(g,x)}return g}function n(j){for(var C=1;C<arguments.length;C++){var g=arguments[C]!=null?arguments[C]:{};C%2?r(Object(g),!0).forEach(function(x){c(j,x,g[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(g)):r(Object(g)).forEach(function(x){Object.defineProperty(j,x,Object.getOwnPropertyDescriptor(g,x))})}return j}function i(j){var C;if(typeof Symbol!="undefined"&&(Symbol.asyncIterator&&(C=j[Symbol.asyncIterator]),C==null&&Symbol.iterator&&(C=j[Symbol.iterator])),C==null&&(C=j["@@asyncIterator"]),C==null&&(C=j["@@iterator"]),C==null)throw new TypeError("Object is not async iterable");return C.call(j)}function s(j){this.wrapped=j}function o(j){var C,g;function x(N,Z){return new Promise(function(ye,ge){var m={key:N,arg:Z,resolve:ye,reject:ge,next:null};g?g=g.next=m:(C=g=m,A(N,Z))})}function A(N,Z){try{var ye=j[N](Z),ge=ye.value,m=ge instanceof s;Promise.resolve(m?ge.wrapped:ge).then(function(k){if(m){A(N==="return"?"return":"next",k);return}I(ye.done?"return":"normal",k)},function(k){A("throw",k)})}catch(k){I("throw",k)}}function I(N,Z){switch(N){case"return":C.resolve({value:Z,done:!0});break;case"throw":C.reject(Z);break;default:C.resolve({value:Z,done:!1});break}C=C.next,C?A(C.key,C.arg):g=null}this._invoke=x,typeof j.return!="function"&&(this.return=void 0)}o.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(j){return this._invoke("next",j)},o.prototype.throw=function(j){return this._invoke("throw",j)},o.prototype.return=function(j){return this._invoke("return",j)};function a(j){return function(){return new o(j.apply(this,arguments))}}function l(j){return new s(j)}function c(j,C,g){return C in j?Object.defineProperty(j,C,{value:g,enumerable:!0,configurable:!0,writable:!0}):j[C]=g,j}let u="12.0.5";function h(j,C){return new _l.Webhooks({secret:C.secret,transform:async g=>{if(!("installation"in g.payload)||typeof g.payload.installation!="object"){let I=new j.constructor({authStrategy:In.createUnauthenticatedAuth,auth:{reason:'"installation" key missing in webhook event payload'}});return n(n({},g),{},{octokit:I})}let x=g.payload.installation.id,A=await j.auth({type:"installation",installationId:x,factory(I){return new I.octokit.constructor(n(n({},I.octokitOptions),{},{authStrategy:Hi.createAppAuth},{auth:n(n({},I),{},{installationId:x})}))}});return n(n({},g),{},{octokit:A})}})}async function d(j,C){return j.octokit.auth({type:"installation",installationId:C,factory(g){let x=n(n({},g.octokitOptions),{},{authStrategy:Hi.createAppAuth},{auth:n(n({},g),{},{installationId:C})});return new g.octokit.constructor(x)}})}function p(j){return Object.assign(v.bind(null,j),{iterator:R.bind(null,j)})}async function v(j,C){let g=R(j)[Symbol.asyncIterator](),x=await g.next();for(;!x.done;)await C(x.value),x=await g.next()}function R(j){return{[Symbol.asyncIterator](){return a(function*(){let C=Ua.composePaginateRest.iterator(j.octokit,"GET /app/installations");var g=!1,x=!1,A;try{for(var I=i(C),N;g=!(N=yield l(I.next())).done;g=!1){let{data:Z}=N.value;for(let ye of Z)yield{octokit:yield l(d(j,ye.id)),installation:ye}}}catch(Z){x=!0,A=Z}finally{try{g&&I.return!=null&&(yield l(I.return()))}finally{if(x)throw A}}})()}}}function w(j){return Object.assign($.bind(null,j),{iterator:K.bind(null,j)})}async function $(j,C,g){let x=K(j,g?C:void 0)[Symbol.asyncIterator](),A=await x.next();for(;!A.done;)g?await g(A.value):await C(A.value),A=await x.next()}function D(j,C){return{[Symbol.asyncIterator](){return a(function*(){yield{octokit:yield l(j.getInstallationOctokit(C))}})()}}}function K(j,C){return{[Symbol.asyncIterator](){return a(function*(){let g=C?D(j,C.installationId):j.eachInstallation.iterator();var x=!1,A=!1,I;try{for(var N=i(g),Z;x=!(Z=yield l(N.next())).done;x=!1){let{octokit:L}=Z.value,q=Ua.composePaginateRest.iterator(L,"GET /installation/repositories");var ye=!1,ge=!1,m;try{for(var k=i(q),S;ye=!(S=yield l(k.next())).done;ye=!1){let{data:Q}=S.value;for(let Ce of Q)yield{octokit:L,repository:Ce}}}catch(Q){ge=!0,m=Q}finally{try{ye&&k.return!=null&&(yield l(k.return()))}finally{if(ge)throw m}}}}catch(L){A=!0,I=L}finally{try{x&&N.return!=null&&(yield l(N.return()))}finally{if(A)throw I}}})()}}}function H(j,C){C.writeHead(404,{"content-type":"application/json"}),C.end(JSON.stringify({error:`Unknown route: ${j.method} ${j.url}`}))}function ne(){}function V(j,C={}){let g=Object.assign({debug:ne,info:ne,warn:console.warn.bind(console),error:console.error.bind(console)},C.log),x=n(n({onUnhandledRequest:H,pathPrefix:"/api/github"},C),{},{log:g}),A=_l.createNodeMiddleware(j.webhooks,{path:x.pathPrefix+"/webhooks",log:g,onUnhandledRequest:x.onUnhandledRequest}),I=zi.createNodeMiddleware(j.oauth,{pathPrefix:x.pathPrefix+"/oauth",onUnhandledRequest:x.onUnhandledRequest});return le.bind(null,x,{webhooksMiddleware:A,oauthMiddleware:I})}async function le(j,{webhooksMiddleware:C,oauthMiddleware:g},x,A,I){let{pathname:N}=new URL(x.url,"http://localhost");return N===`${j.pathPrefix}/webhooks`?C(x,A,I):N.startsWith(`${j.pathPrefix}/oauth/`)?g(x,A,I):typeof I=="function"?I():j.onUnhandledRequest(x,A)}class Se{constructor(C){let g=C.Octokit||La.Octokit,x=Object.assign({appId:C.appId,privateKey:C.privateKey},C.oauth?{clientId:C.oauth.clientId,clientSecret:C.oauth.clientSecret}:{});this.octokit=new g({authStrategy:Hi.createAppAuth,auth:x,log:C.log}),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},C.log),C.webhooks?this.webhooks=h(this.octokit,C.webhooks):Object.defineProperty(this,"webhooks",{get(){throw new Error("[@octokit/app] webhooks option not set")}}),C.oauth?this.oauth=new zi.OAuthApp(n(n({},C.oauth),{},{clientType:"github-app",Octokit:g})):Object.defineProperty(this,"oauth",{get(){throw new Error("[@octokit/app] oauth.clientId / oauth.clientSecret options are not set")}}),this.getInstallationOctokit=d.bind(null,this),this.eachInstallation=p(this),this.eachRepository=w(this)}static defaults(C){return class extends this{constructor(...x){super(n(n({},C),x[0]))}}}}Se.VERSION=u,e.App=Se,e.createNodeMiddleware=V}),hg="1.7.1",jn=Mr.plugin(Ma,Ni,Ba).defaults({userAgent:`octokit-rest.js/${hg}`,throttle:{onRateLimit:pg,onAbuseLimit:fg}});function pg(t,e,r){if(r.log.warn(`Request quota exhausted for request ${e.method} ${e.url}`),e.request.retryCount===0)return r.log.info(`Retrying after ${t} seconds!`),!0}function fg(t,e,r){if(r.log.warn(`Abuse detected for request ${e.method} ${e.url}`),e.request.retryCount===0)return r.log.info(`Retrying after ${t} seconds!`),!0}var By=ug.App.defaults({Octokit:jn}),qy=zi.OAuthApp.defaults({Octokit:jn});function bl(t){return typeof t=="undefined"||t===null}function dg(t){return typeof t=="object"&&t!==null}function gg(t){return Array.isArray(t)?t:bl(t)?[]:[t]}function mg(t,e){var r,n,i,s;if(e)for(s=Object.keys(e),r=0,n=s.length;r<n;r+=1)i=s[r],t[i]=e[i];return t}function _g(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}function bg(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var wg=bl,yg=dg,vg=gg,Eg=_g,Tg=bg,kg=mg,fe={isNothing:wg,isObject:yg,toArray:vg,repeat:Eg,isNegativeZero:Tg,extend:kg};function zr(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}zr.prototype=Object.create(Error.prototype);zr.prototype.constructor=zr;zr.prototype.toString=function(e){var r=this.name+": ";return r+=this.reason||"(unknown reason)",!e&&this.mark&&(r+=" "+this.mark.toString()),r};var Ge=zr;function Qi(t,e,r,n,i){this.name=t,this.buffer=e,this.position=r,this.line=n,this.column=i}Qi.prototype.getSnippet=function(e,r){var n,i,s,o,a;if(!this.buffer)return null;for(e=e||4,r=r||75,n="",i=this.position;i>0&&`\0\r
Â\u2028\u2029`.indexOf(this.buffer.charAt(i-1))===-1;)if(i-=1,this.position-i>r/2-1){n=" ... ",i+=5;break}for(s="",o=this.position;o<this.buffer.length&&`\0\r
Â\u2028\u2029`.indexOf(this.buffer.charAt(o))===-1;)if(o+=1,o-this.position>r/2-1){s=" ... ",o-=5;break}return a=this.buffer.slice(i,o),fe.repeat(" ",e)+n+a+s+`
`+fe.repeat(" ",e+this.position-i+n.length)+"^"};Qi.prototype.toString=function(e){var r,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(r=this.getSnippet(),r&&(n+=`:
`+r)),n};var xg=Qi,Ag=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Sg=["scalar","sequence","mapping"];function Rg(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}function Pg(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(Ag.indexOf(r)===-1)throw new Ge('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=Rg(e.styleAliases||null),Sg.indexOf(this.kind)===-1)throw new Ge('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var ke=Pg;function Ji(t,e,r){var n=[];return t.include.forEach(function(i){r=Ji(i,e,r)}),t[e].forEach(function(i){r.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&n.push(o)}),r.push(i)}),r.filter(function(i,s){return n.indexOf(s)===-1})}function Og(){var t={scalar:{},sequence:{},mapping:{},fallback:{}},e,r;function n(i){t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}function fr(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&e.loadKind!=="scalar")throw new Ge("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=Ji(this,"implicit",[]),this.compiledExplicit=Ji(this,"explicit",[]),this.compiledTypeMap=Og(this.compiledImplicit,this.compiledExplicit)}fr.DEFAULT=null;fr.create=function(){var e,r;switch(arguments.length){case 1:e=fr.DEFAULT,r=arguments[0];break;case 2:e=arguments[0],r=arguments[1];break;default:throw new Ge("Wrong number of arguments for Schema.create function")}if(e=fe.toArray(e),r=fe.toArray(r),!e.every(function(n){return n instanceof fr}))throw new Ge("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(n){return n instanceof ke}))throw new Ge("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new fr({include:e,explicit:r})};var Gt=fr,Cg=new ke("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Ig=new ke("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),jg=new ke("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Xi=new Gt({explicit:[Cg,Ig,jg]});function $g(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function Fg(){return null}function Lg(t){return t===null}var Gg=new ke("tag:yaml.org,2002:null",{kind:"scalar",resolve:$g,construct:Fg,predicate:Lg,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"});function Dg(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function Ng(t){return t==="true"||t==="True"||t==="TRUE"}function Ug(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Mg=new ke("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Dg,construct:Ng,predicate:Ug,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Bg(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function qg(t){return 48<=t&&t<=55}function Hg(t){return 48<=t&&t<=57}function zg(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!Bg(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}for(;r<e;r++)if(i=t[r],i!=="_"){if(!qg(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(i===":")break;if(!Hg(t.charCodeAt(r)))return!1;n=!0}return!n||i==="_"?!1:i!==":"?!0:/^(:[0-5]?[0-9])+$/.test(t.slice(r))}function Wg(t){var e=t,r=1,n,i,s=[];return e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0"?0:n==="0"?e[1]==="b"?r*parseInt(e.slice(2),2):e[1]==="x"?r*parseInt(e,16):r*parseInt(e,8):e.indexOf(":")!==-1?(e.split(":").forEach(function(o){s.unshift(parseInt(o,10))}),e=0,i=1,s.forEach(function(o){e+=o*i,i*=60}),r*e):r*parseInt(e,10)}function Yg(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1==0&&!fe.isNegativeZero(t)}var Kg=new ke("tag:yaml.org,2002:int",{kind:"scalar",resolve:zg,construct:Wg,predicate:Yg,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0"+t.toString(8):"-0"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Vg=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Qg(t){return!(t===null||!Vg.test(t)||t[t.length-1]==="_")}function Jg(t){var e,r,n,i;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,i=[],"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:e.indexOf(":")>=0?(e.split(":").forEach(function(s){i.unshift(parseFloat(s,10))}),e=0,n=1,i.forEach(function(s){e+=s*n,n*=60}),r*e):r*parseFloat(e,10)}var Xg=/^[-+]?[0-9]+e/;function Zg(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(fe.isNegativeZero(t))return"-0.0";return r=t.toString(10),Xg.test(r)?r.replace("e",".e"):r}function em(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!=0||fe.isNegativeZero(t))}var tm=new ke("tag:yaml.org,2002:float",{kind:"scalar",resolve:Qg,construct:Jg,predicate:em,represent:Zg,defaultStyle:"lowercase"}),wl=new Gt({include:[Xi],implicit:[Gg,Mg,Kg,tm]}),yl=new Gt({include:[wl]}),vl=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),El=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function rm(t){return t===null?!1:vl.exec(t)!==null||El.exec(t)!==null}function nm(t){var e,r,n,i,s,o,a,l=0,c=null,u,h,d;if(e=vl.exec(t),e===null&&(e=El.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],h=+(e[11]||0),c=(u*60+h)*6e4,e[9]==="-"&&(c=-c)),d=new Date(Date.UTC(r,n,i,s,o,a,l)),c&&d.setTime(d.getTime()-c),d}function im(t){return t.toISOString()}var sm=new ke("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:rm,construct:nm,instanceOf:Date,represent:im});function om(t){return t==="<<"||t===null}var am=new ke("tag:yaml.org,2002:merge",{kind:"scalar",resolve:om}),Dt;try{Tl=_n,Dt=Tl("buffer").Buffer}catch(t){}var Tl,Zi=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function lm(t){if(t===null)return!1;var e,r,n=0,i=t.length,s=Zi;for(r=0;r<i;r++)if(e=s.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8==0}function cm(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,s=Zi,o=0,a=[];for(e=0;e<i;e++)e%4==0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(e));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),Dt?Dt.from?Dt.from(a):new Dt(a):a}function um(t){var e="",r=0,n,i,s=t.length,o=Zi;for(n=0;n<s;n++)n%3==0&&n&&(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]),r=(r<<8)+t[n];return i=s%3,i===0?(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]):i===2?(e+=o[r>>10&63],e+=o[r>>4&63],e+=o[r<<2&63],e+=o[64]):i===1&&(e+=o[r>>2&63],e+=o[r<<4&63],e+=o[64],e+=o[64]),e}function hm(t){return Dt&&Dt.isBuffer(t)}var pm=new ke("tag:yaml.org,2002:binary",{kind:"scalar",resolve:lm,construct:cm,predicate:hm,represent:um}),fm=Object.prototype.hasOwnProperty,dm=Object.prototype.toString;function gm(t){if(t===null)return!0;var e=[],r,n,i,s,o,a=t;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,dm.call(i)!=="[object Object]")return!1;for(s in i)if(fm.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function mm(t){return t!==null?t:[]}var _m=new ke("tag:yaml.org,2002:omap",{kind:"sequence",resolve:gm,construct:mm}),bm=Object.prototype.toString;function wm(t){if(t===null)return!0;var e,r,n,i,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1){if(n=o[e],bm.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[e]=[i[0],n[i[0]]]}return!0}function ym(t){if(t===null)return[];var e,r,n,i,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1)n=o[e],i=Object.keys(n),s[e]=[i[0],n[i[0]]];return s}var vm=new ke("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:wm,construct:ym}),Em=Object.prototype.hasOwnProperty;function Tm(t){if(t===null)return!0;var e,r=t;for(e in r)if(Em.call(r,e)&&r[e]!==null)return!1;return!0}function km(t){return t!==null?t:{}}var xm=new ke("tag:yaml.org,2002:set",{kind:"mapping",resolve:Tm,construct:km}),dr=new Gt({include:[yl],implicit:[sm,am],explicit:[pm,_m,vm,xm]});function Am(){return!0}function Sm(){}function Rm(){return""}function Pm(t){return typeof t=="undefined"}var Om=new ke("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:Am,construct:Sm,predicate:Pm,represent:Rm});function Cm(t){if(t===null||t.length===0)return!1;var e=t,r=/\/([gim]*)$/.exec(t),n="";return!(e[0]==="/"&&(r&&(n=r[1]),n.length>3||e[e.length-n.length-1]!=="/"))}function Im(t){var e=t,r=/\/([gim]*)$/.exec(t),n="";return e[0]==="/"&&(r&&(n=r[1]),e=e.slice(1,e.length-n.length-1)),new RegExp(e,n)}function jm(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}function $m(t){return Object.prototype.toString.call(t)==="[object RegExp]"}var Fm=new ke("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:Cm,construct:Im,predicate:$m,represent:jm}),$n;try{kl=_n,$n=kl("esprima")}catch(t){typeof window!="undefined"&&($n=window.esprima)}var kl;function Lm(t){if(t===null)return!1;try{var e="("+t+")",r=$n.parse(e,{range:!0});return!(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")}catch(n){return!1}}function Gm(t){var e="("+t+")",r=$n.parse(e,{range:!0}),n=[],i;if(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(s){n.push(s.name)}),i=r.body[0].expression.body.range,r.body[0].expression.body.type==="BlockStatement"?new Function(n,e.slice(i[0]+1,i[1]-1)):new Function(n,"return "+e.slice(i[0],i[1]))}function Dm(t){return t.toString()}function Nm(t){return Object.prototype.toString.call(t)==="[object Function]"}var Um=new ke("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:Lm,construct:Gm,predicate:Nm,represent:Dm}),Fn=Gt.DEFAULT=new Gt({include:[dr],explicit:[Om,Fm,Um]}),yt=Object.prototype.hasOwnProperty,Ln=1,xl=2,Al=3,Gn=4,es=1,Mm=2,Sl=3,Bm=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,qm=/[\x85\u2028\u2029]/,Hm=/[,\[\]\{\}]/,Rl=/^(?:!|!!|![a-z\-]+!)$/i,Pl=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ol(t){return Object.prototype.toString.call(t)}function et(t){return t===10||t===13}function Nt(t){return t===9||t===32}function De(t){return t===9||t===32||t===10||t===13}function gr(t){return t===44||t===91||t===93||t===123||t===125}function zm(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function Wm(t){return t===120?2:t===117?4:t===85?8:0}function Ym(t){return 48<=t&&t<=57?t-48:-1}function Cl(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"Â":t===95?"Â ":t===76?"\u2028":t===80?"\u2029":""}function Km(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var Il=new Array(256),jl=new Array(256);for(var mr=0;mr<256;mr++)Il[mr]=Cl(mr)?1:0,jl[mr]=Cl(mr);function Vm(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||Fn,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function $l(t,e){return new Ge(e,new xg(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function M(t,e){throw $l(t,e)}function Dn(t,e){t.onWarning&&t.onWarning.call(null,$l(t,e))}var Fl={YAML:function(e,r,n){var i,s,o;e.version!==null&&M(e,"duplication of %YAML directive"),n.length!==1&&M(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&M(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&M(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Dn(e,"unsupported YAML version of the document")},TAG:function(e,r,n){var i,s;n.length!==2&&M(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Rl.test(i)||M(e,"ill-formed tag handle (first argument) of the TAG directive"),yt.call(e.tagMap,i)&&M(e,'there is a previously declared suffix for "'+i+'" tag handle'),Pl.test(s)||M(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[i]=s}};function vt(t,e,r,n){var i,s,o,a;if(e<r){if(a=t.input.slice(e,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||M(t,"expected valid JSON character");else Bm.test(a)&&M(t,"the stream contains non-printable characters");t.result+=a}}function Ll(t,e,r,n){var i,s,o,a;for(fe.isObject(r)||M(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],yt.call(e,s)||(e[s]=r[s],n[s]=!0)}function _r(t,e,r,n,i,s,o,a){var l,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,c=i.length;l<c;l+=1)Array.isArray(i[l])&&M(t,"nested arrays are not supported inside keys"),typeof i=="object"&&Ol(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&Ol(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,c=s.length;l<c;l+=1)Ll(t,e,s[l],r);else Ll(t,e,s,r);else!t.json&&!yt.call(r,i)&&yt.call(e,i)&&(t.line=o||t.line,t.position=a||t.position,M(t,"duplicated mapping key")),e[i]=s,delete r[i];return e}function ts(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):M(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function de(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Nt(i);)i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(et(i))for(ts(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&Dn(t,"deficient indentation"),n}function Nn(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||De(r)))}function rs(t,e){e===1?t.result+=" ":e>1&&(t.result+=fe.repeat(`
`,e-1))}function Qm(t,e,r){var n,i,s,o,a,l,c,u,h=t.kind,d=t.result,p;if(p=t.input.charCodeAt(t.position),De(p)||gr(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),De(i)||r&&gr(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),De(i)||r&&gr(i))break}else if(p===35){if(n=t.input.charCodeAt(t.position-1),De(n))break}else{if(t.position===t.lineStart&&Nn(t)||r&&gr(p))break;if(et(p))if(l=t.line,c=t.lineStart,u=t.lineIndent,de(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=c,t.lineIndent=u;break}}a&&(vt(t,s,o,!1),rs(t,t.line-l),s=o=t.position,a=!1),Nt(p)||(o=t.position+1),p=t.input.charCodeAt(++t.position)}return vt(t,s,o,!1),t.result?!0:(t.kind=h,t.result=d,!1)}function Jm(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(vt(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else et(r)?(vt(t,n,i,!0),rs(t,de(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Nn(t)?M(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);M(t,"unexpected end of the stream within a single quoted scalar")}function Xm(t,e){var r,n,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return vt(t,r,t.position,!0),t.position++,!0;if(a===92){if(vt(t,r,t.position,!0),a=t.input.charCodeAt(++t.position),et(a))de(t,!1,e);else if(a<256&&Il[a])t.result+=jl[a],t.position++;else if((o=Wm(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=zm(a))>=0?s=(s<<4)+o:M(t,"expected hexadecimal character");t.result+=Km(s),t.position++}else M(t,"unknown escape sequence");r=n=t.position}else et(a)?(vt(t,r,n,!0),rs(t,de(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Nn(t)?M(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}M(t,"unexpected end of the stream within a double quoted scalar")}function Zm(t,e){var r=!0,n,i=t.tag,s,o=t.anchor,a,l,c,u,h,d={},p,v,R,w;if(w=t.input.charCodeAt(t.position),w===91)l=93,h=!1,s=[];else if(w===123)l=125,h=!0,s={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),w=t.input.charCodeAt(++t.position);w!==0;){if(de(t,!0,e),w=t.input.charCodeAt(t.position),w===l)return t.position++,t.tag=i,t.anchor=o,t.kind=h?"mapping":"sequence",t.result=s,!0;r||M(t,"missed comma between flow collection entries"),v=p=R=null,c=u=!1,w===63&&(a=t.input.charCodeAt(t.position+1),De(a)&&(c=u=!0,t.position++,de(t,!0,e))),n=t.line,br(t,e,Ln,!1,!0),v=t.tag,p=t.result,de(t,!0,e),w=t.input.charCodeAt(t.position),(u||t.line===n)&&w===58&&(c=!0,w=t.input.charCodeAt(++t.position),de(t,!0,e),br(t,e,Ln,!1,!0),R=t.result),h?_r(t,s,d,v,p,R):c?s.push(_r(t,null,d,v,p,R)):s.push(p),de(t,!0,e),w=t.input.charCodeAt(t.position),w===44?(r=!0,w=t.input.charCodeAt(++t.position)):r=!1}M(t,"unexpected end of the stream within a flow collection")}function e_(t,e){var r,n,i=es,s=!1,o=!1,a=e,l=0,c=!1,u,h;if(h=t.input.charCodeAt(t.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(t.kind="scalar",t.result="";h!==0;)if(h=t.input.charCodeAt(++t.position),h===43||h===45)es===i?i=h===43?Sl:Mm:M(t,"repeat of a chomping mode identifier");else if((u=Ym(h))>=0)u===0?M(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?M(t,"repeat of an indentation width identifier"):(a=e+u-1,o=!0);else break;if(Nt(h)){do h=t.input.charCodeAt(++t.position);while(Nt(h));if(h===35)do h=t.input.charCodeAt(++t.position);while(!et(h)&&h!==0)}for(;h!==0;){for(ts(t),t.lineIndent=0,h=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&h===32;)t.lineIndent++,h=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),et(h)){l++;continue}if(t.lineIndent<a){i===Sl?t.result+=fe.repeat(`
`,s?1+l:l):i===es&&s&&(t.result+=`
`);break}for(n?Nt(h)?(c=!0,t.result+=fe.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=fe.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=fe.repeat(`
`,l):t.result+=fe.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=t.position;!et(h)&&h!==0;)h=t.input.charCodeAt(++t.position);vt(t,r,t.position,!1)}return!0}function Gl(t,e){var r,n=t.tag,i=t.anchor,s=[],o,a=!1,l;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&!(l!==45||(o=t.input.charCodeAt(t.position+1),!De(o)));){if(a=!0,t.position++,de(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,br(t,e,Al,!1,!0),s.push(t.result),de(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)M(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function t_(t,e,r){var n,i,s,o,a=t.tag,l=t.anchor,c={},u={},h=null,d=null,p=null,v=!1,R=!1,w;for(t.anchor!==null&&(t.anchorMap[t.anchor]=c),w=t.input.charCodeAt(t.position);w!==0;){if(n=t.input.charCodeAt(t.position+1),s=t.line,o=t.position,(w===63||w===58)&&De(n))w===63?(v&&(_r(t,c,u,h,d,null),h=d=p=null),R=!0,v=!0,i=!0):v?(v=!1,i=!0):M(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,w=n;else if(br(t,r,xl,!1,!0))if(t.line===s){for(w=t.input.charCodeAt(t.position);Nt(w);)w=t.input.charCodeAt(++t.position);if(w===58)w=t.input.charCodeAt(++t.position),De(w)||M(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(_r(t,c,u,h,d,null),h=d=p=null),R=!0,v=!1,i=!1,h=t.tag,d=t.result;else if(R)M(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=a,t.anchor=l,!0}else if(R)M(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=a,t.anchor=l,!0;else break;if((t.line===s||t.lineIndent>e)&&(br(t,e,Gn,!0,i)&&(v?d=t.result:p=t.result),v||(_r(t,c,u,h,d,p,s,o),h=d=p=null),de(t,!0,-1),w=t.input.charCodeAt(t.position)),t.lineIndent>e&&w!==0)M(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return v&&_r(t,c,u,h,d,null),R&&(t.tag=a,t.anchor=l,t.kind="mapping",t.result=c),R}function r_(t){var e,r=!1,n=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&M(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(r=!0,o=t.input.charCodeAt(++t.position)):o===33?(n=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):M(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!De(o);)o===33&&(n?M(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),Rl.test(i)||M(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),Hm.test(s)&&M(t,"tag suffix cannot contain flow indicator characters")}return s&&!Pl.test(s)&&M(t,"tag name cannot contain such characters: "+s),r?t.tag=s:yt.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:M(t,'undeclared tag handle "'+i+'"'),!0}function n_(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&M(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!De(r)&&!gr(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&M(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function i_(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!De(n)&&!gr(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&M(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),yt.call(t.anchorMap,r)||M(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],de(t,!0,-1),!0}function br(t,e,r,n,i){var s,o,a,l=1,c=!1,u=!1,h,d,p,v,R;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Gn===r||Al===r,n&&de(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;r_(t)||n_(t);)de(t,!0,-1)?(c=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||Gn===r)&&(Ln===r||xl===r?v=e:v=e+1,R=t.position-t.lineStart,l===1?a&&(Gl(t,R)||t_(t,R,v))||Zm(t,v)?u=!0:(o&&e_(t,v)||Jm(t,v)||Xm(t,v)?u=!0:i_(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&M(t,"alias node should not have any properties")):Qm(t,v,Ln===r)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=a&&Gl(t,R))),t.tag!==null&&t.tag!=="!")if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&M(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),h=0,d=t.implicitTypes.length;h<d;h+=1)if(p=t.implicitTypes[h],p.resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else yt.call(t.typeMap[t.kind||"fallback"],t.tag)?(p=t.typeMap[t.kind||"fallback"][t.tag],t.result!==null&&p.kind!==t.kind&&M(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result)?(t.result=p.construct(t.result),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):M(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):M(t,"unknown tag !<"+t.tag+">");return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function s_(t){var e=t.position,r,n,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};(o=t.input.charCodeAt(t.position))!==0&&(de(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),r=t.position;o!==0&&!De(o);)o=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&M(t,"directive name must not be less than one character in length");o!==0;){for(;Nt(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!et(o));break}if(et(o))break;for(r=t.position;o!==0&&!De(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}o!==0&&ts(t),yt.call(Fl,n)?Fl[n](t,n,i):Dn(t,'unknown document directive "'+n+'"')}if(de(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,de(t,!0,-1)):s&&M(t,"directives end mark is expected"),br(t,t.lineIndent-1,Gn,!1,!0),de(t,!0,-1),t.checkLineBreaks&&qm.test(t.input.slice(e,t.position))&&Dn(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Nn(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,de(t,!0,-1));return}if(t.position<t.length-1)M(t,"end of the stream or a document separator is expected");else return}function Dl(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new Vm(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,M(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)s_(r);return r.documents}function Nl(t,e,r){e!==null&&typeof e=="object"&&typeof r=="undefined"&&(r=e,e=null);var n=Dl(t,r);if(typeof e!="function")return n;for(var i=0,s=n.length;i<s;i+=1)e(n[i])}function Ul(t,e){var r=Dl(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new Ge("expected a single document in the stream, but found more")}}function o_(t,e,r){return typeof e=="object"&&e!==null&&typeof r=="undefined"&&(r=e,e=null),Nl(t,e,fe.extend({schema:dr},r))}function a_(t,e){return Ul(t,fe.extend({schema:dr},e))}var l_=Nl,c_=Ul,u_=o_,h_=a_,Un={loadAll:l_,load:c_,safeLoadAll:u_,safeLoad:h_},Ml=Object.prototype.toString,Bl=Object.prototype.hasOwnProperty,p_=9,Wr=10,f_=13,d_=32,g_=33,m_=34,ql=35,__=37,b_=38,w_=39,y_=42,Hl=44,v_=45,zl=58,E_=61,T_=62,k_=63,x_=64,Wl=91,Yl=93,A_=96,Kl=123,S_=124,Vl=125,je={};je[0]="\\0";je[7]="\\a";je[8]="\\b";je[9]="\\t";je[10]="\\n";je[11]="\\v";je[12]="\\f";je[13]="\\r";je[27]="\\e";je[34]='\\"';je[92]="\\\\";je[133]="\\N";je[160]="\\_";je[8232]="\\L";je[8233]="\\P";var R_=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function P_(t,e){var r,n,i,s,o,a,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&Bl.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function Ql(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new Ge("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+fe.repeat("0",n-e.length)+e}function O_(t){this.schema=t.schema||Fn,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=fe.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=P_(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Jl(t,e){for(var r=fe.repeat(" ",e),n=0,i=-1,s="",o,a=t.length;n<a;)i=t.indexOf(`
`,n),i===-1?(o=t.slice(n),n=a):(o=t.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function ns(t,e){return`
`+fe.repeat(" ",t.indent*e)}function C_(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}function is(t){return t===d_||t===p_}function wr(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==65279||65536<=t&&t<=1114111}function I_(t){return wr(t)&&!is(t)&&t!==65279&&t!==f_&&t!==Wr}function Xl(t,e){return wr(t)&&t!==65279&&t!==Hl&&t!==Wl&&t!==Yl&&t!==Kl&&t!==Vl&&t!==zl&&(t!==ql||e&&I_(e))}function j_(t){return wr(t)&&t!==65279&&!is(t)&&t!==v_&&t!==k_&&t!==zl&&t!==Hl&&t!==Wl&&t!==Yl&&t!==Kl&&t!==Vl&&t!==ql&&t!==b_&&t!==y_&&t!==g_&&t!==S_&&t!==E_&&t!==T_&&t!==w_&&t!==m_&&t!==__&&t!==x_&&t!==A_}function Zl(t){var e=/^\n* /;return e.test(t)}var ec=1,tc=2,rc=3,nc=4,Mn=5;function $_(t,e,r,n,i){var s,o,a,l=!1,c=!1,u=n!==-1,h=-1,d=j_(t.charCodeAt(0))&&!is(t.charCodeAt(t.length-1));if(e)for(s=0;s<t.length;s++){if(o=t.charCodeAt(s),!wr(o))return Mn;a=s>0?t.charCodeAt(s-1):null,d=d&&Xl(o,a)}else{for(s=0;s<t.length;s++){if(o=t.charCodeAt(s),o===Wr)l=!0,u&&(c=c||s-h-1>n&&t[h+1]!==" ",h=s);else if(!wr(o))return Mn;a=s>0?t.charCodeAt(s-1):null,d=d&&Xl(o,a)}c=c||u&&s-h-1>n&&t[h+1]!==" "}return!l&&!c?d&&!i(t)?ec:tc:r>9&&Zl(t)?Mn:c?nc:rc}function G_(t,e,r,n){t.dump=function(){if(e.length===0)return"''";if(!t.noCompatMode&&R_.indexOf(e)!==-1)return"'"+e+"'";var i=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-i),o=n||t.flowLevel>-1&&r>=t.flowLevel;function a(l){return C_(t,l)}switch($_(e,o,t.indent,s,a)){case ec:return e;case tc:return"'"+e.replace(/'/g,"''")+"'";case rc:return"|"+ic(e,t.indent)+sc(Jl(e,i));case nc:return">"+ic(e,t.indent)+sc(Jl(F_(e,s),i));case Mn:return'"'+L_(e)+'"';default:throw new Ge("impossible error: invalid scalar style")}}()}function ic(t,e){var r=Zl(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),s=i?"+":n?"":"-";return r+s+`
`}function sc(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function F_(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,r.lastIndex=c,oc(t.slice(0,c),e)}(),i=t[0]===`
`||t[0]===" ",s,o;o=r.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+oc(l,e),i=s}return n}function oc(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(t);)a=n.index,a-i>e&&(s=o>i?o:a,l+=`
`+t.slice(i,s),i=s+1),o=a;return l+=`
`,t.length-i>e&&o>i?l+=t.slice(i,o)+`
`+t.slice(o+1):l+=t.slice(i),l.slice(1)}function L_(t){for(var e="",r,n,i,s=0;s<t.length;s++){if(r=t.charCodeAt(s),r>=55296&&r<=56319&&(n=t.charCodeAt(s+1),n>=56320&&n<=57343)){e+=Ql((r-55296)*1024+n-56320+65536),s++;continue}i=je[r],e+=!i&&wr(r)?t[s]:i||Ql(r)}return e}function D_(t,e,r){var n="",i=t.tag,s,o;for(s=0,o=r.length;s<o;s+=1)Ut(t,e,r[s],!1,!1)&&(s!==0&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}function N_(t,e,r,n){var i="",s=t.tag,o,a;for(o=0,a=r.length;o<a;o+=1)Ut(t,e+1,r[o],!0,!0)&&((!n||o!==0)&&(i+=ns(t,e)),t.dump&&Wr===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function U_(t,e,r){var n="",i=t.tag,s=Object.keys(r),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",o!==0&&(u+=", "),t.condenseFlow&&(u+='"'),l=s[o],c=r[l],!!Ut(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Ut(t,e,c,!1,!1)&&(u+=t.dump,n+=u));t.tag=i,t.dump="{"+n+"}"}function M_(t,e,r,n){var i="",s=t.tag,o=Object.keys(r),a,l,c,u,h,d;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new Ge("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!n||a!==0)&&(d+=ns(t,e)),c=o[a],u=r[c],!!Ut(t,e+1,c,!0,!0,!0)&&(h=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,h&&(t.dump&&Wr===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,h&&(d+=ns(t,e)),!!Ut(t,e+1,u,!0,h)&&(t.dump&&Wr===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=s,t.dump=i||"{}"}function ac(t,e,r){var n,i,s,o,a,l;for(i=r?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(t.tag=r?a.tag:"?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,Ml.call(a.represent)==="[object Function]")n=a.represent(e,l);else if(Bl.call(a.represent,l))n=a.represent[l](e,l);else throw new Ge("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}function Ut(t,e,r,n,i,s){t.tag=null,t.dump=r,ac(t,r,!1)||ac(t,r,!0);var o=Ml.call(t.dump);n&&(n=t.flowLevel<0||t.flowLevel>e);var a=o==="[object Object]"||o==="[object Array]",l,c;if(a&&(l=t.duplicates.indexOf(r),c=l!==-1),(t.tag!==null&&t.tag!=="?"||c||t.indent!==2&&e>0)&&(i=!1),c&&t.usedDuplicates[l])t.dump="*ref_"+l;else{if(a&&c&&!t.usedDuplicates[l]&&(t.usedDuplicates[l]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(M_(t,e,t.dump,i),c&&(t.dump="&ref_"+l+t.dump)):(U_(t,e,t.dump),c&&(t.dump="&ref_"+l+" "+t.dump));else if(o==="[object Array]"){var u=t.noArrayIndent&&e>0?e-1:e;n&&t.dump.length!==0?(N_(t,u,t.dump,i),c&&(t.dump="&ref_"+l+t.dump)):(D_(t,u,t.dump),c&&(t.dump="&ref_"+l+" "+t.dump))}else if(o==="[object String]")t.tag!=="?"&&G_(t,t.dump,e,s);else{if(t.skipInvalid)return!1;throw new Ge("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function B_(t,e){var r=[],n=[],i,s;for(ss(t,r,n),i=0,s=n.length;i<s;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(s)}function ss(t,e,r){var n,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)ss(t[i],e,r);else for(n=Object.keys(t),i=0,s=n.length;i<s;i+=1)ss(t[n[i]],e,r)}function lc(t,e){e=e||{};var r=new O_(e);return r.noRefs||B_(t,r),Ut(r,0,t,!0,!0)?r.dump+`
`:""}function q_(t,e){return lc(t,fe.extend({schema:dr},e))}var H_=lc,z_=q_,cc={dump:H_,safeDump:z_};function Bn(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}var W_=ke,Y_=Gt,K_=Xi,V_=wl,Q_=yl,J_=dr,X_=Fn,Z_=Un.load,eb=Un.loadAll,tb=Un.safeLoad,rb=Un.safeLoadAll,nb=cc.dump,ib=cc.safeDump,sb=Ge,ob=Xi,ab=dr,lb=Fn,cb=Bn("scan"),ub=Bn("parse"),hb=Bn("compose"),pb=Bn("addConstructor"),fb={Type:W_,Schema:Y_,FAILSAFE_SCHEMA:K_,JSON_SCHEMA:V_,CORE_SCHEMA:Q_,DEFAULT_SAFE_SCHEMA:J_,DEFAULT_FULL_SCHEMA:X_,load:Z_,loadAll:eb,safeLoad:tb,safeLoadAll:rb,dump:nb,safeDump:ib,YAMLException:sb,MINIMAL_SCHEMA:ob,SAFE_SCHEMA:ab,DEFAULT_SCHEMA:lb,scan:cb,parse:ub,compose:hb,addConstructor:pb},db=fb,uc=db;var ut=document.querySelector("#env-json")?JSON.parse(document.querySelector("#env-json").innerHTML):{API:"https://api.biblogos.info"};function Yr(){let t={};return function(e,r,n){let i=n.value;n.value=function(...s){let o=`__cacheKey__${s.toString()}`;return t.hasOwnProperty(o)||(t[o]=i.apply(this,s)),t[o]}}}var Kr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Vr="http://www.w3.org/2001/XMLSchema#",os="http://www.w3.org/2000/10/swap/",$e={xsd:{decimal:`${Vr}decimal`,boolean:`${Vr}boolean`,double:`${Vr}double`,integer:`${Vr}integer`,string:`${Vr}string`},rdf:{type:`${Kr}type`,nil:`${Kr}nil`,first:`${Kr}first`,rest:`${Kr}rest`,langString:`${Kr}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${os}reify#forSome`,forAll:`${os}reify#forAll`},log:{implies:`${os}log#implies`}};var hc,gb=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:Qe):t=>(hc||(hc=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0)),{xsd:qn}=$e,mb=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,pc={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},_b=/[\x00-\x20<>\\"\{\}\|\^\`]/,bb={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},wb=/$0^/,fc=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(let r in this)!(r in bb)&&this[r]instanceof RegExp&&(this[r]=wb)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,i=this._comments;for(;;){let o,a;for(;o=this._newline.exec(n);)i&&(a=this._comment.exec(o[0]))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),n=n.substr(o[0].length,n.length),this._line++;if(!o&&(o=this._whitespace.exec(n))&&(n=n.substr(o[0].length,n.length)),this._endOfFile.test(n))return r&&(i&&(a=this._comment.exec(n))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),e(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;let l=this._line,c=n[0],u="",h="",d="",p=null,v=0,R=!1;switch(c){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){R=!0;break}}else{this._n3Mode&&(v=1,u="^");break}case"<":if(p=this._unescapedIri.exec(n))u="IRI",h=p[1];else if(p=this._iri.exec(n)){if(h=this._unescape(p[1]),h===null||_b.test(h))return s(this);u="IRI"}else n.length>1&&n[1]==="<"?(u="<<",v=2):this._n3Mode&&n.length>1&&n[1]==="="&&(u="inverse",v=2,h=">");break;case">":n.length>1&&n[1]===">"&&(u=">>",v=2);break;case"_":((p=this._blank.exec(n))||r&&(p=this._blank.exec(`${n} `)))&&(u="blank",d="_",h=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(n))h=p[1];else if({value:h,matchLength:v}=this._parseLiteral(n),h===null)return s(this);(p!==null||v!==0)&&(u="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(n))h=p[1];else if({value:h,matchLength:v}=this._parseLiteral(n),h===null)return s(this);(p!==null||v!==0)&&(u="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(n))&&(u="var",h=p[0]);break;case"@":this._previousMarker==="literal"&&(p=this._langcode.exec(n))?(u="langcode",h=p[1]):(p=this._keyword.exec(n))&&(u=p[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){u=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(n)||r&&(p=this._number.exec(`${n} `)))&&(u="literal",h=p[0],d=typeof p[1]=="string"?qn.double:typeof p[2]=="string"?qn.decimal:qn.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(n))?u=p[0].toUpperCase():R=!0;break;case"f":case"t":(p=this._boolean.exec(n))?(u="literal",h=p[0],d=qn.boolean):R=!0;break;case"a":(p=this._shortPredicates.exec(n))?(u="abbreviation",h="a"):R=!0;break;case"=":this._n3Mode&&n.length>1&&(u="abbreviation",n[1]!==">"?(v=1,h="="):(v=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(v=1,u=c);break;default:R=!0}if(R&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(p=this._prefix.exec(n))?(u="prefix",h=p[1]||""):((p=this._prefixed.exec(n))||r&&(p=this._prefixed.exec(`${n} `)))&&(u="prefixed",d=p[1]||"",h=this._unescape(p[2]))),this._previousMarker==="^^")switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?s(this):this._input=n;let w={line:l,type:u,value:h,prefix:d};e(null,w),this.previousToken=w,this._previousMarker=u,n=n.substr(v||p[0].length,n.length)}function s(o){e(o._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1,n=e.replace(mb,(i,s,o,a)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return a in pc?pc[a]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){let r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length,i=Math.max(this._literalClosingPos,n);for(;(i=e.indexOf(r,i))>0;){let s=0;for(;e[i-s-1]==="\\";)s++;if(s%2==0){let o=e.substring(n,i),a=o.split(/\r\n|\r|\n/).length-1,l=i+n;if(n===1&&a!==0||n===3&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;let r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")gb(()=>this._tokenizeToEnd(r,!0));else{let n=[],i;if(this._tokenizeToEnd((s,o)=>s?i=s:n.push(o),!0),i)throw i;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=E.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input=="undefined"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}};function dc(t){return!!t&&t.termType==="DefaultGraph"}var{rdf:yb,xsd:Mt}=$e,Qr,vb=0,gc=/^"(.*".*)(?="[^"]*$)/,Eb=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,Bt={namedNode:Tb,blankNode:kb,variable:Ab,literal:xb,defaultGraph:Sb,quad:mc,triple:mc},ze=class{constructor(e){this.id=e}get value(){return this.id}get hashCode(){return 0}equals(e){return e instanceof ze?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}toJSON(){return{termType:this.termType,value:this.value}}},as=class extends ze{get termType(){return"NamedNode"}},qt=class extends ze{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){let e=this.id,r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new as(this.datatypeString)}get datatypeString(){let e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?Mt.string:yb.langString}equals(e){return e instanceof qt?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},_c=class extends ze{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},bc=class extends ze{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},wc=class extends ze{constructor(){return super(""),Qr||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Qr=new wc;function ht(t,e){if(e=e||Bt,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===Bt)return new qt(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));let r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"<":let n=Eb.exec(t);return e.quad(ht(Hn(n[1]),e),ht(Hn(n[2]),e),ht(Hn(n[3]),e),n[4]&&ht(Hn(n[4]),e));default:return e.namedNode(t)}}function ee(t){if(typeof t=="string")return t;if(t instanceof ze&&t.termType!=="Quad")return t.id;if(!t)return Qr.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Mt.string?`^^${t.datatype.value}`:""}`;case"Quad":return`<<${ls(ee(t.subject))} ${ls(ee(t.predicate))} ${ls(ee(t.object))}${dc(t.graph)?"":` ${ee(t.graph)}`}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}var yc=class extends ze{constructor(e,r,n,i){super("");this._subject=e,this._predicate=r,this._object=n,this._graph=i||Qr}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function ls(t){return t.replace(gc,(e,r)=>`"${r.replace(/"/g,'""')}`)}function Hn(t){return t.replace(gc,(e,r)=>`"${r.replace(/""/g,'"')}`)}function Tb(t){return new as(t)}function kb(t){return new _c(t||`n3-${vb++}`)}function xb(t,e){if(typeof e=="string")return new qt(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=Mt.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?Mt.integer:Mt.double:(r=Mt.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===Mt.string?new qt(`"${t}"`):new qt(`"${t}"^^${r}`)}function Ab(t){return new bc(t)}function Sb(){return Qr}function mc(t,e,r,n){return new yc(t,e,r,n)}var vc=0,zn=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&Ec(this,e.factory);let r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),i=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),a=this._n3Mode=/n3/.test(r),l=s||o;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||s||a),this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new fc({lineMode:l,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){vc=0}_setBase(e){if(!e)this._base="",this._basePath="";else{let r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,i,s){let o=this._n3Mode;this._contextStack.push({subject:n,predicate:i,object:s,graph:r,type:e,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.id.substr(2)}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(){let e=this._contextStack.pop(),r=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,r&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":let i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);n=this._namedNode(i);break;case"type":case"prefixed":let s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(s+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){let r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);let r=this._predicate===null;return this._restoreContext(),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,i=this._readListItem,s=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(r=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?a.predicate===null?a.subject=n:a.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":let n=this._readEntity(e);if(n===void 0)return;r=this._literal(this._literalValue,n),e=null;break;case"langcode":r=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){let n=this._completeLiteral(e);if(!!n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph,i=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){let o=this._predicate,a=this._object;s?this._emit(a,o,i,n):this._emit(i,o,a,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);let r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){let r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:let r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){let i=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n,i=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=i):(r=this._object,this._object=i),this._emit(r,n,i,this._graph),this._readPath}_readBackwardPath(e){let r=this._blankNode(),n,i;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=r):(i=this._object,this._object=r),this._emit(r,n,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);let r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){let e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,i){this._callback(null,this._quad(e,r,n,i||this.DEFAULTGRAPH))}_error(e,r){let n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=cs}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;let r=e.length,n="",i=-1,s=-1,o=0,a="/";for(;i<r;){switch(a){case":":if(s<0&&e[++i]==="/"&&e[++i]==="/")for(;(s=i+1)<r&&e[s]!=="/";)i=s;break;case"?":case"#":i=r;break;case"/":if(e[i+1]===".")switch(a=e[++i+1],a){case"/":n+=e.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return n+e.substring(o,i)+e.substr(i+1);case".":if(a=e[++i+1],a===void 0||a==="/"||a==="?"||a==="#"){if(n+=e.substring(o,i-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),a!=="/")return`${n}/${e.substr(i+1)}`;o=i+1}}}a=e[++i]}return n+e.substring(o)}parse(e,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${vc++}_`,this._prefixCallback=n||cs,this._inversePredicate=!1,this._quantified=Object.create(null),!r){let i=[],s;if(this._callback=(o,a)=>{o?s=o:a&&i.push(a)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return i}this._callback=r,this._lexer.tokenize(e,(i,s)=>{i!==null?(this._callback(i),this._callback=cs):this._readCallback&&(this._readCallback=this._readCallback(s))})}};function cs(){}function Ec(t,e){let r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r($e.rdf.first),t.RDF_REST=r($e.rdf.rest),t.RDF_NIL=r($e.rdf.nil),t.N3_FORALL=r($e.r.forAll),t.N3_FORSOME=r($e.r.forSome),t.ABBREVIATIONS={a:r($e.rdf.type),"=":r($e.owl.sameAs),">":r($e.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}Ec(zn.prototype,Bt);var Jr=Bt.defaultGraph(),{rdf:Rb,xsd:yr}=$e,Tc=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,kc=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Pb={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},vr=class extends ze{equals(){return!1}},us=class{constructor(e,r){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(r=e,e=null),r=r||{},this._lists=r.lists,e)this._outputStream=e,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(i,s,o){n+=i,o&&o()},end:i=>{i&&i(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Jr,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${Ac(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return Jr.equals(this._graph)}_write(e,r){this._outputStream.write(e,"utf8",r)}_writeQuad(e,r,n,i,s){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Jr.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(e,r,n,i,s){delete this._prefixMatch,this._write(this.quadToString(e,r,n,i),s)}quadToString(e,r,n,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){return e.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let r=e.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),Tc.test(r)&&(r=r.replace(kc,xc));let n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(e){let r=e.value;if(Tc.test(r)&&(r=r.replace(kc,xc)),e.language)return`"${r}"@${e.language}`;if(this._lineMode){if(e.datatype.value===yr.string)return`"${r}"`}else switch(e.datatype.value){case yr.string:return`"${r}"`;case yr.boolean:if(r==="true"||r==="false")return r;break;case yr.integer:if(/^[+-]?\d+$/.test(r))return r;break;case yr.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case yr.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===Rb.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:r,object:n,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${dc(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,r,n,i,s){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,r):typeof i=="function"?this._writeQuad(e,r,n,Jr,i):this._writeQuad(e,r,n,i||Jr,s)}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}addPrefix(e,r,n){let i={};i[e]=r,this.addPrefixes(i,n)}addPrefixes(e,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let i in e){let s=e[i];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=i+=":",this._write(`@prefix ${i} <${s}>.
`)}if(n){let i="",s="";for(let o in this._prefixIRIs)i+=i?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];i=Ac(i),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${i})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(e,r){let n=e,i,s;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:r}]:"length"in e||(n=[e]),s=n.length){case 0:return new vr("[]");case 1:if(i=n[0],!(i.object instanceof vr))return new vr(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let a=0;a<s;a++)i=n[a],i.predicate.equals(e)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(a?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new vr(`${o}
]`)}}list(e){let r=e&&e.length||0,n=new Array(r);for(let i=0;i<r;i++)n[i]=this._encodeObject(e[i]);return new vr(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=e&&((n,i)=>{r=null,e(n,i)});if(this._endStream)try{return this._outputStream.end(r)}catch(n){}r&&r()}};function xc(t){let e=Pb[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function Ac(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var Ob;function Et(){}Et.prototype=Object.create(null);function se(){se.init.call(this)}se.EventEmitter=se;se.usingDomains=!1;se.prototype.domain=void 0;se.prototype._events=void 0;se.prototype._maxListeners=void 0;se.defaultMaxListeners=10;se.init=function(){this.domain=null,se.usingDomains&&Ob.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new Et,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};se.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};function Sc(t){return t._maxListeners===void 0?se.defaultMaxListeners:t._maxListeners}se.prototype.getMaxListeners=function(){return Sc(this)};function Cb(t,e,r){if(e)t.call(r);else for(var n=t.length,i=Xr(t,n),s=0;s<n;++s)i[s].call(r)}function Ib(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,s=Xr(t,i),o=0;o<i;++o)s[o].call(r,n)}function jb(t,e,r,n,i){if(e)t.call(r,n,i);else for(var s=t.length,o=Xr(t,s),a=0;a<s;++a)o[a].call(r,n,i)}function $b(t,e,r,n,i,s){if(e)t.call(r,n,i,s);else for(var o=t.length,a=Xr(t,o),l=0;l<o;++l)a[l].call(r,n,i,s)}function Fb(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,s=Xr(t,i),o=0;o<i;++o)s[o].apply(r,n)}se.prototype.emit=function(e){var r,n,i,s,o,a,l,c=e==="error";if(a=this._events,a)c=c&&a.error==null;else if(!c)return!1;if(l=this.domain,c){if(r=arguments[1],l)r||(r=new Error('Uncaught, unspecified "error" event')),r.domainEmitter=this,r.domain=l,r.domainThrown=!1,l.emit("error",r);else{if(r instanceof Error)throw r;var u=new Error('Uncaught, unspecified "error" event. ('+r+")");throw u.context=r,u}return!1}if(n=a[e],!n)return!1;var h=typeof n=="function";switch(i=arguments.length,i){case 1:Cb(n,h,this);break;case 2:Ib(n,h,this,arguments[1]);break;case 3:jb(n,h,this,arguments[1],arguments[2]);break;case 4:$b(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(i-1),o=1;o<i;o++)s[o-1]=arguments[o];Fb(n,h,this,s)}return!0};function Rc(t,e,r,n){var i,s,o;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(s=t._events,s?(s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]):(s=t._events=new Et,t._eventsCount=0),!o)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=Sc(t),i&&i>0&&o.length>i)){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Lb(a)}return t}function Lb(t){typeof console.warn=="function"?console.warn(t):console.log(t)}se.prototype.addListener=function(e,r){return Rc(this,e,r,!1)};se.prototype.on=se.prototype.addListener;se.prototype.prependListener=function(e,r){return Rc(this,e,r,!0)};function Pc(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}se.prototype.once=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,Pc(this,e,r)),this};se.prototype.prependOnceListener=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Pc(this,e,r)),this};se.prototype.removeListener=function(e,r){var n,i,s,o,a;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(n=i[e],!n)return this;if(n===r||n.listener&&n.listener===r)--this._eventsCount==0?this._events=new Et:(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length;o-- >0;)if(n[o]===r||n[o].listener&&n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new Et,this;delete i[e]}else Gb(n,s);i.removeListener&&this.emit("removeListener",e,a||r)}return this};se.prototype.off=function(t,e){return this.removeListener(t,e)};se.prototype.removeAllListeners=function(e){var r,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new Et,this._eventsCount=0):n[e]&&(--this._eventsCount==0?this._events=new Et:delete n[e]),this;if(arguments.length===0){for(var i=Object.keys(n),s=0,o;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new Et,this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r)do this.removeListener(e,r[r.length-1]);while(r[0]);return this};se.prototype.listeners=function(e){var r,n,i=this._events;return i?(r=i[e],r?typeof r=="function"?n=[r.listener||r]:n=Db(r):n=[]):n=[],n};se.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Oc.call(t,e)};se.prototype.listenerCount=Oc;function Oc(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}se.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function Gb(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}function Xr(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}function Db(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}var Nb=Object.freeze({__proto__:null,default:se,EventEmitter:se}),Cc=Nr(Nb),Ht=Cc.EventEmitter,zt=Nr(aa);function Ic(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ic(Object(r),!0).forEach(function(n){Ub(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ic(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ub(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qb(t,e,r){return e&&jc(t.prototype,e),r&&jc(t,r),t}var Wn=zt.Buffer,hs=wt.inspect,Hb=hs&&hs.custom||"inspect";function zb(t,e,r){Wn.prototype.copy.call(t,e,r)}var Wb=function(){function t(){Bb(this,t),this.head=null,this.tail=null,this.length=0}return qb(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Wn.alloc(0);for(var n=Wn.allocUnsafe(r>>>0),i=this.head,s=0;i;)zb(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=Wn.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:Hb,value:function(r,n){return hs(this,Mb({},n,{depth:0,customInspect:!1}))}}]),t}();function Yb(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,J.nextTick(ps,this,t)):J.nextTick(ps,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?J.nextTick(Yn,r):(r._writableState.errorEmitted=!0,J.nextTick($c,r,s)):J.nextTick($c,r,s):e?(J.nextTick(Yn,r),e(s)):J.nextTick(Yn,r)}),this)}function $c(t,e){ps(t,e),Yn(t)}function Yn(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Kb(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ps(t,e){t.emit("error",e)}function Vb(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Er={destroy:Yb,undestroy:Kb,errorOrDestroy:Vb};function Qb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Fc={};function Be(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Qb(o,s);function o(a,l,c){return s.call(this,n(a,l,c))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Fc[t]=i}function Lc(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Jb(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Xb(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Zb(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Be("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Be("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Jb(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Xb(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Lc(e,"type"));else{var s=Zb(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Lc(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Be("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Be("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Be("ERR_STREAM_PREMATURE_CLOSE","Premature close");Be("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Be("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Be("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Be("ERR_STREAM_WRITE_AFTER_END","write after end");Be("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Be("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Be("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");var ew=Fc,Tr={codes:ew},tw=Tr.codes.ERR_INVALID_OPT_VALUE;function rw(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function nw(t,e,r,n){var i=rw(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new tw(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Gc={getHighWaterMark:nw},Zr=nt(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),sw=iw;function iw(t,e){if(fs("noDeprecation"))return t;var r=!1;function n(){if(!r){if(fs("throwDeprecation"))throw new Error(e);fs("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function fs(t){try{if(!Qe.localStorage)return!1}catch(r){return!1}var e=Qe.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Kn=he;function Dc(t){var e=this;this.next=null,this.entry=null,this.finish=function(){ow(e,t)}}var kr;he.WritableState=en;var aw={deprecate:sw},Vn=zt.Buffer,lw=Qe.Uint8Array||function(){};function cw(t){return Vn.from(t)}function uw(t){return Vn.isBuffer(t)||t instanceof lw}var hw=Gc.getHighWaterMark,Tt=Tr.codes,pw=Tt.ERR_INVALID_ARG_TYPE,fw=Tt.ERR_METHOD_NOT_IMPLEMENTED,dw=Tt.ERR_MULTIPLE_CALLBACK,gw=Tt.ERR_STREAM_CANNOT_PIPE,mw=Tt.ERR_STREAM_DESTROYED,_w=Tt.ERR_STREAM_NULL_VALUES,bw=Tt.ERR_STREAM_WRITE_AFTER_END,ww=Tt.ERR_UNKNOWN_ENCODING,xr=Er.errorOrDestroy;Zr(he,Ht);function yw(){}function en(t,e,r){kr=kr||pt,t=t||{},typeof r!="boolean"&&(r=e instanceof kr),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=hw(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){vw(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Dc(this)}en.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(en.prototype,"buffer",{get:aw.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var Qn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Qn=Function.prototype[Symbol.hasInstance],Object.defineProperty(he,Symbol.hasInstance,{value:function(e){return Qn.call(this,e)?!0:this!==he?!1:e&&e._writableState instanceof en}})):Qn=function(e){return e instanceof this};function he(t){kr=kr||pt;var e=this instanceof kr;if(!e&&!Qn.call(he,this))return new he(t);this._writableState=new en(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Ht.call(this)}he.prototype.pipe=function(){xr(this,new gw)};function Ew(t,e){var r=new bw;xr(t,r),J.nextTick(e,r)}function Tw(t,e,r,n){var i;return r===null?i=new _w:typeof r!="string"&&!e.objectMode&&(i=new pw("chunk",["string","Buffer"],r)),i?(xr(t,i),J.nextTick(n,i),!1):!0}he.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&uw(t);return s&&!Vn.isBuffer(t)&&(t=cw(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=yw),n.ending?Ew(this,r):(s||Tw(this,n,t,r))&&(n.pendingcb++,i=kw(this,n,s,t,e,r)),i};he.prototype.cork=function(){this._writableState.corked++};he.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Nc(this,t))};he.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new ww(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(he.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function xw(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Vn.from(e,r)),e}Object.defineProperty(he.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function kw(t,e,r,n,i,s){if(!r){var o=xw(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else ds(t,e,!1,a,n,i,s);return l}function ds(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new mw("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Aw(t,e,r,n,i){--e.pendingcb,r?(J.nextTick(i,n),J.nextTick(tn,t,e),t._writableState.errorEmitted=!0,xr(t,n)):(i(n),t._writableState.errorEmitted=!0,xr(t,n),tn(t,e))}function Sw(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function vw(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new dw;if(Sw(r),e)Aw(t,r,n,e,i);else{var s=Mc(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Nc(t,r),n?J.nextTick(Uc,t,r,s,i):Uc(t,r,s,i)}}function Uc(t,e,r,n){r||Rw(t,e),e.pendingcb--,n(),tn(t,e)}function Rw(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Nc(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,ds(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Dc(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,h=e.objectMode?1:l.length;if(ds(t,e,!1,h,l,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}he.prototype._write=function(t,e,r){r(new fw("_write()"))};he.prototype._writev=null;he.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Pw(this,n,r),this};Object.defineProperty(he.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Mc(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Ow(t,e){t._final(function(r){e.pendingcb--,r&&xr(t,r),e.prefinished=!0,t.emit("prefinish"),tn(t,e)})}function Cw(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,J.nextTick(Ow,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function tn(t,e){var r=Mc(e);if(r&&(Cw(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Pw(t,e,r){e.ending=!0,tn(t,e),r&&(e.finished?J.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function ow(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(he.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});he.prototype.destroy=Er.destroy;he.prototype._undestroy=Er.undestroy;he.prototype._destroy=function(t,e){e(t)};var Iw=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},pt=tt;Zr(tt,gs);for(ms=Iw(Kn.prototype),Jn=0;Jn<ms.length;Jn++)Xn=ms[Jn],tt.prototype[Xn]||(tt.prototype[Xn]=Kn.prototype[Xn]);var ms,Xn,Jn;function tt(t){if(!(this instanceof tt))return new tt(t);gs.call(this,t),Kn.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",jw)))}Object.defineProperty(tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(tt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(tt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function jw(){this._writableState.ended||J.nextTick($w,this)}function $w(t){t.end()}Object.defineProperty(tt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var Fw=nt(function(t,e){var r=zt.Buffer;function n(s,o){for(var a in s)o[a]=s[a]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=zt:(n(zt,e),e.Buffer=i);function i(s,o,a){return r(s,o,a)}i.prototype=Object.create(r.prototype),n(r,i),i.from=function(s,o,a){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,o,a)},i.alloc=function(s,o,a){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=r(s);return o!==void 0?typeof a=="string"?l.fill(o,a):l.fill(o):l.fill(0),l},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return zt.SlowBuffer(s)}}),_s=Fw.Buffer,Bc=_s.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Lw(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Gw(t){var e=Lw(t);if(typeof e!="string"&&(_s.isEncoding===Bc||!Bc(t)))throw new Error("Unknown encoding: "+t);return e||t}var Dw=rn;function rn(t){this.encoding=Gw(t);var e;switch(this.encoding){case"utf16le":this.text=Uw,this.end=Mw,e=4;break;case"utf8":this.fillLast=Nw,e=4;break;case"base64":this.text=Bw,this.end=qw,e=3;break;default:this.write=Hw,this.end=zw;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=_s.allocUnsafe(e)}rn.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};rn.prototype.end=Ww;rn.prototype.text=Yw;rn.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function bs(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function Kw(t,e,r){var n=e.length-1;if(n<r)return 0;var i=bs(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=bs(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=bs(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Vw(t,e,r){if((e[0]&192)!=128)return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!=128)return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!=128)return t.lastNeed=2,"ï¿½"}}function Nw(t){var e=this.lastTotal-this.lastNeed,r=Vw(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Yw(t,e){var r=Kw(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Ww(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e}function Uw(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Mw(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Bw(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function qw(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Hw(t){return t.toString(this.encoding)}function zw(t){return t&&t.length?this.write(t):""}var qc={StringDecoder:Dw},Hc=Tr.codes.ERR_STREAM_PREMATURE_CLOSE;function Qw(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Jw(){}function Xw(t){return t.setHeader&&typeof t.abort=="function"}function zc(t,e,r){if(typeof e=="function")return zc(t,null,e);e||(e={}),r=Qw(r||Jw);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,l=!0,i||r.call(t)},u=function(v){r.call(t,v)},h=function(){var v;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(v=new Hc),r.call(t,v);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(v=new Hc),r.call(t,v)},d=function(){t.req.on("finish",a)};return Xw(t)?(t.on("complete",a),t.on("abort",h),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",h),function(){t.removeListener("complete",a),t.removeListener("abort",h),t.removeListener("request",d),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",h)}}var ws=zc,Zn;function kt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xt=Symbol("lastResolve"),Wt=Symbol("lastReject"),nn=Symbol("error"),ei=Symbol("ended"),Yt=Symbol("lastPromise"),ys=Symbol("handlePromise"),Kt=Symbol("stream");function At(t,e){return{value:t,done:e}}function Zw(t){var e=t[xt];if(e!==null){var r=t[Kt].read();r!==null&&(t[Yt]=null,t[xt]=null,t[Wt]=null,e(At(r,!1)))}}function e0(t){J.nextTick(Zw,t)}function t0(t,e){return function(r,n){t.then(function(){if(e[ei]){r(At(void 0,!0));return}e[ys](r,n)},n)}}var r0=Object.getPrototypeOf(function(){}),n0=Object.setPrototypeOf((Zn={get stream(){return this[Kt]},next:function(){var e=this,r=this[nn];if(r!==null)return Promise.reject(r);if(this[ei])return Promise.resolve(At(void 0,!0));if(this[Kt].destroyed)return new Promise(function(o,a){J.nextTick(function(){e[nn]?a(e[nn]):o(At(void 0,!0))})});var n=this[Yt],i;if(n)i=new Promise(t0(n,this));else{var s=this[Kt].read();if(s!==null)return Promise.resolve(At(s,!1));i=new Promise(this[ys])}return this[Yt]=i,i}},kt(Zn,Symbol.asyncIterator,function(){return this}),kt(Zn,"return",function(){var e=this;return new Promise(function(r,n){e[Kt].destroy(null,function(i){if(i){n(i);return}r(At(void 0,!0))})})}),Zn),r0),i0=function(e){var r,n=Object.create(n0,(r={},kt(r,Kt,{value:e,writable:!0}),kt(r,xt,{value:null,writable:!0}),kt(r,Wt,{value:null,writable:!0}),kt(r,nn,{value:null,writable:!0}),kt(r,ei,{value:e._readableState.endEmitted,writable:!0}),kt(r,ys,{value:function(s,o){var a=n[Kt].read();a?(n[Yt]=null,n[xt]=null,n[Wt]=null,s(At(a,!1))):(n[xt]=s,n[Wt]=o)},writable:!0}),r));return n[Yt]=null,ws(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Wt];s!==null&&(n[Yt]=null,n[xt]=null,n[Wt]=null,s(i)),n[nn]=i;return}var o=n[xt];o!==null&&(n[Yt]=null,n[xt]=null,n[Wt]=null,o(At(void 0,!0))),n[ei]=!0}),e.on("readable",e0.bind(null,n)),n},s0=i0,o0=function(){throw new Error("Readable.from is not available in the browser")},gs=te,Ar;te.ReadableState=Wc;var Jy=Cc.EventEmitter,Yc=function(e,r){return e.listeners(r).length},ti=zt.Buffer,a0=Qe.Uint8Array||function(){};function l0(t){return ti.from(t)}function c0(t){return ti.isBuffer(t)||t instanceof a0}var Y;wt&&wt.debuglog?Y=wt.debuglog("stream"):Y=function(){};var u0=Gc.getHighWaterMark,ri=Tr.codes,h0=ri.ERR_INVALID_ARG_TYPE,p0=ri.ERR_STREAM_PUSH_AFTER_EOF,f0=ri.ERR_METHOD_NOT_IMPLEMENTED,d0=ri.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Sr,vs,Es;Zr(te,Ht);var sn=Er.errorOrDestroy,Ts=["error","close","destroy","pause","resume"];function g0(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Wc(t,e,r){Ar=Ar||pt,t=t||{},typeof r!="boolean"&&(r=e instanceof Ar),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=u0(this,t,"readableHighWaterMark",r),this.buffer=new Wb,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Sr||(Sr=qc.StringDecoder),this.decoder=new Sr(t.encoding),this.encoding=t.encoding)}function te(t){if(Ar=Ar||pt,!(this instanceof te))return new te(t);var e=this instanceof Ar;this._readableState=new Wc(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Ht.call(this)}Object.defineProperty(te.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});te.prototype.destroy=Er.destroy;te.prototype._undestroy=Er.undestroy;te.prototype._destroy=function(t,e){e(t)};te.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=ti.from(t,e),e=""),n=!0),Kc(this,t,e,!1,n)};te.prototype.unshift=function(t){return Kc(this,t,null,!0,!1)};function Kc(t,e,r,n,i){Y("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,_0(t,s);else{var o;if(i||(o=m0(s,e)),o)sn(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==ti.prototype&&(e=l0(e)),n)s.endEmitted?sn(t,new d0):ks(t,s,e,!0);else if(s.ended)sn(t,new p0);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?ks(t,s,e,!1):xs(t,s)):ks(t,s,e,!1)}else n||(s.reading=!1,xs(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function ks(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ni(t)),xs(t,e)}function m0(t,e){var r;return!c0(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new h0("chunk",["string","Buffer","Uint8Array"],e)),r}te.prototype.isPaused=function(){return this._readableState.flowing===!1};te.prototype.setEncoding=function(t){Sr||(Sr=qc.StringDecoder);var e=new Sr(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Vc=1073741824;function b0(t){return t>=Vc?t=Vc:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Qc(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=b0(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}te.prototype.read=function(t){Y("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Y("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?As(this):ni(this),null;if(t=Qc(t,e),t===0&&e.ended)return e.length===0&&As(this),null;var n=e.needReadable;Y("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Y("length less than watermark",n)),e.ended||e.reading?(n=!1,Y("reading or ended",n)):n&&(Y("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Qc(r,e)));var i;return t>0?i=Jc(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&As(this)),i!==null&&this.emit("data",i),i};function _0(t,e){if(Y("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?ni(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Xc(t)))}}function ni(t){var e=t._readableState;Y("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Y("emitReadable",e.flowing),e.emittedReadable=!0,J.nextTick(Xc,t))}function Xc(t){var e=t._readableState;Y("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Ss(t)}function xs(t,e){e.readingMore||(e.readingMore=!0,J.nextTick(w0,t,e))}function w0(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Y("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}te.prototype._read=function(t){sn(this,new f0("_read()"))};te.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Y("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==J.stdout&&t!==J.stderr,s=i?a:R;n.endEmitted?J.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(w,$){Y("onunpipe"),w===r&&$&&$.hasUnpiped===!1&&($.hasUnpiped=!0,u())}function a(){Y("onend"),t.end()}var l=y0(r);t.on("drain",l);var c=!1;function u(){Y("cleanup"),t.removeListener("close",p),t.removeListener("finish",v),t.removeListener("drain",l),t.removeListener("error",d),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",R),r.removeListener("data",h),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",h);function h(w){Y("ondata");var $=t.write(w);Y("dest.write",$),$===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Zc(n.pipes,t)!==-1)&&!c&&(Y("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(w){Y("onerror",w),R(),t.removeListener("error",d),Yc(t,"error")===0&&sn(t,w)}g0(t,"error",d);function p(){t.removeListener("finish",v),R()}t.once("close",p);function v(){Y("onfinish"),t.removeListener("close",p),R()}t.once("finish",v);function R(){Y("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Y("pipe resume"),r.resume()),t};function y0(t){return function(){var r=t._readableState;Y("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Yc(t,"data")&&(r.flowing=!0,Ss(t))}}te.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Zc(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};te.prototype.on=function(t,e){var r=Ht.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Y("on readable",n.length,n.reading),n.length?ni(this):n.reading||J.nextTick(v0,this)),r};te.prototype.addListener=te.prototype.on;te.prototype.removeListener=function(t,e){var r=Ht.prototype.removeListener.call(this,t,e);return t==="readable"&&J.nextTick(eu,this),r};te.prototype.removeAllListeners=function(t){var e=Ht.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&J.nextTick(eu,this),e};function eu(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function v0(t){Y("readable nexttick read 0"),t.read(0)}te.prototype.resume=function(){var t=this._readableState;return t.flowing||(Y("resume"),t.flowing=!t.readableListening,E0(this,t)),t.paused=!1,this};function E0(t,e){e.resumeScheduled||(e.resumeScheduled=!0,J.nextTick(T0,t,e))}function T0(t,e){Y("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Ss(t),e.flowing&&!e.reading&&t.read(0)}te.prototype.pause=function(){return Y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ss(t){var e=t._readableState;for(Y("flow",e.flowing);e.flowing&&t.read()!==null;);}te.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Y("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Y("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<Ts.length;s++)t.on(Ts[s],this.emit.bind(this,Ts[s]));return this._read=function(o){Y("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(te.prototype[Symbol.asyncIterator]=function(){return vs===void 0&&(vs=s0),vs(this)});Object.defineProperty(te.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(te.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(te.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});te._fromList=Jc;Object.defineProperty(te.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Jc(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function As(t){var e=t._readableState;Y("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,J.nextTick(k0,e,t))}function k0(t,e){if(Y("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(te.from=function(t,e){return Es===void 0&&(Es=o0),Es(te,t,e)});function Zc(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var Rs=ft,ii=Tr.codes,x0=ii.ERR_METHOD_NOT_IMPLEMENTED,A0=ii.ERR_MULTIPLE_CALLBACK,S0=ii.ERR_TRANSFORM_ALREADY_TRANSFORMING,R0=ii.ERR_TRANSFORM_WITH_LENGTH_0;Zr(ft,pt);function P0(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new A0);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ft(t){if(!(this instanceof ft))return new ft(t);pt.call(this,t),this._transformState={afterTransform:P0.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",O0)}function O0(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){tu(t,e,r)}):tu(this,null,null)}ft.prototype.push=function(t,e){return this._transformState.needTransform=!1,pt.prototype.push.call(this,t,e)};ft.prototype._transform=function(t,e,r){r(new x0("_transform()"))};ft.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ft.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ft.prototype._destroy=function(t,e){pt.prototype._destroy.call(this,t,function(r){e(r)})};function tu(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new R0;if(t._transformState.transforming)throw new S0;return t.push(null)}var C0=on;Zr(on,Rs);function on(t){if(!(this instanceof on))return new on(t);Rs.call(this,t)}on.prototype._transform=function(t,e,r){r(null,t)};var Ps;function I0(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var ru=Tr.codes,j0=ru.ERR_MISSING_ARGS,$0=ru.ERR_STREAM_DESTROYED;function nu(t){if(t)throw t}function F0(t){return t.setHeader&&typeof t.abort=="function"}function L0(t,e,r,n){n=I0(n);var i=!1;t.on("close",function(){i=!0}),Ps===void 0&&(Ps=ws),Ps(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,F0(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new $0("pipe"))}}}function iu(t){t()}function G0(t,e){return t.pipe(e)}function D0(t){return!t.length||typeof t[t.length-1]!="function"?nu:t.pop()}function N0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=D0(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new j0("streams");var i,s=e.map(function(o,a){var l=a<e.length-1,c=a>0;return L0(o,l,c,function(u){i||(i=u),u&&s.forEach(iu),!l&&(s.forEach(iu),n(i))})});return e.reduce(G0)}var U0=N0,su=nt(function(t,e){e=t.exports=gs,e.Stream=e,e.Readable=e,e.Writable=Kn,e.Duplex=pt,e.Transform=Rs,e.PassThrough=C0,e.finished=ws,e.pipeline=U0}),si=class{constructor(e,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,!r&&e&&!e[0]&&(r=e,e=null),r=r||{},this._factory=r.factory||Bt,e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;let r=this._graphs,n,i;for(let s in r)for(let o in n=r[s].subjects)for(let a in i=n[o])e+=Object.keys(i[a]).length;return this._size=e}_addToIndex(e,r,n,i){let s=e[r]||(e[r]={}),o=s[n]||(s[n]={}),a=i in o;return a||(o[i]=null),!a}_removeFromIndex(e,r,n,i){let s=e[r],o=s[n];delete o[i];for(let a in o)return;delete s[n];for(let a in s)return;delete e[r]}_findInIndex(e,r,n,i,s,o,a,l,c,u){let h,d,p,v=!r+!n+!i,R=v>1?Object.keys(this._ids):this._entities;r&&((h=e,e={})[r]=h[r]);for(let w in e){let $=R[w];if(d=e[w]){n&&((h=d,d={})[n]=h[n]);for(let D in d){let K=R[D];if(p=d[D]){let H=i?i in p?[i]:[]:Object.keys(p);for(let ne=0;ne<H.length;ne++){let V={subject:null,predicate:null,object:null};V[s]=ht($,this._factory),V[o]=ht(K,this._factory),V[a]=ht(R[H[ne]],this._factory);let le=this._factory.quad(V.subject,V.predicate,V.object,ht(l,this._factory));if(u)u.push(le);else if(c(le))return!0}}}}}return u}_loop(e,r){for(let n in e)r(n)}_loopByKey0(e,r,n){let i,s;if(i=e[r])for(s in i)n(s)}_loopByKey1(e,r,n){let i,s;for(i in e)s=e[i],s[r]&&n(i)}_loopBy2Keys(e,r,n,i){let s,o,a;if((s=e[r])&&(o=s[n]))for(a in o)i(a)}_countInIndex(e,r,n,i){let s=0,o,a,l;r&&((o=e,e={})[r]=o[r]);for(let c in e)if(a=e[c]){n&&((o=a,a={})[n]=o[n]);for(let u in a)(l=a[u])&&(i?i in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(e){if(!Fe(e))return this._graphs;let r={};return r[e]=this._graphs[e],r}_uniqueEntities(e){let r=Object.create(null);return n=>{n in r||(r[n]=!0,e(ht(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,r,n,i){r||(i=e.graph,n=e.object,r=e.predicate,e=e.subject),e=ee(e),r=ee(r),n=ee(n),i=ee(i);let s=this._graphs[i];s||(s=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(s));let o=this._ids,a=this._entities;e=o[e]||(o[a[++this._id]=e]=this._id),r=o[r]||(o[a[++this._id]=r]=this._id),n=o[n]||(o[a[++this._id]=n]=this._id);let l=this._addToIndex(s.subjects,e,r,n);return this._addToIndex(s.predicates,r,n,e),this._addToIndex(s.objects,n,e,r),this._size=null,l}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}delete(e){return this.removeQuad(e),this}has(e){return this.getQuads(e.subject,e.predicate,e.object,e.graph).length!==0}import(e){return e.on("data",r=>{this.addQuad(r)}),e}removeQuad(e,r,n,i){r||(i=e.graph,n=e.object,r=e.predicate,e=e.subject),e=ee(e),r=ee(r),n=ee(n),i=ee(i);let s=this._ids,o=this._graphs,a,l,c;if(!(e=s[e])||!(r=s[r])||!(n=s[n])||!(a=o[i])||!(l=a.subjects[e])||!(c=l[r])||!(n in c))return!1;this._removeFromIndex(a.subjects,e,r,n),this._removeFromIndex(a.predicates,r,n,e),this._removeFromIndex(a.objects,n,e,r),this._size!==null&&this._size--;for(e in a.subjects)return!0;return delete o[i],!0}removeQuads(e){for(let r=0;r<e.length;r++)this.removeQuad(e[r])}remove(e){return e.on("data",r=>{this.removeQuad(r)}),e}removeMatches(e,r,n,i){let s=new su.Readable({objectMode:!0});return s._read=()=>{for(let o of this.getQuads(e,r,n,i))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,r,n,i){e=e&&ee(e),r=r&&ee(r),n=n&&ee(n),i=i&&ee(i);let s=[],o=this._getGraphs(i),a=this._ids,l,c,u,h;if(Fe(e)&&!(c=a[e])||Fe(r)&&!(u=a[r])||Fe(n)&&!(h=a[n]))return s;for(let d in o)(l=o[d])&&(c?h?this._findInIndex(l.objects,h,c,u,"object","subject","predicate",d,null,s):this._findInIndex(l.subjects,c,u,null,"subject","predicate","object",d,null,s):u?this._findInIndex(l.predicates,u,h,null,"predicate","object","subject",d,null,s):h?this._findInIndex(l.objects,h,null,null,"object","subject","predicate",d,null,s):this._findInIndex(l.subjects,null,null,null,"subject","predicate","object",d,null,s));return s}match(e,r,n,i){return new oi(this,e,r,n,i)}countQuads(e,r,n,i){e=e&&ee(e),r=r&&ee(r),n=n&&ee(n),i=i&&ee(i);let s=this._getGraphs(i),o=this._ids,a=0,l,c,u,h;if(Fe(e)&&!(c=o[e])||Fe(r)&&!(u=o[r])||Fe(n)&&!(h=o[n]))return 0;for(let d in s)(l=s[d])&&(e?n?a+=this._countInIndex(l.objects,h,c,u):a+=this._countInIndex(l.subjects,c,u,h):r?a+=this._countInIndex(l.predicates,u,h,c):a+=this._countInIndex(l.objects,h,c,u));return a}forEach(e,r,n,i,s){this.some(o=>(e(o),!1),r,n,i,s)}every(e,r,n,i,s){let o=!1,a=!this.some(l=>(o=!0,!e(l)),r,n,i,s);return o&&a}some(e,r,n,i,s){r=r&&ee(r),n=n&&ee(n),i=i&&ee(i),s=s&&ee(s);let o=this._getGraphs(s),a=this._ids,l,c,u,h;if(Fe(r)&&!(c=a[r])||Fe(n)&&!(u=a[n])||Fe(i)&&!(h=a[i]))return!1;for(let d in o)if(l=o[d]){if(c){if(h){if(this._findInIndex(l.objects,h,c,u,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(l.subjects,c,u,null,"subject","predicate","object",d,e,null))return!0}else if(u){if(this._findInIndex(l.predicates,u,h,null,"predicate","object","subject",d,e,null))return!0}else if(h){if(this._findInIndex(l.objects,h,null,null,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(l.subjects,null,null,null,"subject","predicate","object",d,e,null))return!0}return!1}getSubjects(e,r,n){let i=[];return this.forSubjects(s=>{i.push(s)},e,r,n),i}forSubjects(e,r,n,i){r=r&&ee(r),n=n&&ee(n),i=i&&ee(i);let s=this._ids,o=this._getGraphs(i),a,l,c;if(e=this._uniqueEntities(e),!(Fe(r)&&!(l=s[r])||Fe(n)&&!(c=s[n])))for(i in o)(a=o[i])&&(l?c?this._loopBy2Keys(a.predicates,l,c,e):this._loopByKey1(a.subjects,l,e):c?this._loopByKey0(a.objects,c,e):this._loop(a.subjects,e))}getPredicates(e,r,n){let i=[];return this.forPredicates(s=>{i.push(s)},e,r,n),i}forPredicates(e,r,n,i){r=r&&ee(r),n=n&&ee(n),i=i&&ee(i);let s=this._ids,o=this._getGraphs(i),a,l,c;if(e=this._uniqueEntities(e),!(Fe(r)&&!(l=s[r])||Fe(n)&&!(c=s[n])))for(i in o)(a=o[i])&&(l?c?this._loopBy2Keys(a.objects,c,l,e):this._loopByKey0(a.subjects,l,e):c?this._loopByKey1(a.predicates,c,e):this._loop(a.predicates,e))}getObjects(e,r,n){let i=[];return this.forObjects(s=>{i.push(s)},e,r,n),i}forObjects(e,r,n,i){r=r&&ee(r),n=n&&ee(n),i=i&&ee(i);let s=this._ids,o=this._getGraphs(i),a,l,c;if(e=this._uniqueEntities(e),!(Fe(r)&&!(l=s[r])||Fe(n)&&!(c=s[n])))for(i in o)(a=o[i])&&(l?c?this._loopBy2Keys(a.subjects,l,c,e):this._loopByKey1(a.objects,l,e):c?this._loopByKey0(a.predicates,c,e):this._loop(a.objects,e))}getGraphs(e,r,n){let i=[];return this.forGraphs(s=>{i.push(s)},e,r,n),i}forGraphs(e,r,n,i){for(let s in this._graphs)this.some(o=>(e(o.graph),!0),r,n,i,s)}createBlankNode(e){let r,n;if(e)for(r=e=`_:${e}`,n=1;this._ids[r];)r=e+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:e=!1,ignoreErrors:r=!1}={}){let n={},i=r?()=>!0:(a,l)=>{throw new Error(`${a.value} ${l}`)},s=this.getQuads(null,$e.rdf.rest,$e.rdf.nil,null),o=e?[...s]:[];return s.forEach(a=>{let l=[],c=!1,u,h,d=a.graph,p=a.subject;for(;p&&!c;){let v=this.getQuads(null,null,p,null),R=this.getQuads(p,null,null,null),w,$=null,D=null,K=null;for(let H=0;H<R.length&&!c;H++)w=R[H],w.graph.equals(d)?u?c=i(p,"has non-list arcs out"):w.predicate.value===$e.rdf.first?$?c=i(p,"has multiple rdf:first arcs"):o.push($=w):w.predicate.value===$e.rdf.rest?D?c=i(p,"has multiple rdf:rest arcs"):o.push(D=w):v.length?c=i(p,"can't be subject and object"):(u=w,h="subject"):c=i(p,"not confined to single graph");for(let H=0;H<v.length&&!c;++H)w=v[H],u?c=i(p,"can't have coreferences"):w.predicate.value===$e.rdf.rest?K?c=i(p,"has incoming rdf:rest arcs"):K=w:(u=w,h="object");$?l.unshift($.object):c=i(p,"has no list head"),p=K&&K.subject}c?e=!1:u&&(n[u[h].value]=l)}),e&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.getQuads()}};function Fe(t){return typeof t=="string"||t instanceof String}var oi=class extends su.Readable{constructor(e,r,n,i,s){super({objectMode:!0});Object.assign(this,{n3Store:e,subject:r,predicate:n,object:i,graph:s})}get filtered(){if(!this._filtered){let{n3Store:e,graph:r,object:n,predicate:i,subject:s}=this,o=e.getQuads(s,i,n,r);this._filtered=new si(o,{factory:e._factory})}return this._filtered}get size(){return this.filtered.size}_read(){for(let e of this.filtered.getQuads())this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,r,n,i){return new oi(this.filtered,e,r,n,i)}*[Symbol.iterator](){yield*this.filtered.getQuads()}};var ou=async(t,e)=>new Promise(r=>{let n=document.createElement("script");n.src=t,n.onload=()=>{r(window[e])},document.head.appendChild(n)});var Os=t=>t.map(e=>parseInt(e).toString()===e?parseInt(e):e);var Cs=class{#e;constructor(e){this.#e=e;let[r,n]=e.includes(":")?e.split(":"):[e,e],[i,s,o,a]=Os(r.split("."));Object.assign(this,{startBook:i,startChapter:s,startVerse:o,startWord:a});let[c,u,h,d]=Os(n.split("."));Object.assign(this,{endBook:c,endChapter:u,endVerse:h,endWord:d}),this.startNumber=this.toNumber(s,o,a),this.endNumber=this.toNumber(u,h,d)}toNumber(e,r,n){return e*1e4+r*1e3+n}includes(e,r,n,i){if(e!==this.startBook&&e!==this.endBook)return;let s=this.toNumber(r,n,i);return s>=this.startNumber&&s<=this.endNumber}get isShort(){return this.startVerse+4>this.endVerse}get length(){return this.endNumber-this.startNumber}toString(){return this.#e}};var au=t=>{let e=new EventTarget;return[new Proxy(t,{get:function(r,n,i){return["addQuad","removeQuad"].includes(n.toString())?s=>(e.dispatchEvent(new CustomEvent(n.toString(),{detail:s})),t[n](s)):Reflect.get(r,n,i)}}),e]};"use strict";var M0=typeof window=="object"?window:{},W="0123456789abcdef".split(""),B0=[-2147483648,8388608,32768,128],We=[24,16,8,0];var xe=[];function Ue(t=null){t?(xe[0]=xe[16]=xe[1]=xe[2]=xe[3]=xe[4]=xe[5]=xe[6]=xe[7]=xe[8]=xe[9]=xe[10]=xe[11]=xe[12]=xe[13]=xe[14]=xe[15]=0,this.blocks=xe):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Ue.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===M0.ArrayBuffer&&(t=new Uint8Array(t));for(var r,n=0,i,s=t.length||0,o=this.blocks;n<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(i=this.start;n<s&&i<64;++n)o[i>>2]|=t[n]<<We[i++&3];else for(i=this.start;n<s&&i<64;++n)r=t.charCodeAt(n),r<128?o[i>>2]|=r<<We[i++&3]:r<2048?(o[i>>2]|=(192|r>>6)<<We[i++&3],o[i>>2]|=(128|r&63)<<We[i++&3]):r<55296||r>=57344?(o[i>>2]|=(224|r>>12)<<We[i++&3],o[i>>2]|=(128|r>>6&63)<<We[i++&3],o[i>>2]|=(128|r&63)<<We[i++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++n)&1023),o[i>>2]|=(240|r>>18)<<We[i++&3],o[i>>2]|=(128|r>>12&63)<<We[i++&3],o[i>>2]|=(128|r>>6&63)<<We[i++&3],o[i>>2]|=(128|r&63)<<We[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=o[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};Ue.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=B0[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};Ue.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s,o,a,l=this.blocks;for(o=16;o<80;++o)a=l[o-3]^l[o-8]^l[o-14]^l[o-16],l[o]=a<<1|a>>>31;for(o=0;o<20;o+=5)s=e&r|~e&n,a=t<<5|t>>>27,i=a+s+i+1518500249+l[o]<<0,e=e<<30|e>>>2,s=t&e|~t&r,a=i<<5|i>>>27,n=a+s+n+1518500249+l[o+1]<<0,t=t<<30|t>>>2,s=i&t|~i&e,a=n<<5|n>>>27,r=a+s+r+1518500249+l[o+2]<<0,i=i<<30|i>>>2,s=n&i|~n&t,a=r<<5|r>>>27,e=a+s+e+1518500249+l[o+3]<<0,n=n<<30|n>>>2,s=r&n|~r&i,a=e<<5|e>>>27,t=a+s+t+1518500249+l[o+4]<<0,r=r<<30|r>>>2;for(;o<40;o+=5)s=e^r^n,a=t<<5|t>>>27,i=a+s+i+1859775393+l[o]<<0,e=e<<30|e>>>2,s=t^e^r,a=i<<5|i>>>27,n=a+s+n+1859775393+l[o+1]<<0,t=t<<30|t>>>2,s=i^t^e,a=n<<5|n>>>27,r=a+s+r+1859775393+l[o+2]<<0,i=i<<30|i>>>2,s=n^i^t,a=r<<5|r>>>27,e=a+s+e+1859775393+l[o+3]<<0,n=n<<30|n>>>2,s=r^n^i,a=e<<5|e>>>27,t=a+s+t+1859775393+l[o+4]<<0,r=r<<30|r>>>2;for(;o<60;o+=5)s=e&r|e&n|r&n,a=t<<5|t>>>27,i=a+s+i-1894007588+l[o]<<0,e=e<<30|e>>>2,s=t&e|t&r|e&r,a=i<<5|i>>>27,n=a+s+n-1894007588+l[o+1]<<0,t=t<<30|t>>>2,s=i&t|i&e|t&e,a=n<<5|n>>>27,r=a+s+r-1894007588+l[o+2]<<0,i=i<<30|i>>>2,s=n&i|n&t|i&t,a=r<<5|r>>>27,e=a+s+e-1894007588+l[o+3]<<0,n=n<<30|n>>>2,s=r&n|r&i|n&i,a=e<<5|e>>>27,t=a+s+t-1894007588+l[o+4]<<0,r=r<<30|r>>>2;for(;o<80;o+=5)s=e^r^n,a=t<<5|t>>>27,i=a+s+i-899497514+l[o]<<0,e=e<<30|e>>>2,s=t^e^r,a=i<<5|i>>>27,n=a+s+n-899497514+l[o+1]<<0,t=t<<30|t>>>2,s=i^t^e,a=n<<5|n>>>27,r=a+s+r-899497514+l[o+2]<<0,i=i<<30|i>>>2,s=n^i^t,a=r<<5|r>>>27,e=a+s+e-899497514+l[o+3]<<0,n=n<<30|n>>>2,s=r^n^i,a=e<<5|e>>>27,t=a+s+t-899497514+l[o+4]<<0,r=r<<30|r>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0};Ue.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4;return W[t>>28&15]+W[t>>24&15]+W[t>>20&15]+W[t>>16&15]+W[t>>12&15]+W[t>>8&15]+W[t>>4&15]+W[t&15]+W[e>>28&15]+W[e>>24&15]+W[e>>20&15]+W[e>>16&15]+W[e>>12&15]+W[e>>8&15]+W[e>>4&15]+W[e&15]+W[r>>28&15]+W[r>>24&15]+W[r>>20&15]+W[r>>16&15]+W[r>>12&15]+W[r>>8&15]+W[r>>4&15]+W[r&15]+W[n>>28&15]+W[n>>24&15]+W[n>>20&15]+W[n>>16&15]+W[n>>12&15]+W[n>>8&15]+W[n>>4&15]+W[n&15]+W[i>>28&15]+W[i>>24&15]+W[i>>20&15]+W[i>>16&15]+W[i>>12&15]+W[i>>8&15]+W[i>>4&15]+W[i&15]};Ue.prototype.toString=Ue.prototype.hex;Ue.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255]};Ue.prototype.array=Ue.prototype.digest;Ue.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};var Rr=t=>{let e=new Ue;return e.update(t),e.hex()};var lu=`${location.protocol}//${location.hostname}:${location.port}/ttl/ontology.ttl`,Is=class extends EventTarget{constructor(e,r,n){super();this.changes=[],this.#n=n;let[i,s]=au(e);this.#e=i,this.#r=r,this.loadPreviousChanges(),s.addEventListener("removeQuad",o=>{this.transaction.changes.push(["removed",o.detail,new Date])}),s.addEventListener("addQuad",o=>{this.transaction.changes.push(["added",o.detail,new Date])})}#e;#t;#r;#n;loadPreviousChanges(){let e=Rr(JSON.stringify(oe));if(localStorage[e]){let{changes:r}=JSON.parse(localStorage[e]);this.changes=r;for(let n of this.changes)for(let[i,s]of n.changes)this.#e[i==="added"?"addQuad":"removeQuad"](s)}}startTransaction(e){this.transaction={changes:[],label:e}}endTransaction(){this.transaction.changes.length&&this.changes.push(this.transaction);let e={params:oe,changes:this.changes},r=JSON.stringify(e),n=Rr(JSON.stringify(oe));localStorage[n]=r}async serialize(){let e=new us({prefixes:this.#n});return await this.#e.forEach(async r=>{if(r.predicate.value==="https://biblogos.info/ttl/ontology#reference"){let i=r.object.value.split(":");i.length===2&&i[0]===i[1]?await e.addQuad(r.subject,r.predicate,Bt.literal(i[0]),r.graph):await e.addQuad(r.subject,r.predicate,r.object,r.graph)}else await e.addQuad(r.subject,r.predicate,r.object,r.graph)},null,null,null,null),new Promise(r=>{e.end((n,i)=>r(i))})}get bookAbbreviation(){return this.#r}async query(e,r,n=!1){if(n&&console.log(e),!this.#t){let{newEngine:a}=await ou("https://rdf.js.org/comunica-browser/versions/latest/packages/actor-init-sparql/comunica-browser.js","Comunica");this.#t=a()}let i=await this.#t.query(e,{sources:r});if(i.type==="update")return i.updateResult;if(i.type==="boolean")return i.booleanResult;let s=await i.bindings(),o=[];for(let a of s){let l={};for(let c of i.variables)i.variables.length===1?l=a.get(c)?.value:l[c.substr(1)]=a.get(c)?.value;o.push(l)}return o}async getMarkings(e){let r=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>

        SELECT ?subject ?reference ?name (COALESCE(?class_predicate, ?property_predicate) as ?predicate) ?comment {
            ?subject biblogos:reference ?reference .
            OPTIONAL { ?subject biblogos:name ?name . }
            OPTIONAL { ?subject biblogos:comment ?comment . }
            OPTIONAL { ?subject a ?class_predicate . }
            OPTIONAL { ?subject biblogos:predicate ?property_predicate . }
            FILTER strstarts(?reference, """${`${this.#r}.${e}"""`})
        }
        `,[this.#e]);for(let n of r)n.reference=new Cs(n.reference);return r}async searchSubject(e,r,n=null){return e.length===0||e.length===1&&e[0].trim()===""?[]:this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        SELECT * { 
            ?predicate a <${r}> .
            ?predicate biblogos:name ?name .
            ?predicate a/a rdfs:Class .
            OPTIONAL { ?predicate biblogos:comment ?comment . }
            FILTER regex(?name, """${e.join("|")}""", "i")
        }
        LIMIT 10
    `,[this.#e,lu])}async getFactPredicates(){return this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        SELECT * { 
            { ?predicate a rdfs:Class } UNION { ?predicate a rdfs:Property } .
            ?predicate rdfs:label ?label .
            ?predicate biblogos:predicateType ?type .
        }
        `,[lu])}async insertFact(e){this.startTransaction("Created a new fact"),await this.deleteFact(e.uri,!1);let r=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        INSERT DATA { 
            <${e.uri}> a <${e.predicate}> .
            <${e.uri}> biblogos:name """${e.name}""" .

            ${e.references.map(n=>`
                <${e.uri}> biblogos:reference """${n}""" .
            `).join(`
`)}
            
            ${e.subject?`
                <${e.uri}> biblogos:subject <${e.subject}> .
            `:""}
            ${e.comment?`
                <${e.uri}> biblogos:comment """${e.comment}""" .
            `:""}
        } 
        `,[this.#e]);return this.endTransaction(),r}async appendFactReferences(e,r){this.startTransaction("Added a reference to an existing fact");let n=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        
        INSERT DATA { 
            ${r.map(i=>`
                <${e}> biblogos:reference """${i}""" .
            `)}
        }
        `,[this.#e]);return this.endTransaction(),n}async removeFactReferences(e,r){this.startTransaction("Removed a reference to an existing fact");let n=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        
        DELETE DATA { 
            ${r.map(i=>`
                <${e}> biblogos:reference """${i}""" .
            `)}
        }
        `,[this.#e]);return this.endTransaction(),n}async deleteFact(e,r=!0){r&&this.startTransaction("Removed an existing fact");let n=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        DELETE { 
            <${e}> a ?type .
            <${e}> biblogos:name ?name .
            <${e}> biblogos:subject ?subject .
            <${e}> biblogos:reference ?reference .
            <${e}> biblogos:comment ?comment . 
        } WHERE { 
            <${e}> a ?type .
            <${e}> biblogos:name ?name .
            <${e}> biblogos:reference ?reference .
            OPTIONAL { <${e}> biblogos:comment ?comment . }
            OPTIONAL { <${e}> biblogos:subject ?subject . }
        }        
        `,[this.#e]);return r&&this.endTransaction(),n}async getReferencesCountForFact(e){let r=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        
        SELECT (count(?reference) as ?count) {
            <${e}> biblogos:reference ?reference .
        }
        `,[this.#e]);return parseInt(r[0])}};var js=class{constructor(e,r){this.#t=new Map,this.#e=e,this.settings=r}#e;#t;#r;get name(){return this.settings.name}async getMarkingsStore(){if(this.#r)return this.#r;let{slug:e,branch:r,owner:n,repo:i}=this.#e,s=await ce.getLatestCommit(n,i,r)??r,o=new si,a=new zn,l=await Promise.all(this.settings.files.map(async u=>{let h=`https://raw.githubusercontent.com/${e}/${s}/${u.file}?${new Date().getTime()}`;if(this.#t.has(h))return this.#t.get(h);let p=await(await fetch(h)).text();return this.#t.set(h,p),p})),c={};for(let u of l)await a.parse(u,(h,d,p)=>{h&&console.error(h),d?o.addQuad(d):Object.assign(c,p)});return this.#r=new Is(o,this.settings.book,c),this.#r}};var q0=Object.defineProperty,H0=Object.getOwnPropertyDescriptor,cu=(t,e,r,n)=>{for(var i=n>1?void 0:n?H0(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&q0(e,r,i),i},an=class extends js{async getChapters(){let{bible:e,book:r}=this.settings;try{let n=await fetch(`${ut.API}/plugins/api.bible/bibles/${e}/books/${r}/chapters`),{data:i}=await n.json();return i.filter(({number:s})=>s!=="intro").map(({number:s})=>{let o=s==="intro"?"Intro":s;return[parseInt(s),o]})}catch(n){throw new Error("Could not fetch chapters from api.bible")}}async getText(e){let{bible:r,book:n}=this.settings;try{let i=await fetch(`${ut.API}/plugins/api.bible/bibles/${r}/chapters/${`${n}.${e}?content-type=text`}`),{data:s}=await i.json(),o=/\[(\d+)\]([^[]*)/g,a=[...s.content.matchAll(o)];return a.length===0?[[1,s.content]]:a.map(l=>{let c=/\r|\n/.exec(l[2]),u=parseInt(l[1]),h=l[2].trim();return[u,h,p=>O`<span class="verse-number word">${u}${p} </span>`,c?.length??0]})}catch(i){throw console.error(i),new Error("Could not fetch verses from api.bible")}}};cu([Yr()],an.prototype,"getChapters",1);cu([Yr()],an.prototype,"getText",1);var z0={ApiBible:an},ai=class{#e;async init(e){this.#e=e;let r=await ce.getBooks(this.#e.owner.login,this.#e.name,this.#e.default_branch);return this.books=r.map(n=>new z0[n.type](this,n)),this}get name(){return this.#e.name.replace("biblogos-","").replaceAll("-"," ")}get description(){return this.#e.description}get owner(){return this.#e.owner.name??this.#e.owner.login}get avatar(){return this.#e.owner.avatar_url}get repo(){return this.#e.name}get slug(){return this.#e.full_name}get branch(){return this.#e.default_branch}get exploreLink(){return`/explore?source=${this.slug}`}get editorLink(){return`/editor/${this.slug}`}get hasWriteAccess(){return this.#e.permissions.push}};var W0=Object.defineProperty,Y0=Object.getOwnPropertyDescriptor,K0=(t,e,r,n)=>{for(var i=n>1?void 0:n?Y0(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&W0(e,r,i),i},$s=class{#e;async init(){if(!this.#e){let e={};if(localStorage.githubCode){let r=await fetch(`${ut.API}/token`,{method:"POST",body:localStorage.githubCode}),{token:n}=await r.json();localStorage.githubToken=n,delete localStorage.githubCode}localStorage.githubToken&&(e.auth=localStorage.githubToken),this.#e=new jn(e)}}get git(){return this.#e.rest.git}async getProjects(){await this.init();let r=(await this.#e.rest.search.repos({q:"topic:biblogos"})).data.items;return await Promise.all(r.map(n=>new ai().init(n)))}async getProject(e,r){await this.init();let{data:n}=await this.#e.rest.repos.get({owner:e,repo:r});return new ai().init(n)}async getBooks(e,r,n){await this.init();let s=(await this.#e.rest.git.getTree({owner:e,repo:r,tree_sha:n})).data.tree;return await Promise.all(s.filter(a=>a.path.endsWith(".biblogos")).map(async a=>{let l=await ce.#e.rest.git.getBlob({owner:e,repo:r,file_sha:a.sha});return uc.load(atob(l.data.content))}))}async isLoggedIn(){if(!localStorage.githubToken)return!1;try{return await this.#e.rest.users.getAuthenticated(),!0}catch(e){return!1}}async getForkRepo(e,r,n){let{data:i}=await this.#e.rest.repos.listForks({owner:e,repo:n});return i.find(o=>o.owner.login===r)}async createForkRepo(e,r){return await this.#e.rest.repos.createFork({owner:e,repo:r})}async getCurrentUser(){if(!localStorage.githubToken)return null;try{let{data:e}=await this.#e.rest.users.getAuthenticated();return e}catch(e){return null}}async getLatestCommit(e,r,n="main"){let{data:i}=await this.#e.rest.git.getRef({owner:e,repo:r,ref:`heads/${n}`});return i.object.sha}async createBranchOnFork(e,r,n,i){let s=await this.getLatestCommit(r,n);return await this.#e.rest.git.createRef({owner:e,repo:n,ref:`refs/heads/${i}`,sha:s})}async createMergeRequest(e,r,n,i,s){return this.#e.rest.pulls.create({owner:r,repo:n,title:"Created via biblogos.info, please review",body:"Created via biblogos.info, please review",head:`${e}:${i}`,base:"main"})}async createCommit(e,r,n="main",i){let{data:s}=await this.#e.rest.git.getRef({owner:e,repo:r,ref:`heads/${n}`}),o=s.object.sha,{data:a}=await this.#e.rest.git.getCommit({owner:e,repo:r,commit_sha:o}),l=[];for(let{file:h,content:d}of i){let p=await this.createBlobForFile(e,r,d);l.push({path:h,sha:p.sha,mode:"100644",type:"blob"})}let c=await this.#e.rest.git.createTree({owner:e,repo:r,tree:l,base_tree:a.tree.sha}),u=await this.#e.rest.git.createCommit({owner:e,repo:r,message:`Updates on ${i.map(h=>h.file).join(", ")}`,tree:c.data.sha,parents:[o]});return await this.#e.rest.git.updateRef({owner:e,repo:r,ref:`heads/${n}`,sha:u.data.sha})}async createBlobForFile(e,r,n){return(await this.#e.rest.git.createBlob({owner:e,repo:r,content:n,encoding:"utf-8"})).data}};K0([Yr()],$s.prototype,"getProject",1);var ce=new $s;var X=t=>t;var Fs=class extends me.Div{async upgradedCallback(){this.draw(),this.classList.add("project"),this.classList.add("teaser")}draw(){pe(this,O`
        <h3 class="title">${this.project.name}<em>, by ${this.project.owner}</em></h3>
        <p class="description">${this.project.description}</p>

        <div class="actions">
            <a class="button medium secondary edit" href=${this.project.editorLink}>${X`Edit facts`}</a>
            <a class="button medium primary" href=${this.project.exploreLink}>${X`Explore data`}</a>
        </div>
        
        `)}};var Ls=class extends me.Div{constructor(){super(...arguments);this.projects=[]}async upgradedCallback(){this.draw(),this.classList.add("projects-overview"),this.classList.add("route"),this.projects=await ce.getProjects(),this.draw()}draw(){pe(this,O`
        ${this.projects?O`
            ${this.projects.map(e=>O`<${Fs} .project=${e} />`)}
        `:O`Loading...`}
        `)}};var V0={bin:'<path d="M0 0h24v24H0z" fill="none"/><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"/>',add:'<path d="M0 0h24v24H0z" fill="none"/><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>',remove:'<path d="M0 0h24v24H0z" fill="none"/><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>',edit:'<path d="M0 0h24v24H0z" fill="none"/><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>',close:'<path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>',menu_book_black:'<g><rect fill="none" height="24" width="24"/></g><g><g/><path d="M21,5c-1.11-0.35-2.33-0.5-3.5-0.5c-1.95,0-4.05,0.4-5.5,1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45,4.9,1,6v15.5 C2.45,20.4,4.55,20,6.5,20s4.05,0.4,5.5,1.5c1.45-1.1,3.55-1.5,5.5-1.5c1.17,0,2.39,0.15,3.5,0.5c0.75,0.25,1.4,0.55,2,1V6 C22.4,5.55,21.75,5.25,21,5z M21,18.5c-1.1-0.35-2.3-0.5-3.5-0.5c-1.7,0-4.15,0.65-5.5,1.5V8c1.35-0.85,3.8-1.5,5.5-1.5 c1.2,0,2.4,0.15,3.5,0.5V18.5z"/><g><path d="M17.5,10.5c0.88,0,1.73,0.09,2.5,0.26V9.24C19.21,9.09,18.36,9,17.5,9c-1.7,0-3.24,0.29-4.5,0.83v1.66 C14.13,10.85,15.7,10.5,17.5,10.5z"/><path d="M13,12.49v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26V11.9c-0.79-0.15-1.64-0.24-2.5-0.24 C15.8,11.66,14.26,11.96,13,12.49z"/><path d="M17.5,14.33c-1.7,0-3.24,0.29-4.5,0.83v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26v-1.52 C19.21,14.41,18.36,14.33,17.5,14.33z"/></g></g>',next:'<path d="M0 0h24v24H0z" fill="none"/><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>',prev:'<path d="M0 0h24v24H0z" fill="none"/><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>'},Nv=new Map,Oe=t=>O`<svg class=${t.replace(/_/g,"-")+" icon"} viewBox="0 0 24 24" ref=${e=>e.innerHTML=V0[t]}></svg>`;var Q0=[[X`Home`,"/"],[X`About`,"/about"],[X`GitHub`,"https://github.com/BibLogos/editor"]],Gs=()=>{document.body.dataset.showMenu=document.body.dataset.showMenu!=="true"?"true":"false"},Ds=class extends me.Div{async upgradedCallback(){this.draw(),this.classList.add("menu")}draw(){pe(this,O`

        <div onclick=${Gs} class="menu-toggle">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <div class="menu-inner">
            <ul>
            <button class="close-menu button primary" onclick=${Gs}>${Oe("close")}</button>
            ${Q0.map(([e,r])=>O`<li><a onclick=${Gs} href=${r}>${e}</a></li>`)}
            </ul>
        </div>
        `)}};var ln=class extends me.Div{async upgradedCallback(){this.draw(),this.classList.add("site-header")}draw(){pe(this,O`
            <a class="site-logo-link" href="/">
                <img class="favicon" src="/assets/favicon.svg">
                ${location.pathname==="/"?O`<h1 class="logo-text">BibLogos</h1>`:null}
            </a>

            ${this.extra}

            <${Ds} />
        `)}};function uu(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var Pr=uu();function J0(t){Pr=t}var X0=/[&<>"']/,Z0=/[&<>"']/g,ey=/[<>"']|&(?!#?\w+;)/,ty=/[<>"']|&(?!#?\w+;)/g,ry={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hu=t=>ry[t];function Ae(t,e){if(e){if(X0.test(t))return t.replace(Z0,hu)}else if(ey.test(t))return t.replace(ty,hu);return t}var ny=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function pu(t){return t.replace(ny,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}var iy=/(^|[^\[])\^/g;function ae(t,e){t=t.source||t,e=e||"";let r={replace:(n,i)=>(i=i.source||i,i=i.replace(iy,"$1"),t=t.replace(n,i),r),getRegex:()=>new RegExp(t,e)};return r}var sy=/[^\w:]/g,oy=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function fu(t,e,r){if(t){let n;try{n=decodeURIComponent(pu(r)).replace(sy,"").toLowerCase()}catch(i){return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!oy.test(r)&&(r=ay(e,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(n){return null}return r}var li={},ly=/^[^:]+:\/*[^/]*$/,cy=/^([^:]+:)[\s\S]*$/,uy=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ay(t,e){li[" "+t]||(ly.test(t)?li[" "+t]=t+"/":li[" "+t]=ci(t,"/",!0)),t=li[" "+t];let r=t.indexOf(":")===-1;return e.substring(0,2)==="//"?r?e:t.replace(cy,"$1")+e:e.charAt(0)==="/"?r?e:t.replace(uy,"$1")+e:t+e}var ui={exec:function(){}};function Ye(t){let e=1,r,n;for(;e<arguments.length;e++){r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}function du(t,e){let r=t.replace(/\|/g,(s,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/),i=0;if(n[0].trim()||n.shift(),n[n.length-1].trim()||n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function ci(t,e,r){let n=t.length;if(n===0)return"";let i=0;for(;i<n;){let s=t.charAt(n-i-1);if(s===e&&!r)i++;else if(s!==e&&r)i++;else break}return t.substr(0,n-i)}function hy(t,e){if(t.indexOf(e[1])===-1)return-1;let r=t.length,n=0,i=0;for(;i<r;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])n++;else if(t[i]===e[1]&&(n--,n<0))return i;return-1}function gu(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function mu(t,e){if(e<1)return"";let r="";for(;e>1;)e&1&&(r+=t),e>>=1,t+=t;return r+t}function _u(t,e,r,n){let i=e.href,s=e.title?Ae(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;let a={type:"link",raw:r,href:i,title:s,text:o,tokens:n.inlineTokens(o,[])};return n.state.inLink=!1,a}else return{type:"image",raw:r,href:i,title:s,text:Ae(o)}}function py(t,e){let r=t.match(/^(\s+)(?:```)/);if(r===null)return e;let n=r[1];return e.split(`
`).map(i=>{let s=i.match(/^\s+/);if(s===null)return i;let[o]=s;return o.length>=n.length?i.slice(n.length):i}).join(`
`)}var hi=class{constructor(e){this.options=e||Pr}space(e){let r=this.rules.block.newline.exec(e);if(r)return r[0].length>1?{type:"space",raw:r[0]}:{raw:`
`}}code(e){let r=this.rules.block.code.exec(e);if(r){let n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:ci(n,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let n=r[0],i=py(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim():r[2],text:i}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){let s=ci(n,"#");(this.options.pedantic||!s||/ $/.test(s))&&(n=s.trim())}let i={type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:r[0]}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let n=r[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:r[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n,i,s,o,a,l,c,u,h,d,p,v,R=r[1].trim(),w=R.length>1,$={type:"list",raw:"",ordered:w,start:w?+R.slice(0,-1):"",loose:!1,items:[]};R=w?`\\d{1,9}\\${R.slice(-1)}`:`\\${R}`,this.options.pedantic&&(R=w?R:"[*+-]");let D=new RegExp(`^( {0,3}${R})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(v=!1,!(!(r=D.exec(e))||this.rules.block.hr.test(e)));){if(n=r[0],e=e.substring(n.length),u=r[2].split(`
`,1)[0],h=e.split(`
`,1)[0],this.options.pedantic?(o=2,p=u.trimLeft()):(o=r[2].search(/[^ ]/),o=o>4?1:o,p=u.slice(o),o+=r[1].length),l=!1,!u&&/^ *$/.test(h)&&(n+=h+`
`,e=e.substring(h.length+1),v=!0),!v){let H=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(d=e.split(`
`,1)[0],u=d,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!H.test(u));){if(u.search(/[^ ]/)>=o||!u.trim())p+=`
`+u.slice(o);else if(!l)p+=`
`+u;else break;!l&&!u.trim()&&(l=!0),n+=d+`
`,e=e.substring(d.length+1)}}$.loose||(c?$.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(p),i&&(s=i[0]!=="[ ] ",p=p.replace(/^\[[ xX]\] +/,""))),$.items.push({type:"list_item",raw:n,task:!!i,checked:s,loose:!1,text:p}),$.raw+=n}$.items[$.items.length-1].raw=n.trimRight(),$.items[$.items.length-1].text=p.trimRight(),$.raw=$.raw.trimRight();let K=$.items.length;for(a=0;a<K;a++)this.lexer.state.top=!1,$.items[a].tokens=this.lexer.blockTokens($.items[a].text,[]),!$.loose&&$.items[a].tokens.some(H=>H.type==="space")&&($.loose=!0,$.items[a].loose=!0);return $}}html(e){let r=this.rules.block.html.exec(e);if(r){let n={type:"html",raw:r[0],pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(r[0]):Ae(r[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}}def(e){let r=this.rules.block.def.exec(e);if(r){r[3]&&(r[3]=r[3].substring(1,r[3].length-1));let n=r[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:n,raw:r[0],href:r[2],title:r[3]}}}table(e){let r=this.rules.block.table.exec(e);if(r){let n={type:"table",header:du(r[1]).map(i=>({text:i})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=r[0];let i=n.align.length,s,o,a,l;for(s=0;s<i;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(i=n.rows.length,s=0;s<i;s++)n.rows[s]=du(n.rows[s],n.header.length).map(c=>({text:c}));for(i=n.header.length,o=0;o<i;o++)n.header[o].tokens=[],this.lexer.inlineTokens(n.header[o].text,n.header[o].tokens);for(i=n.rows.length,o=0;o<i;o++)for(l=n.rows[o],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return n}}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r){let n={type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let n={type:"paragraph",raw:r[0],text:r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}text(e){let r=this.rules.block.text.exec(e);if(r){let n={type:"text",raw:r[0],text:r[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:Ae(r[1])}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ae(r[0]):r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let o=ci(n.slice(0,-1),"\\");if((n.length-o.length)%2==0)return}else{let o=hy(r[2],"()");if(o>-1){let l=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),_u(r,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=r[i.toLowerCase()],!i||!i.href){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return _u(n,i,n[0],this.lexer)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;let s=i[1]||i[2]||"";if(!s||s&&(n===""||this.rules.inline.punctuation.exec(n))){let o=i[0].length-1,a,l,c=o,u=0,h=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*e.length+o);(i=h.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=a.length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;if(l=Math.min(l,l+c+u),Math.min(o,l)%2){let p=e.slice(1,o+i.index+l);return{type:"em",raw:e.slice(0,o+i.index+l+1),text:p,tokens:this.lexer.inlineTokens(p,[])}}let d=e.slice(2,o+i.index+l-1);return{type:"strong",raw:e.slice(0,o+i.index+l+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," "),i=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return i&&s&&(n=n.substring(1,n.length-1)),n=Ae(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2],[])}}autolink(e,r){let n=this.rules.inline.autolink.exec(e);if(n){let i,s;return n[2]==="@"?(i=Ae(this.options.mangle?r(n[1]):n[1]),s="mailto:"+i):(i=Ae(n[1]),s=i),{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,r){let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=Ae(this.options.mangle?r(n[0]):n[0]),s="mailto:"+i;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(o!==n[0]);i=Ae(n[0]),n[1]==="www."?s="http://"+i:s=i}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,r){let n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ae(n[0]):n[0]:i=Ae(this.options.smartypants?r(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}},B={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:ui,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};B._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;B._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;B.def=ae(B.def).replace("label",B._label).replace("title",B._title).getRegex();B.bullet=/(?:[*+-]|\d{1,9}[.)])/;B.listItemStart=ae(/^( *)(bull) */).replace("bull",B.bullet).getRegex();B.list=ae(B.list).replace(/bull/g,B.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+B.def.source+")").getRegex();B._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";B._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;B.html=ae(B.html,"i").replace("comment",B._comment).replace("tag",B._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();B.paragraph=ae(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex();B.blockquote=ae(B.blockquote).replace("paragraph",B.paragraph).getRegex();B.normal=Ye({},B);B.gfm=Ye({},B.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});B.gfm.table=ae(B.gfm.table).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex();B.gfm.paragraph=ae(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",B.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex();B.pedantic=Ye({},B.normal,{html:ae(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",B._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ui,paragraph:ae(B.normal._paragraph).replace("hr",B.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",B.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var F={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ui,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ui,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};F._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";F.punctuation=ae(F.punctuation).replace(/punctuation/g,F._punctuation).getRegex();F.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;F.escapedEmSt=/\\\*|\\_/g;F._comment=ae(B._comment).replace("(?:-->|$)","-->").getRegex();F.emStrong.lDelim=ae(F.emStrong.lDelim).replace(/punct/g,F._punctuation).getRegex();F.emStrong.rDelimAst=ae(F.emStrong.rDelimAst,"g").replace(/punct/g,F._punctuation).getRegex();F.emStrong.rDelimUnd=ae(F.emStrong.rDelimUnd,"g").replace(/punct/g,F._punctuation).getRegex();F._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;F._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;F._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;F.autolink=ae(F.autolink).replace("scheme",F._scheme).replace("email",F._email).getRegex();F._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;F.tag=ae(F.tag).replace("comment",F._comment).replace("attribute",F._attribute).getRegex();F._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;F._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;F._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;F.link=ae(F.link).replace("label",F._label).replace("href",F._href).replace("title",F._title).getRegex();F.reflink=ae(F.reflink).replace("label",F._label).getRegex();F.reflinkSearch=ae(F.reflinkSearch,"g").replace("reflink",F.reflink).replace("nolink",F.nolink).getRegex();F.normal=Ye({},F);F.pedantic=Ye({},F.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ae(/^!?\[(label)\]\((.*?)\)/).replace("label",F._label).getRegex(),reflink:ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",F._label).getRegex()});F.gfm=Ye({},F.normal,{escape:ae(F.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});F.gfm.url=ae(F.gfm.url,"i").replace("email",F.gfm._extended_email).getRegex();F.breaks=Ye({},F.gfm,{br:ae(F.br).replace("{2,}","*").getRegex(),text:ae(F.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function fy(t){return t.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦")}function bu(t){let e="",r,n,i=t.length;for(r=0;r<i;r++)n=t.charCodeAt(r),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}var dt=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Pr,this.options.tokenizer=this.options.tokenizer||new hi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:B.normal,inline:F.normal};this.options.pedantic?(r.block=B.pedantic,r.inline=F.pedantic):this.options.gfm&&(r.block=B.gfm,this.options.breaks?r.inline=F.breaks:r.inline=F.gfm),this.tokenizer.rules=r}static get rules(){return{block:B,inline:F}}static lex(e,r){return new dt(r).lex(e)}static lexInline(e,r){return new dt(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(e,r=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let n,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(n=a.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.type&&r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=Infinity,l=e.slice(1),c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<Infinity&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){i=r[r.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n),o=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(e,r){this.inlineQueue.push({src:e,tokens:r})}inlineTokens(e,r=[]){let n,i,s,o=e,a,l,c;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+mu("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+mu("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(e,o,c)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(e,bu)){e=e.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,bu))){e=e.substring(n.raw.length),r.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=Infinity,h=e.slice(1),d;this.options.extensions.startInline.forEach(function(p){d=p.call({lexer:this},h),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<Infinity&&u>=0&&(s=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(s,fy)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),l=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return r}},pi=class{constructor(e){this.options=e||Pr}code(e,r,n){let i=(r||"").match(/\S*/)[0];if(this.options.highlight){let s=this.options.highlight(e,i);s!=null&&s!==e&&(n=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Ae(i,!0)+'">'+(n?e:Ae(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Ae(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,r,n,i){return this.options.headerIds?"<h"+r+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+r+`>
`:"<h"+r+">"+e+"</h"+r+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,r,n){let i=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,r){return r&&(r="<tbody>"+r+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,r){let n=r.header?"th":"td";return(r.align?"<"+n+' align="'+r.align+'">':"<"+n+">")+e+"</"+n+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,r,n){if(e=fu(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<a href="'+Ae(e)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(e,r,n){if(e=fu(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<img src="'+e+'" alt="'+n+'"';return r&&(i+=' title="'+r+'"'),i+=this.options.xhtml?"/>":">",i}text(e){return e}},Ns=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,r,n){return""+n}image(e,r,n){return""+n}br(){return""}},Us=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,r){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do i++,n=e+"-"+i;while(this.seen.hasOwnProperty(n))}return r||(this.seen[e]=i,this.seen[n]=0),n}slug(e,r={}){let n=this.serialize(e);return this.getNextSafeSlug(n,r.dryrun)}},gt=class{constructor(e){this.options=e||Pr,this.options.renderer=this.options.renderer||new pi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ns,this.slugger=new Us}static parse(e,r){return new gt(r).parse(e)}static parseInline(e,r){return new gt(r).parseInline(e)}parse(e,r=!0){let n="",i,s,o,a,l,c,u,h,d,p,v,R,w,$,D,K,H,ne,V,le=e.length;for(i=0;i<le;i++){if(p=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[p.type]&&(V=this.options.extensions.renderers[p.type].call({parser:this},p),V!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type))){n+=V||"";continue}switch(p.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(p.tokens),p.depth,pu(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(p.text,p.lang,p.escaped);continue}case"table":{for(h="",u="",a=p.header.length,s=0;s<a;s++)u+=this.renderer.tablecell(this.parseInline(p.header[s].tokens),{header:!0,align:p.align[s]});for(h+=this.renderer.tablerow(u),d="",a=p.rows.length,s=0;s<a;s++){for(c=p.rows[s],u="",l=c.length,o=0;o<l;o++)u+=this.renderer.tablecell(this.parseInline(c[o].tokens),{header:!1,align:p.align[o]});d+=this.renderer.tablerow(u)}n+=this.renderer.table(h,d);continue}case"blockquote":{d=this.parse(p.tokens),n+=this.renderer.blockquote(d);continue}case"list":{for(v=p.ordered,R=p.start,w=p.loose,a=p.items.length,d="",s=0;s<a;s++)D=p.items[s],K=D.checked,H=D.task,$="",D.task&&(ne=this.renderer.checkbox(K),w?D.tokens.length>0&&D.tokens[0].type==="paragraph"?(D.tokens[0].text=ne+" "+D.tokens[0].text,D.tokens[0].tokens&&D.tokens[0].tokens.length>0&&D.tokens[0].tokens[0].type==="text"&&(D.tokens[0].tokens[0].text=ne+" "+D.tokens[0].tokens[0].text)):D.tokens.unshift({type:"text",text:ne}):$+=ne),$+=this.parse(D.tokens,w),d+=this.renderer.listitem($,H,K);n+=this.renderer.list(d,v,R);continue}case"html":{n+=this.renderer.html(p.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(p.tokens));continue}case"text":{for(d=p.tokens?this.parseInline(p.tokens):p.text;i+1<le&&e[i+1].type==="text";)p=e[++i],d+=`
`+(p.tokens?this.parseInline(p.tokens):p.text);n+=r?this.renderer.paragraph(d):d;continue}default:{let Se='Token with "'+p.type+'" type was not found.';if(this.options.silent){console.error(Se);return}else throw new Error(Se)}}}return n}parseInline(e,r){r=r||this.renderer;let n="",i,s,o,a=e.length;for(i=0;i<a;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){n+=o||"";continue}switch(s.type){case"escape":{n+=r.text(s.text);break}case"html":{n+=r.html(s.text);break}case"link":{n+=r.link(s.href,s.title,this.parseInline(s.tokens,r));break}case"image":{n+=r.image(s.href,s.title,s.text);break}case"strong":{n+=r.strong(this.parseInline(s.tokens,r));break}case"em":{n+=r.em(this.parseInline(s.tokens,r));break}case"codespan":{n+=r.codespan(s.text);break}case"br":{n+=r.br();break}case"del":{n+=r.del(this.parseInline(s.tokens,r));break}case"text":{n+=r.text(s.text);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return n}};function z(t,e,r){if(typeof t=="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(r=e,e=null),e=Ye({},z.defaults,e||{}),gu(e),r){let n=e.highlight,i;try{i=dt.lex(t,e)}catch(a){return r(a)}let s=function(a){let l;if(!a)try{e.walkTokens&&z.walkTokens(i,e.walkTokens),l=gt.parse(i,e)}catch(c){a=c}return e.highlight=n,a?r(a):r(null,l)};if(!n||n.length<3||(delete e.highlight,!i.length))return s();let o=0;z.walkTokens(i,function(a){a.type==="code"&&(o++,setTimeout(()=>{n(a.text,a.lang,function(l,c){if(l)return s(l);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),o--,o===0&&s()})},0))}),o===0&&s();return}try{let n=dt.lex(t,e);return e.walkTokens&&z.walkTokens(n,e.walkTokens),gt.parse(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Ae(n.message+"",!0)+"</pre>";throw n}}z.options=z.setOptions=function(t){return Ye(z.defaults,t),J0(z.defaults),z};z.getDefaults=uu;z.defaults=Pr;z.use=function(...t){let e=Ye({},...t),r=z.defaults.extensions||{renderers:{},childTokens:{}},n;t.forEach(i=>{if(i.extensions&&(n=!0,i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){let o=r.renderers?r.renderers[s.name]:null;o?r.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:r.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[s.level]?r[s.level].unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}s.childTokens&&(r.childTokens[s.name]=s.childTokens)})),i.renderer){let s=z.defaults.renderer||new pi;for(let o in i.renderer){let a=s[o];s[o]=(...l)=>{let c=i.renderer[o].apply(s,l);return c===!1&&(c=a.apply(s,l)),c}}e.renderer=s}if(i.tokenizer){let s=z.defaults.tokenizer||new hi;for(let o in i.tokenizer){let a=s[o];s[o]=(...l)=>{let c=i.tokenizer[o].apply(s,l);return c===!1&&(c=a.apply(s,l)),c}}e.tokenizer=s}if(i.walkTokens){let s=z.defaults.walkTokens;e.walkTokens=function(o){i.walkTokens.call(this,o),s&&s.call(this,o)}}n&&(e.extensions=r),z.setOptions(e)})};z.walkTokens=function(t,e){for(let r of t)switch(e.call(z,r),r.type){case"table":{for(let n of r.header)z.walkTokens(n.tokens,e);for(let n of r.rows)for(let i of n)z.walkTokens(i.tokens,e);break}case"list":{z.walkTokens(r.items,e);break}default:z.defaults.extensions&&z.defaults.extensions.childTokens&&z.defaults.extensions.childTokens[r.type]?z.defaults.extensions.childTokens[r.type].forEach(function(n){z.walkTokens(r[n],e)}):r.tokens&&z.walkTokens(r.tokens,e)}};z.parseInline=function(t,e){if(typeof t=="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=Ye({},z.defaults,e||{}),gu(e);try{let r=dt.lexInline(t,e);return e.walkTokens&&z.walkTokens(r,e.walkTokens),gt.parseInline(r,e)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Ae(r.message+"",!0)+"</pre>";throw r}};z.Parser=gt;z.parser=gt.parse;z.Renderer=pi;z.TextRenderer=Ns;z.Lexer=dt;z.lexer=dt.lex;z.Tokenizer=hi;z.Slugger=Us;z.parse=z;var Ms=class extends me.Div{async upgradedCallback(){this.classList.add("markdown");let r=await(await fetch(`/markdown/${this.src}.md`)).text();this.innerHTML=z(r)}};var wu={name:"home",template:()=>O`
            <${ln} />
            <${Ms} class="route" .src=${"home"} />
            <${Ls} />
        `};var qe=t=>{if(!t)debugger;return t.substr(0,4)!=="http"?t:t.split(/\/|#/).pop()};var Bs=new Map;function qs(t,e=20,r=80,n=20,i=90){let s=JSON.stringify(arguments);if(Bs.has(s))return Bs.get(s);let o=new Ue;o.update(t);let a=new TextEncoder,l=new Uint8Array(a.encode(o.hex())).join("").slice(16),c="hsl("+l%360+", "+(l%(i-n)+n)+"%, "+(l%(r-e)+e)+"%)";return Bs.set(s,c),c}var yu=(t,e="px")=>typeof t=="number"?t+e:t;function St({style:t},e,r){if(typeof e=="object")for(let[n,i]of Object.entries(e))t[n]=yu(i);else r!==void 0&&(t[e]=yu(r))}function vu(t){return(e,r,n,i={})=>{e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]);for(let s of e)for(let o of r)s[t](o,n,{capture:!1,...i});return[e,r,n,i]}}var Or=vu("addEventListener"),Rt=vu("removeEventListener"),fi=t=>{let e=t.touches&&t.touches[0]||t;return{tap:e,x:e.clientX,y:e.clientY,target:e.target}};function dy(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let r=t.target.parentElement;for(e=[t.target,r];r=r.parentElement;)e.push(r);return e.push(document,window),e}function Eu(t,e,r="touch"){switch(r){case"center":{let n=e.left+e.width/2,i=e.top+e.height/2;return n>=t.left&&n<=t.right&&i>=t.top&&i<=t.bottom}case"cover":return e.left>=t.left&&e.top>=t.top&&e.right<=t.right&&e.bottom<=t.bottom;case"touch":return t.right>=e.left&&t.left<=e.right&&t.bottom>=e.top&&t.top<=e.bottom;default:throw new Error(`Unkown intersection mode: ${r}`)}}function Tu(t,e){let r=t.indexOf(e);~r&&t.splice(r,1)}function cn(t,e=document){let r=Array.isArray(t)?t:[t],n=[];for(let i=0,s=r.length;i<s;i++){let o=r[i];typeof o=="string"?n.push(...Array.from(e.querySelectorAll(o))):o instanceof Element&&n.push(o)}return n}var ku=()=>matchMedia("(hover: none), (pointer: coarse)").matches,xu=(t,e)=>{for(let[r,n]of Object.entries(t)){let i=e[r];t[r]=i===void 0?t[r]:typeof i!="object"||typeof n!="object"||n===null||Array.isArray(n)?i:xu(n,i)}return t},{abs:Vt,max:Au,min:Su,ceil:Ru}=Math,Hs=class extends class{constructor(){this.t=new Map,this.on=this.addEventListener,this.off=this.removeEventListener,this.emit=this.dispatchEvent}addEventListener(e,r){let n=this.t.get(e)||new Set;return this.t.set(e,n),n.add(r),this}removeEventListener(e,r){return this.t.get(e)?.delete(r),this}dispatchEvent(e,...r){let n=!0;for(let i of this.t.get(e)||[])n=i(...r)!==!1&&n;return n}unbindAllListeners(){this.t.clear()}}{constructor(e){super(),this.i={touched:[],stored:[],selected:[],changed:{added:[],removed:[]}},this.o=[],this.h=new DOMRect,this.l={y1:0,x2:0,y2:0,x1:0},this.u=!0,this.p=!0,this.m={x:0,y:0},this.v={x:0,y:0},this.disable=this.g.bind(this,!1),this.enable=this.g,this._=xu({selectionAreaClass:"selection-area",selectionContainerClass:void 0,selectables:[],document:window.document,behaviour:{overlap:"invert",intersect:"touch",startThreshold:{x:10,y:10},scrolling:{speedDivider:10,manualSpeed:750,startScrollMargins:{x:0,y:0}}},features:{range:!0,touch:!0,singleTap:{allow:!0,intersect:"native"}},startAreas:["html"],boundaries:["html"],container:"body"},e);for(let s of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))typeof this[s]=="function"&&(this[s]=this[s].bind(this));let{document:r,selectionAreaClass:n,selectionContainerClass:i}=this._;this.S=r.createElement("div"),this.A=r.createElement("div"),this.A.appendChild(this.S),this.S.classList.add(n),i&&this.A.classList.add(i),St(this.S,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),St(this.A,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"1"}),this.T=(s=>{let o,a=-1,l=!1;return{next(...c){o=c,l||(l=!0,a=requestAnimationFrame(()=>{s(...o),l=!1}))},cancel(){cancelAnimationFrame(a),l=!1}}})(s=>{this.L(),this.C(),this.M("move",s),this.j()}),this.enable()}g(e=!0){let{document:r,features:n}=this._,i=e?Or:Rt;i(r,"mousedown",this.k),n.touch&&i(r,"touchstart",this.k,{passive:!1})}k(e,r=!1){let{x:n,y:i,target:s}=fi(e),{_:o}=this,{document:a}=this._,l=s.getBoundingClientRect(),c=cn(o.startAreas,o.document),u=cn(o.boundaries,o.document);this.O=u.find(p=>Eu(p.getBoundingClientRect(),l));let h=dy(e);if(!this.O||!c.find(p=>h.includes(p))||!u.find(p=>h.includes(p))||!r&&this.M("beforestart",e)===!1)return;this.l={x1:n,y1:i,x2:0,y2:0};let d=a.scrollingElement||a.body;this.v={x:d.scrollLeft,y:d.scrollTop},this.u=!0,this.clearSelection(!1),Or(a,["touchmove","mousemove"],this.R,{passive:!1}),Or(a,["mouseup","touchcancel","touchend"],this.$),Or(a,"scroll",this.D)}F(e){let{singleTap:{intersect:r},range:n}=this._.features,i=fi(e),s=null;if(r==="native")s=i.target;else if(r==="touch"){this.resolveSelectables();let{x:a,y:l}=i;s=this.o.find(c=>{let{right:u,left:h,top:d,bottom:p}=c.getBoundingClientRect();return a<u&&a>h&&l<p&&l>d})}if(!s)return;for(this.resolveSelectables();!this.o.includes(s);){if(!s.parentElement)return;s=s.parentElement}let{stored:o}=this.i;if(this.M("start",e),e.shiftKey&&o.length&&n){let a=this.q??o[0],[l,c]=4&a.compareDocumentPosition(s)?[s,a]:[a,s],u=[...this.o.filter(h=>4&h.compareDocumentPosition(l)&&2&h.compareDocumentPosition(c)),l,c];this.select(u)}else o.includes(s)&&(o.length===1||e.ctrlKey||o.every(a=>this.i.stored.includes(a)))?this.deselect(s):(this.q=s,this.select(s));this.M("stop",e)}R(e){let{container:r,document:n,features:i,behaviour:{startThreshold:s}}=this._,{x1:o,y1:a}=this.l,{x:l,y:c}=fi(e),u=typeof s;if(u==="number"&&Vt(l+c-(o+a))>=s||u==="object"&&Vt(l-o)>=s.x||Vt(c-a)>=s.y){if(Rt(n,["mousemove","touchmove"],this.R,{passive:!1}),this.M("beforedrag",e)===!1)return void Rt(n,["mouseup","touchcancel","touchend"],this.$);Or(n,["mousemove","touchmove"],this.H,{passive:!1}),St(this.S,"display","block"),cn(r,n)[0].appendChild(this.A),this.resolveSelectables(),this.u=!1,this.W=this.O.getBoundingClientRect(),this.p=this.O.scrollHeight!==this.O.clientHeight||this.O.scrollWidth!==this.O.clientWidth,this.p&&(Or(n,"wheel",this.I,{passive:!1}),this.o=this.o.filter(h=>this.O.contains(h))),this.N(),this.M("start",e),this.H(e)}i.touch&&ku()&&e.preventDefault()}N(){let{A:e,O:r,S:n}=this,i=this.W=r.getBoundingClientRect();this.p?(St(e,{top:i.top,left:i.left,width:i.width,height:i.height}),St(n,{marginTop:-i.top,marginLeft:-i.left})):(St(e,{top:0,left:0,width:"100%",height:"100%"}),St(n,{marginTop:0,marginLeft:0}))}H(e){let{x:r,y:n}=fi(e),{m:i,l:s,_:o,T:a}=this,{features:l}=o,{speedDivider:c}=o.behaviour.scrolling,u=this.O;if(s.x2=r,s.y2=n,this.p&&(i.y||i.x)){let h=()=>{if(!i.x&&!i.y)return;let{scrollTop:d,scrollLeft:p}=u;i.y&&(u.scrollTop+=Ru(i.y/c),s.y1-=u.scrollTop-d),i.x&&(u.scrollLeft+=Ru(i.x/c),s.x1-=u.scrollLeft-p),a.next(e),requestAnimationFrame(h)};requestAnimationFrame(h)}else a.next(e);l.touch&&ku()&&e.preventDefault()}D(){let{v:e,_:{document:r}}=this,{scrollTop:n,scrollLeft:i}=r.scrollingElement||r.body;this.l.x1+=e.x-i,this.l.y1+=e.y-n,e.x=i,e.y=n,this.N(),this.T.next(null)}I(e){let{manualSpeed:r}=this._.behaviour.scrolling,n=e.deltaY?e.deltaY>0?1:-1:0,i=e.deltaX?e.deltaX>0?1:-1:0;this.m.y+=n*r,this.m.x+=i*r,this.H(e),e.preventDefault()}L(){let{m:e,l:r,h:n,O:i,W:s,_:o}=this,{scrollTop:a,scrollHeight:l,clientHeight:c,scrollLeft:u,scrollWidth:h,clientWidth:d}=i,p=s,{x1:v,y1:R}=r,{x2:w,y2:$}=r,{behaviour:{scrolling:{startScrollMargins:D}}}=o;w<p.left+D.x?(e.x=u?-Vt(p.left-w+D.x):0,w=w<p.left?p.left:w):w>p.right-D.x?(e.x=h-u-d?Vt(p.left+p.width-w-D.x):0,w=w>p.right?p.right:w):e.x=0,$<p.top+D.y?(e.y=a?-Vt(p.top-$+D.y):0,$=$<p.top?p.top:$):$>p.bottom-D.y?(e.y=l-a-c?Vt(p.top+p.height-$-D.y):0,$=$>p.bottom?p.bottom:$):e.y=0;let K=Su(v,w),H=Su(R,$),ne=Au(v,w),V=Au(R,$);n.x=K,n.y=H,n.width=ne-K,n.height=V-H}j(){let{x:e,y:r,width:n,height:i}=this.h,{style:s}=this.S;s.left=`${e}px`,s.top=`${r}px`,s.width=`${n}px`,s.height=`${i}px`}$(e,r){let{document:n,features:i}=this._,{u:s}=this;Rt(n,["mousemove","touchmove"],this.R),Rt(n,["touchmove","mousemove"],this.H),Rt(n,["mouseup","touchcancel","touchend"],this.$),Rt(n,"scroll",this.D),e&&s&&i.singleTap.allow?this.F(e):s||r||(this.C(),this.M("stop",e)),this.m.x=0,this.m.y=0,this.p&&Rt(n,"wheel",this.I,{passive:!0}),this.A.remove(),this.T?.cancel(),St(this.S,"display","none"),this.U()}C(){let{o:e,_:r,i:n,h:i}=this,{stored:s,selected:o,touched:a}=n,{intersect:l,overlap:c}=r.behaviour,u=c==="invert",h=[],d=[],p=[];for(let R=0;R<e.length;R++){let w=e[R];if(Eu(i,w.getBoundingClientRect(),l)){if(o.includes(w))s.includes(w)&&!a.includes(w)&&a.push(w);else{if(u&&s.includes(w)){p.push(w);continue}d.push(w)}h.push(w)}}u&&d.push(...s.filter(R=>!o.includes(R)));let v=c==="keep";for(let R=0;R<o.length;R++){let w=o[R];h.includes(w)||v&&s.includes(w)||p.push(w)}n.selected=h,n.changed={added:d,removed:p},this.q=h[h.length-1]}M(e,r){return this.emit(e,{event:r,store:this.i,selection:this})}U(){let{_:e,i:r}=this,{selected:n,changed:i,touched:s,stored:o}=r,a=n.filter(l=>!o.includes(l));switch(e.behaviour.overlap){case"drop":r.stored=[...a,...o.filter(l=>!s.includes(l))];break;case"invert":r.stored=[...a,...o.filter(l=>!i.removed.includes(l))];break;case"keep":r.stored=[...o,...n.filter(l=>!o.includes(l))]}}trigger(e,r=!0){this.k(e,r)}resolveSelectables(){this.o=cn(this._.selectables,this._.document)}clearSelection(e=!0){this.i={stored:e?[]:this.i.stored,selected:[],touched:[],changed:{added:[],removed:[]}}}getSelection(){return this.i.stored}getSelectionArea(){return this.S}cancel(e=!1){this.$(null,!e)}destroy(){this.cancel(),this.disable(),this.A.remove(),super.unbindAllListeners()}select(e,r=!1){let{changed:n,selected:i,stored:s}=this.i,o=cn(e,this._.document).filter(a=>!i.includes(a)&&!s.includes(a));return s.push(...o),i.push(...o),n.added.push(...o),!r&&this.M("move",null),o}deselect(e,r=!1){let{selected:n,stored:i,changed:s}=this.i;return!(!n.includes(e)&&!i.includes(e))&&(s.removed.push(e),Tu(i,e),Tu(n,e),!r&&this.M("move",null),!0)}};Hs.version="3.0.0-beta.13";var Pu=Hs;async function Ou(t,e,r){let n=t.books.find(o=>o.name===e.bookId),i=Rr(JSON.stringify(e));if(!await ce.isLoggedIn()){let o=`${ut.API}/login`;localStorage.redirectUrl=location.pathname,location.replace(o)}let s=[{file:n.settings.files[0].file,content:r}];if(t.hasWriteAccess)await ce.createCommit(e.ownerId,e.repoId,t.branch,s);else{let o=await ce.getCurrentUser(),a=await ce.getForkRepo(e.ownerId,o.login,e.repoId);if(!a&&(a=(await ce.createForkRepo(e.ownerId,e.repoId)).data,!a))throw new Error("Could not fork the repo");let l="biblogos-"+Rr(r);await ce.createBranchOnFork(o.login,e.ownerId,e.repoId,l);let{data:c}=await ce.createCommit(o.login,e.repoId,l,s);await ce.createMergeRequest(o.login,e.ownerId,e.repoId,l,c.object.sha)}return delete localStorage[i],!0}var gy="https://biblogos.info/ttl/ontology#name";var my="https://biblogos.info/ttl/ontology#reference",zs=class extends me.Div{constructor(){super(...arguments);this.hasError=""}async upgradedCallback(){this.hasError="",this.isLoggedIn=!!localStorage.githubToken,ce.isLoggedIn().then(e=>{this.isLoggedIn=e,this.draw()}),this.isWorking=!1,this.draw(),this.classList.add("markings-editor-change")}draw(){let e=this.markingsStore.changes.length;this.dataset.visible=(!!e).toString(),document.body.dataset.hasChanges=(!!e).toString(),pe(this,e?O`
        <details class="changes">
            <summary>
                ${X`List of changes`} <em>(${this.markingsStore.changes.length})</em>

                ${this.isLoggedIn?O`
                <button onclick=${async()=>{this.isWorking=!0,this.draw();try{let r=await this.markingsStore.serialize();await Ou(this.project,oe,r),this.markingsStore.changes=[],be.render(!0)}catch(r){console.log(r),this.hasError=X`Error`,this.draw()}this.isWorking=!1,this.draw()}} class=${`primary button ${this.isWorking?"is-working":""} ${this.hasError?"error":""}`}>

                    ${this.hasError?O`
                        ${this.hasError}
                    `:O`
                        ${this.isWorking?X`Saving...`:X`Save`}
                    `}

                </button>
                `:O`
                <button onclick=${async()=>{let r=`${ut.API}/login`;localStorage.redirectUrl=location.pathname,location.replace(r)}} class="primary button">${X`Login with GitHub to save`}</button>
                `}

            </summary>

            <ul class="list">
                ${this.markingsStore.changes.map(r=>{let n=r.changes.find(([h,d])=>d.predicate.value===my),[i,s]=n??[],o=r.changes.find(([h,d])=>d.predicate.value===gy),[a,l]=o??[],c=s?.object.value,u=l?.object.value;return O`
                        <li class="transaction">
                            <label>${r.label}: </label><strong>${u??c??""}</strong>
                        </li>
                    `})}
            </ul>
        </details>
        `:O``)}};var Ws=class extends me.Div{async upgradedCallback(){await this.draw(),await this.loadData(),be.addEventListener("params-change",()=>this.loadData()),be.addEventListener("rerender",()=>this.loadData())}async loadData(){let e=await ce.getCurrentUser(),r=await ce.getForkRepo(oe.ownerId,e.login,oe.repoId),{ownerId:n,repoId:i,bookId:s,chapterId:o}=oe;r?.owner?.login&&(n=r.owner.login);let a=await ce.getProject(n,i);if(this.project=a,this.book=s?a.books.find(l=>l.name===s):a.books[0],this.chapters=await this.book.getChapters(),!s||!o){if(s||(s=this.book.name),!o){let[l,c]=this.chapters[0];o=l}Qt(`/editor/${n}/${i}/${s}/${o}`,!0)}this.text=await this.book.getText(o),this.markingsStore=await this.book.getMarkingsStore(),this.markings=await this.markingsStore.getMarkings(o),this.bigMarkings=this.markings.filter(l=>!l.reference.isShort),await this.draw(),this.createSelectionArea()}clear(){for(let e of[...this.querySelectorAll(".selected")])e.classList.remove("selected");this.selection.clearSelection()}createSelectionArea(){let e=this.book.settings.book,{chapterId:r}=oe;this.selection&&this.selection.destroy(),this.selection=new Pu({selectables:[".word"],boundaries:[".markings-editor"],features:{touch:!1}}).on("beforedrag",()=>!1).on("beforestart",n=>{if(n.event.target.closest(".selection-popup"))return!1}).on("start",({store:n,event:i})=>{if(!i.target.closest(".selection-popup")&&!i.ctrlKey&&!i.metaKey){for(let o of n.stored)o.classList.remove("selected");this.selection.clearSelection()}}).on("move",({store:{changed:{added:n,removed:i}}})=>{for(let s of n)s.classList.add("selected");for(let s of i)s.classList.remove("selected")}).on("stop",n=>{let i=[...this.element.querySelectorAll(".word.selected")].filter(a=>a.hasAttribute("line-number")).map(a=>{let l=parseInt(a.getAttribute("line-number")),c=parseInt(a.getAttribute("word-number")),u=this.markings.filter(({reference:p})=>p.includes(e,parseInt(r),l,c)),h=a.querySelector(".selection-popup");h&&h.remove();let d=a.innerText.replace(/[\p{P}$+<=>^`|~]/gu,"").trim();return h&&a.appendChild(h),{lineNumber:l,wordNumber:c,text:d,markings:u,element:a}}),s=new Set,o=[];for(let a of i){if(o.length===0){o.push(a);continue}let l=o.at(-1),c=a.element.previousElementSibling.previousElementSibling;c.classList.contains("space")&&(c=c.previousElementSibling),c!==l.element&&(o.length&&s.add(o),o=[]),o.push(a)}s.add(o),this.dispatchEvent(new CustomEvent("selection",{detail:[...s.values()]}))})}wordMarkings(e,r=!1,n=[]){return e=e.filter(i=>i.reference.isShort).sort((i,s)=>s.reference.length-i.reference.length),e.length?O`<span class="markings">${e.map(i=>{let s=n.find(o=>o.predicate===i.predicate);return r&&!s?O``:O`
                <span class=${`marking ${qe(i.predicate).toLowerCase()}`} 
                    style=${`--color: ${qs(qe(i.predicate).toLowerCase())};`} 
                    title=${i?.comment}>
                </span>`})}</span>`:O``}wordTemplate(e,r,n,i){let s=this.book.settings.book,o=this.markings.filter(({reference:u})=>u.includes(s,parseInt(e),r,n)),a=this.markings.filter(({reference:u})=>u.includes(s,parseInt(e),r,n+1)),l=o.find(u=>qe(u.predicate)==="Person"),c=o.map(u=>{let h=u.comment,d=qe(u.predicate);return h?h+", "+d:d}).join(`
`);return O`<span title=${c||null} person=${l?.subject} chapter-id=${e} class="word" word-number=${n} line-number=${r}>${this.wordMarkings(o,!1,a)}${i}</span><span class="word space">${this.wordMarkings(o,!0,a)} </span>`}arrows(){let{chapterId:e}=oe,r=this.chapters?.find(([i])=>i.toString()===e.toString()),n=this.chapters?.indexOf(r);return O`
            ${n!==void 0&&n>0?O`
                <a class="prev-chapter" href=${this.chapters[n-1][0]}>${Oe("prev")}</a>
            `:null}
            
            ${n!==void 0&&n!==this.chapters.length-1?O`
                <a class="next-chapter" href=${this.chapters[n+1][0]}>${Oe("next")}</a>
            `:null}
        `}async draw(){let{chapterId:e}=oe,r=this.book?.settings.book;return pe(this,this.text?O`

        ${this.arrows()}

        <${zs} ref=${n=>n.draw?n.draw():null} .project=${this.project} .markingsStore=${this.markingsStore} />


        <div params=${JSON.stringify(oe)} ref=${n=>this.element=n} class=${`markings-editor ${this.bigMarkings.length?"has-big-marking":""}`}>
            ${this.text.map(([n,i,s,o],a)=>{let l=this.markings.filter(({reference:p})=>p.includes(r,parseInt(e),n,1)&&(n===1||p.includes(r,parseInt(e),n-1,this.text[a-1].length))),c=this.wordMarkings(l),u=[],h=new Array(o);for(let p of h)u.push(O`<br><br>`);let d=i.split(" ").map((p,v)=>this.wordTemplate(e,n,v+1,p));return O.for(d)`${s?s(c):null}${d}${u}`})}

            ${this.bigMarkings.map(n=>{let i=qe(n.predicate);return O`<div ref=${s=>{setTimeout(()=>{let o=this.querySelector(`[chapter-id="${e}"][line-number="${n.reference.startVerse}"][word-number="${n.reference.startWord}"]`),a=this.querySelector(`[chapter-id="${e}"][line-number="${n.reference.endVerse}"][word-number="${n.reference.endWord}"]`);o.classList.add("start-of-big-marking"),s.style.setProperty("--y1",o.offsetTop-6+"px"),s.style.setProperty("--y2",a.offsetTop+50+"px"),s.style.setProperty("--color",qs(i.toLowerCase()))})}} class="big-marking">
                    <span class="text">${n.name}</span>
                </div>`})}

        </div>

        `:O`<span class="markings-editor">${X`Loading...`}</span>`)}};var we=class{constructor(e){this.selectionPopup=e}toString(){return this.constructor.name}};var Ys=class extends we{applies(){return!this.selectionPopup.form}template(){return O`
        <button onclick=${()=>{this.selectionPopup.form="search",this.selectionPopup.draw()}} class="button nowrap">
            ${Oe("add")} ${X`Create marking`}
        </button>`}};function Cu(t,e,r){return r.indexOf(t)===e}function Iu(t,e,r=!1){let n;return function(){let i=this,s=arguments,o=function(){n=null,r||t.apply(i,s)},a=r&&!n;clearTimeout(n),n=setTimeout(o,e),a&&t.apply(i,s)}}var Ks=class extends we{constructor(){super(...arguments);this.searchResults=null}applies(){return this.selectionPopup.predicate&&this.selectionPopup.form==="search"}template(){let e=this.selectionPopup.predicate&&this.searchResults===null,r=this.selectionPopup.predicateType!=="predicate",n=this.selectionPopup.predicate&&this.searchResults===null&&this.selectionPopup.predicateType==="predicate"&&this.selectionPopup.subject;if(e&&(r||n)){let i=this.selectionPopup.selections.flatMap(s=>s.map(o=>o.text.replace(/[\p{P}$+<=>^`|~]/gu,"").trim()).join(" ")).filter(Cu);this.selectionPopup.markingsStore.searchSubject(i,this.selectionPopup.predicate).then(s=>{this.searchResults=s,this.selectionPopup.draw()})}return O`
            <input type="search" onkeyup=${Iu(i=>{this.selectionPopup.markingsStore.searchSubject(i.target.value.split(" "),this.selectionPopup.predicate).then(s=>{this.searchResults=s,this.selectionPopup.draw()})},100)} placeholder=${X`Search existing`}>

            <!--uhtml crashes without this-->
            ${this.searchResults!==null?this.searchResults.length?O`${this.searchResults.map(i=>O`
            <span class="search-result">
                <span class="label" onclick=${async()=>{let{chapterId:s}=oe,o=this.selectionPopup.markingsStore.bookAbbreviation,a=this.selectionPopup.selections.map(l=>{let c=l.at(0),u=l.at(-1),h=`${o}.${s}.${c.lineNumber}.${c.wordNumber}`,d=`${o}.${s}.${u.lineNumber}.${u.wordNumber}`;return h===d?h:h+":"+d});await this.selectionPopup.markingsStore.appendFactReferences(i.predicate,a),this.selectionPopup.remove(),be.render()}}>${i.name}${i.comment?O`, ${i.comment}`:O``}</span>
            </span>
            `)}`:O``:O``}
        `}};var ju=t=>function(e,r,n){return n.indexOf(n.find(i=>i[t]===e[t]))===r};var Vs=class extends we{applies(){return this.selectionPopup.markings.length&&!this.selectionPopup.form}template(){return O`
        <!--uhtml crashes without this-->
        ${this.selectionPopup.markings.filter(ju("subject")).map(e=>{let r=qe(e.predicate).toLowerCase();return O`
            <span class="search-result">
                <span class="label">${r}: ${e.name}</span>
                <button class="button mini" onclick=${()=>{this.selectionPopup.form="delete",this.selectionPopup.subject=e.subject,this.selectionPopup.draw()}}>${Oe("remove")}</button>
                <button class="button mini" onclick=${()=>{this.selectionPopup.form="edit",this.selectionPopup.subject=e.subject,this.selectionPopup.name=e.name,this.selectionPopup.comment=e.comment,this.selectionPopup.draw()}}>${Oe("edit")}</button>
            </span>`})}`}};var Qs=class extends we{constructor(){super(...arguments);this.count=null}applies(){return this.selectionPopup.form==="delete"}template(){this.count===null&&this.selectionPopup.markingsStore.getReferencesCountForFact(this.selectionPopup.subject).then(s=>{this.count=s,this.selectionPopup.draw()});let e=this.selectionPopup.markings.filter(s=>s.subject===this.selectionPopup.subject),r=e[0],n=e.map(s=>s.reference.toString()),i=qe(r.predicate);return O`
            <span class="search-result">
            <span class="label">
            ${i}: ${r.name}
            </span>
            </span>

            ${this.count>1?O`
                <button class="button nowrap" onclick=${async()=>{await this.selectionPopup.markingsStore.removeFactReferences(r.subject,n),this.selectionPopup.remove(),be.render()}}>${Oe("remove")}${X`Remove only this marking`}</button>
            `:O``}

            <button class="button nowrap" onclick=${async()=>{await this.selectionPopup.markingsStore.deleteFact(r.subject),this.selectionPopup.remove(),be.render()}}>${Oe("bin")}${X`Remove every marking`}</button>
        `}};var Js=class extends we{applies(){return["edit","create"].includes(this.selectionPopup.form)}template(){return O`
        <form class="predicate-part" onsubmit=${async e=>{e.preventDefault();let{ownerId:r,repoId:n,chapterId:i}=oe,s=this.selectionPopup.markingsStore.bookAbbreviation,o=this.selectionPopup.selections.map(a=>{let l=a.at(0),c=a.at(-1),u=`${s}.${i}.${l.lineNumber}.${l.wordNumber}`,h=`${s}.${i}.${c.lineNumber}.${c.wordNumber}`;return u===h?u:u+":"+h});await this.selectionPopup.markingsStore.insertFact({uri:`https://biblogos.info/${r}/${n}/${this.selectionPopup.identifier}`,name:this.selectionPopup.name,predicate:this.selectionPopup.predicate,subject:this.selectionPopup.subject,references:o,comment:this.selectionPopup.comment}),this.selectionPopup.remove(),be.render()}}>
            <div class="field">
                <label>${X`Text`}</label>
                <input required type="text" 
                    onchange=${e=>this.selectionPopup.name=e.target.value} 
                    .value=${this.selectionPopup.name} />
            </div>

            <div class="field">
                <label>${X`Identifier`}</label>
                <input required type="text" 
                    onchange=${e=>this.selectionPopup.identifier=e.target.value} 
                    .value=${this.selectionPopup.identifier} />
            </div>

            <div class="field">
                <label>${X`Optional comment`}</label>
                <textarea onchange=${e=>this.selectionPopup.comment=e.target.value}>${this.selectionPopup.comment}</textarea>
            </div>

            <button class="button primary">${X`Save`}</button>
        </form>`}};function un({title:t,values:e,onchange:r,currentValue:n="",extraCssClass:i=""}){return O`
    <div class="field">
        ${t?O`<label class="field-label">${t}</label>`:null}

        <div class=${`select ${i}`}>
            <select onchange=${r}>
                ${e.map(([s,o])=>O`<option ?disabled=${s===""} .selected=${s.toString()===n.toString()?!0:null} value=${s}>${o}</option>`)}
            </select>

            <div class="focus"></div>
        </div>

    </div>
    `}var Xs=class extends we{applies(){return this.selectionPopup.form==="search"}template(){return this.factPredicates||this.selectionPopup.markingsStore.getFactPredicates().then(e=>{this.factPredicates=e,this.selectionPopup.draw()}),this.factPredicates?un({title:X`Relation type`,currentValue:this.selectionPopup.predicate?this.selectionPopup.predicate+"|"+this.selectionPopup.predicateType:"",values:[["","- Select -"],...this.factPredicates.map(e=>[e.predicate+"|"+e.type,e.label])].filter(([e])=>!this.selectionPopup.markings.find(r=>r.predicate===e)),onchange:e=>{let[r,n]=e.target.value.split("|");this.selectionPopup.predicate=r,this.selectionPopup.predicateType=n,this.selectionPopup.draw()}}):O`
            <span>${X`Loading...`}</span>
        `}};function $u(t){return t.trim().replaceAll("  "," ").toLowerCase().trim().split(/[ -_]/g).map(r=>r.replace(r?.[0],r[0]?.toString().toUpperCase())).join("")}var Zs=class extends we{applies(){let e=this.selectionPopup.predicate&&this.selectionPopup.form==="search",r=this.selectionPopup.predicateType!=="predicate",n=this.selectionPopup.subject&&this.selectionPopup.predicateType==="predicate";return e&&(r||n)}buttonClick(){let e=this.selectionPopup.selections.flatMap(n=>n.map(i=>i.text).join(" ")).join(" "),r=this.selectionPopup.subject?qe(this.selectionPopup.subject):null;this.selectionPopup.name=e,this.selectionPopup.identifier=$u((r??"")+" "+e),this.selectionPopup.form="create",this.selectionPopup.draw()}template(){return O`
        <button onclick=${this.buttonClick.bind(this)} class="button nowrap">
            ${Oe("add")} ${X`New marking`}
        </button>`}};var eo=class extends we{applies(){return this.selectionPopup.predicate&&this.selectionPopup.form==="search"&&this.selectionPopup.predicateType==="predicate"&&!this.selectionPopup.subject}textClick(e){if(e.stopImmediatePropagation(),!e.target.classList?.contains("word"))return;let r=e.target.getAttribute("person");e.target.classList.add("selected"),this.selectionPopup.subject=r,this.selectionPopup.form="search",this.selectionPopup.draw()}template(){return document.querySelector(".markings-editor").addEventListener("mouseup",this.textClick.bind(this),{once:!0}),O`
        <span class="search-result">
            <span class="label">${X`Select the subject`}</span>
        </span>
        `}};var to=class extends we{applies(){return!0}template(){return O`
        <button onclick=${()=>{this.selectionPopup.markingsEditor.clear(),this.selectionPopup.remove()}} class="button cancel-button secondary nowrap">
            ${Oe("close")}
        </button>`}};var ro=t=>t.stopImmediatePropagation(),no=class extends me.Span{constructor(){super();this.subject="",this.identifier="",this.predicate="",this.predicateType="",this.object="",this.name="",this.comment="",this.addEventListener("mousedown",ro),this.addEventListener("mouseup",ro),this.addEventListener("click",ro)}async upgradedCallback(){this.markings=this.selections.flatMap(e=>e.flatMap(r=>r.markings)),document.body.classList.add("has-selection-popup"),this.popupParts=[new to(this),new Xs(this),new Ks(this),new Vs(this),new Qs(this),new Js(this),new Zs(this),new Ys(this),new eo(this)],this.classList.add("selection-popup"),this.draw()}async draw(){let e=this.popupParts.filter(r=>r.applies());await pe(this,O`${e.map(r=>r.template())}`)}remove(){document.body.classList.remove("has-selection-popup"),super.remove()}};var io=class extends me.Div{async upgradedCallback(){let{ownerId:e,repoId:r,bookId:n}=oe;if(this.project=await ce.getProject(e,r),this.book=this.project.books.find(i=>i.name===n),this.bookOptions=this.project.books.map(i=>[i.settings.name,i.settings.name]),this.chapters=await this.book?.getChapters(),this.classList.add("book-navigation"),!this.book){be.addEventListener("params-change",()=>{this.upgradedCallback()},{once:!0});return}be.addEventListener("params-change",()=>this.draw()),this.draw()}draw(){!this.book||pe(this,O`

        <h2 class="project-title">${this.project.name}</h2>

        ${un({values:this.bookOptions,onchange:e=>{let r=location.pathname.split("/");r[4]=e.target.value,Qt(r.join("/"))},currentValue:oe.bookId})}

        ${un({values:this.chapters,onchange:e=>{let r=location.pathname.split("/");r[5]=e.target.value,Qt(r.join("/"))},currentValue:oe.chapterId})}
        
        `)}};var Fu={name:"editor",template:function(){let t;return O`
            <${ln} .extra=${O`<${io} />`} />
            <${Ws} class="route" ref=${e=>t=e} onclick=${e=>{let r=e.target.closest(".selection-popup");e.target.parentElement!==null&&(r||e.target.classList.contains("word")||(t.clear(),document.querySelector(".selection-popup")?.remove()))}} class="route-editor" onselection=${e=>{let r=e.detail,n=r[0][0]?.element;if(document.querySelector(".selection-popup")?.remove(),n){let i=document.createElement("div");pe(i,O`<${no} .selections=${r} .markingsStore=${t.markingsStore} .markingsEditor=${t} />`);let s=i.children[0];n.appendChild(s)}}} />
        `}};var Lu={name:"oauth-callback",redirect:()=>{let e=new URLSearchParams(location.search).get("code");if(localStorage.githubCode=e,localStorage.redirectUrl){let r=localStorage.redirectUrl;return localStorage.removeItem("redirectUrl"),r}return"/"}};var Gu={name:"login",redirect:()=>"https://biblogos.info/login"};var Du={name:"not-found",template:()=>O`Not found`};var _y,oe,hn=t=>(e,r)=>(_y=e,oe=r,t),by=[{path:"/",action:hn(wu)},{path:"/editor/:ownerId/:repoId/:bookId?/:chapterId?",action:hn(Fu)},{path:"/login",action:hn(Gu)},{path:"/oauth-callback",action:hn(Lu)},{path:"(.*)",action:hn(Du)}],Nu=new Mo(by),Qt=(t,e=!1)=>(location.pathname!==t&&history[e?"replaceState":"pushState"]({},"",t),be.render());var Jt=null,Uu=class extends EventTarget{constructor(){super();document.body.addEventListener("click",e=>{let r=e.target.nodeName!=="A"?e.target.closest("a"):e.target;if(r){let n=r.getAttribute("href");n&&(n[0]==="/"||!n.startsWith("http"))&&(e.preventDefault(),setTimeout(()=>Qt(n)))}}),window.addEventListener("popstate",()=>this.render()),this.render()}async render(e=!1){e&&be.dispatchEvent(new CustomEvent("rerender"));try{let r=await Nu.resolve({pathname:location.pathname});if(r.redirect){let n=r.redirect();n.startsWith("http"),location=n}else{Jt?.unload&&Jt.unload();let n=r.params;r.params=oe;let i=n===oe;(Jt!==r||!i)&&r.load&&r.load(),document.body.dataset.route=r.name,await pe(document.body,r.template()),Jt!==r&&this.dispatchEvent(new CustomEvent("route-change")),Jt===r&&!i&&this.dispatchEvent(new CustomEvent("params-change")),Jt!==r&&r.afterTemplate&&r.afterTemplate(),Jt=r}}catch(r){pe(document.body,O`<h3>Exception: ${r.message}</h3>`)}}},be=new Uu;export{be as app};
/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! (c) Andrea Giammarchi - ISC */
/*! @viselect/vanilla 3.0.0-beta.13 MIT | https://github.com/Simonwep/selection */
/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */
/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=app.js.map
