"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}});var Jr=!0,Xn=!1,qs="querySelectorAll";function oc(e){this.observe(e,{subtree:Jr,childList:Jr})}var ac=(e,t,r)=>{let n=(s,o,a,l,u)=>{for(let c=0,{length:h}=s;c<h;c++){let d=s[c];(u||qs in d)&&(l?o.has(d)||(o.add(d),a.delete(d),e(d,l)):a.has(d)||(a.add(d),o.delete(d),e(d,l)),u||n(d[qs]("*"),o,a,l,Jr))}},i=new(r||MutationObserver)(s=>{for(let o=new Set,a=new Set,l=0,{length:u}=s;l<u;l++){let{addedNodes:c,removedNodes:h}=s[l];n(h,o,a,Xn,Xn),n(c,o,a,Jr,Xn)}});return i.add=oc,i.add(t||document),i},Xr="Callback",Zn="Element",ei="constructor",Zr="prototype",ti="attributeChanged"+Xr,Er="connected"+Xr,Hs="dis"+Er,Ws="upgraded"+Xr,zs="downgraded"+Xr,lc={Anchor:"A",DList:"DL",Directory:"Dir",Heading:["H6","H5","H4","H3","H2","H1"],Image:"Img",OList:"OL",Paragraph:"P",TableCaption:"Caption",TableCell:["TH","TD"],TableRow:"TR",UList:"UL",[Zn]:["Article","Aside","Footer","Header","Main","Nav","Section",Zn]};var{getOwnPropertyNames:uc,setPrototypeOf:Ys}=Object,ri=new WeakMap,ni=new WeakMap,Ks=new Set,Vs=(e,t)=>document.createElementNS(t?"http://www.w3.org/2000/svg":"",e),cc=new MutationObserver(e=>{for(let t=0;t<e.length;t++){let{target:r,attributeName:n,oldValue:i}=e[t];ri.has(r)&&r[ti](n,i,r.getAttribute(n))}}),hc=e=>{Ks.has(e[ei])||(ri.delete(e),ni.delete(e),zs in e&&e[zs](),Ys(e,Vs(e.tagName,"ownerSVGElement"in e)[ei][Zr]))},Qs=(e,t)=>{if(!(e instanceof t)){hc(e),Ys(e,t[Zr]),Ws in e&&e[Ws]();let{observedAttributes:r}=t;if(r&&ti in e){ri.set(e,0),cc.observe(e,{attributeFilter:r,attributeOldValue:!0,attributes:!0});for(let n=0;n<r.length;n++){let i=r[n],s=e.getAttribute(i);s!=null&&e[ti](i,null,s)}}(Er in e||Hs in e)&&(ni.set(e,0),e.isConnected&&Er in e&&e[Er]())}return e},pc={},ye={};uc(window).forEach(e=>{if(/^(HTML|SVG)/.test(e)){let{$1:t}=RegExp,r=t=="SVG",n=e.slice(t.length,-7)||Zn,i=r?pc:ye,s=window[e];Ks.add(s),[].concat(lc[n]||n).forEach(o=>{let a=o.toLowerCase();l.tagName=a,l[Zr]=s[Zr],i[n]=i[o]=l;function l(){return Qs(Vs(a,r),this[ei])}})}});var gv=ac((e,t)=>{if(ni.has(e)){let r=t?Er:Hs;r in e&&e[r]()}}),Js=new WeakMap,dc=(e,...t)=>{let{t:r,v:n}=fc(e,t),i=Js.get(e)||Js.set(e,{}).get(e);return(i[r]||(i[r]=[r])).concat(n.map(s=>t[s]))},fc=(e,t)=>{let r=[e[0]],n=[];for(let i=0,s=0,o=0,{length:a}=t;s<a;s++)t[s]instanceof Xs?r[i]+=t[s].v+e[s+1]:(n[o++]=s,r[++i]=e[s+1]);return{t:r,v:n}},Zs=e=>new Xs(e);function Xs(e){this.v=e}var ii=e=>({get:t=>e.get(t),set:(t,r)=>(e.set(t,r),r)}),eo=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,gc=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,mc=/<[a-z][^>]+$/i,_c=/>[^<>]*$/,bc=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/ig,vc=/\s+$/,to=(e,t)=>0<t--&&(mc.test(e[t])||!_c.test(e[t])&&to(e,t)),wc=(e,t,r)=>gc.test(t)?e:`<${t}${r.replace(vc,"")}></${t}>`,yc=(e,t,r)=>{let n=[],{length:i}=e;for(let o=1;o<i;o++){let a=e[o-1];n.push(eo.test(a)&&to(e,o)?a.replace(eo,(l,u,c)=>`${t}${o-1}=${c||'"'}${u}${c?"":'"'}`):`${a}<!--${t}${o-1}-->`)}n.push(e[i-1]);let s=n.join("").trim();return r?s:s.replace(bc,wc)},{isArray:si}=Array,{indexOf:Ec,slice:ro}=[],Tc=1,no=111,xc=({firstChild:e,lastChild:t})=>{let r=document.createRange();return r.setStartAfter(e),r.setEndAfter(t),r.deleteContents(),e},kc=(e,t)=>e.nodeType===no?1/t<0?t?xc(e):e.lastChild:t?e.valueOf():e.firstChild:e,Ac=e=>{let{childNodes:t}=e,{length:r}=t;if(r<2)return r?t[0]:e;let n=ro.call(t,0),i=n[0],s=n[r-1];return{ELEMENT_NODE:Tc,nodeType:no,firstChild:i,lastChild:s,valueOf(){if(t.length!==r){let o=0;for(;o<r;)e.appendChild(n[o++])}return e}}},Sc=(e,t,r,n,i)=>{let s=r.length,o=t.length,a=s,l=0,u=0,c=null;for(;l<o||u<a;)if(o===l){let h=a<s?u?n(r[u-1],-0).nextSibling:n(r[a-u],0):i;for(;u<a;)e.insertBefore(n(r[u++],1),h)}else if(a===u)for(;l<o;)(!c||!c.has(t[l]))&&e.removeChild(n(t[l],-1)),l++;else if(t[l]===r[u])l++,u++;else if(t[o-1]===r[a-1])o--,a--;else if(t[l]===r[a-1]&&r[u]===t[o-1]){let h=n(t[--o],-1).nextSibling;e.insertBefore(n(r[u++],1),n(t[l++],-1).nextSibling),e.insertBefore(n(r[--a],1),h),t[o]=r[a]}else{if(!c){c=new Map;let h=u;for(;h<a;)c.set(r[h],h++)}if(c.has(t[l])){let h=c.get(t[l]);if(u<h&&h<a){let d=l,f=1;for(;++d<o&&d<a&&c.get(t[d])===h+f;)f++;if(f>h-u){let T=n(t[l],0);for(;u<h;)e.insertBefore(n(r[u++],1),T)}else e.replaceChild(n(r[u++],1),n(t[l++],-1))}else l++}else e.removeChild(n(t[l++],-1))}return r},Rc=e=>t=>{for(let r in t){let n=r==="role"?r:`aria-${r}`,i=t[r];i==null?e.removeAttribute(n):e.setAttribute(n,i)}},Pc=(e,t)=>{let r,n=!0,i=document.createAttributeNS(null,t);return s=>{if(r!==s)if(r=s,r==null)n||(e.removeAttributeNode(i),n=!0);else{let o=s;o==null?(n||e.removeAttributeNode(i),n=!0):(i.value=o,n&&(e.setAttributeNodeNS(i),n=!1))}}},Oc=(e,t,r)=>n=>{r!==!!n&&((r=!!n)?e.setAttribute(t,""):e.removeAttribute(t))},Cc=({dataset:e})=>t=>{for(let r in t){let n=t[r];n==null?delete e[r]:e[r]=n}},io=(e,t)=>{let r,n,i=t.slice(2);return!(t in e)&&(n=t.toLowerCase())in e&&(i=n.slice(2)),s=>{let o=si(s)?s:[s,!1];r!==o[0]&&(r&&e.removeEventListener(i,r,o[1]),(r=o[0])&&e.addEventListener(i,r,o[1]))}},Ic=e=>{let t;return r=>{t!==r&&(t=r,typeof r=="function"?r(e):r.current=e)}},jc=(e,t)=>t==="dataset"?Cc(e):r=>{e[t]=r},Fc=e=>{let t;return r=>{t!=r&&(t=r,e.textContent=r??"")}},Gc=({childNodes:e},t)=>e[t],Tr=(e,t,r)=>Sc(e.parentNode,t,r,kc,e),Lc=e=>{let t,r,n=[],i=s=>{switch(typeof s){case"string":case"number":case"boolean":t!==s&&(t=s,r||(r=document.createTextNode("")),r.data=s,n=Tr(e,n,[r]));break;case"object":case"undefined":if(s==null){t!=s&&(t=s,n=Tr(e,n,[]));break}if(si(s)){t=s,s.length===0?n=Tr(e,n,[]):typeof s[0]=="object"?n=Tr(e,n,s):i(String(s));break}t!==s&&"ELEMENT_NODE"in s&&(t=s,n=Tr(e,n,s.nodeType===11?ro.call(s.childNodes):[s]));break;case"function":i(s(e));break}};return i},Dc=(e,t)=>{switch(t[0]){case"?":return Oc(e,t.slice(1),!1);case".":return jc(e,t.slice(1));case"@":return io(e,"on"+t.slice(1));case"o":if(t[1]==="n")return io(e,t)}switch(t){case"ref":return Ic(e);case"aria":return Rc(e)}return Pc(e,t)};function $c(e){let{type:t,path:r}=e,n=r.reduceRight(Gc,this);return t==="node"?Lc(n):t==="attr"?Dc(n,e.name):Fc(n)}var so=function(e){var t="fragment",r="template",n="content"in o(r),i=n?function(l){var u=o(r);return u.innerHTML=l,u.content}:function(l){var u=o(t),c=o(r),h=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(l)){var d=RegExp.$1;c.innerHTML="<table>"+l+"</table>",h=c.querySelectorAll(d)}else c.innerHTML=l,h=c.childNodes;return s(u,h),u};return function(u,c){return(c==="svg"?a:i)(u)};function s(l,u){for(var c=u.length;c--;)l.appendChild(u[0])}function o(l){return l===t?e.createDocumentFragment():e.createElementNS("http://www.w3.org/1999/xhtml",l)}function a(l){var u=o(t),c=o("div");return c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+l+"</svg>",s(u,c.firstChild.childNodes),u}}(document),oo=document.importNode.length!=1,Nc=oo?(e,t,r)=>document.importNode(so(e,t,r),!0):so,Uc=oo?e=>document.createTreeWalker(e,1|128,null,!1):e=>document.createTreeWalker(e,1|128),oi=e=>{let t=[],{parentNode:r}=e;for(;r;)t.push(Ec.call(r.childNodes,e)),e=r,r=e.parentNode;return t},xr="isÂµ",ao=ii(new WeakMap),Mc=/^(?:plaintext|script|style|textarea|title|xmp)$/i,kr=()=>({stack:[],entry:null,wire:null}),qc=(e,t)=>{let{content:r,updates:n}=Bc(e,t);return{type:e,template:t,content:r,updates:n,wire:null}},Hc=(e,t)=>{let r=yc(t,xr,e==="svg"),n=Nc(r,e),i=Uc(n),s=[],o=t.length-1,a=0,l=`${xr}${a}`;for(;a<o;){let u=i.nextNode();if(!u)throw`bad template: ${r}`;if(u.nodeType===8)u.data===l&&(s.push({type:"node",path:oi(u)}),l=`${xr}${++a}`);else{for(;u.hasAttribute(l);)s.push({type:"attr",path:oi(u),name:u.getAttribute(l)}),u.removeAttribute(l),l=`${xr}${++a}`;Mc.test(u.tagName)&&u.textContent.trim()===`<!--${l}-->`&&(u.textContent="",s.push({type:"text",path:oi(u)}),l=`${xr}${++a}`)}}return{content:n,nodes:s}},Bc=(e,t)=>{let{content:r,nodes:n}=ao.get(t)||ao.set(t,Hc(e,t)),i=document.importNode(r,!0),s=n.map($c,i);return{content:i,updates:s}},en=(e,{type:t,template:r,values:n})=>{let{length:i}=n;lo(e,n,i);let{entry:s}=e;(!s||s.template!==r||s.type!==t)&&(e.entry=s=qc(t,r));let{content:o,updates:a,wire:l}=s;for(let u=0;u<i;u++)a[u](n[u]);return l||(s.wire=Ac(o))},lo=({stack:e},t,r)=>{for(let n=0;n<r;n++){let i=t[n];i instanceof ai?t[n]=en(e[n]||(e[n]=kr()),i):si(i)?lo(e[n]||(e[n]=kr()),i,i.length):e[n]=null}r<e.length&&e.splice(r)};function ai(e,t,r){this.type=e,this.template=t,this.values=r}var{create:Wc,defineProperties:zc}=Object,uo=e=>{let t=ii(new WeakMap),r=n=>(i,...s)=>en(n,{type:e,template:i,values:s});return zc((n,...i)=>new ai(e,n,i),{for:{value(n,i){let s=t.get(n)||t.set(n,Wc(null));return s[i]||(s[i]=r(kr()))}},node:{value:(n,...i)=>en(kr(),{type:e,template:n,values:i}).valueOf()}})},co=ii(new WeakMap),Yc=(e,t)=>{let r=typeof t=="function"?t():t,n=co.get(e)||co.set(e,kr()),i=r instanceof ai?en(n,r):r;return i!==n.wire&&(n.wire=i,e.textContent="",e.appendChild(i.valueOf())),e},Kc=uo("html"),Vc=uo("svg"),tn="data-ube",ho=new WeakMap,li=[],Qc=e=>{let t=li.indexOf(e);return t<0?li.push(e)-1:t},fo=e=>{function t(){return po.apply(e,arguments)}return t.for=(r,n)=>function(){return po.apply(e.for(r,n),arguments)},t};function ue(e){let t=Yc.apply(this,arguments),r=e.querySelectorAll(`[${tn}]`);for(let n=0,{length:i}=r;n<i;n++){let s=li[r[n].getAttribute(tn)];r[n].removeAttribute(tn),Qs(r[n],s)}return t}var j=fo(Kc),mv=fo(Vc);function po(...e){let[t]=e,r=ho.get(t);if(r)for(let n=0,{length:i}=r;n<i;n++)e[r[n].i]=r[n].v;else{ho.set(t,r=[]);for(let n=1,{length:i}=e;n<i;n++){let s=e[n];if(typeof s=="function"&&"tagName"in s){let{tagName:o}=s,a=t[n-1];switch(a[a.length-1]){case"<":s=Zs(`${o} ${tn}=${Qc(s)}`);break;case"/":s=Zs(o);break}r.push({i:n,v:s}),e[n]=s}}}return this.apply(null,dc.apply(null,e))}function Jc(e){for(var t=[],r=0;r<e.length;){var n=e[r];if(n==="*"||n==="+"||n==="?"){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(n==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(n==="{"){t.push({type:"OPEN",index:r,value:e[r++]});continue}if(n==="}"){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(n===":"){for(var i="",s=r+1;s<e.length;){var o=e.charCodeAt(s);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o===95){i+=e[s++];continue}break}if(!i)throw new TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:i}),r=s;continue}if(n==="("){var a=1,l="",s=r+1;if(e[s]==="?")throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<e.length;){if(e[s]==="\\"){l+=e[s++]+e[s++];continue}if(e[s]===")"){if(a--,a===0){s++;break}}else if(e[s]==="("&&(a++,e[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+s);l+=e[s++]}if(a)throw new TypeError("Unbalanced pattern at "+r);if(!l)throw new TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:l}),r=s;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}function Xc(e,t){t===void 0&&(t={});for(var r=Jc(e),n=t.prefixes,i=n===void 0?"./":n,s="[^"+zt(t.delimiter||"/#?")+"]+?",o=[],a=0,l=0,u="",c=function(J){if(l<r.length&&r[l].type===J)return r[l++].value},h=function(J){var se=c(J);if(se!==void 0)return se;var Re=r[l],I=Re.type,O=Re.index;throw new TypeError("Unexpected "+I+" at "+O+", expected "+J)},d=function(){for(var J="",se;se=c("CHAR")||c("ESCAPED_CHAR");)J+=se;return J};l<r.length;){var f=c("CHAR"),T=c("NAME"),R=c("PATTERN");if(T||R){var v=f||"";i.indexOf(v)===-1&&(u+=v,v=""),u&&(o.push(u),u=""),o.push({name:T||a++,prefix:v,suffix:"",pattern:R||s,modifier:c("MODIFIER")||""});continue}var $=f||c("ESCAPED_CHAR");if($){u+=$;continue}u&&(o.push(u),u="");var M=c("OPEN");if(M){var v=d(),ee=c("NAME")||"",H=c("PATTERN")||"",re=d();h("CLOSE"),o.push({name:ee||(H?a++:""),pattern:ee&&!H?s:H,prefix:v,suffix:re,modifier:c("MODIFIER")||""});continue}h("END")}return o}function eh(e,t){var r=[],n=go(e,r,t);return Zc(n,r,t)}function Zc(e,t,r){r===void 0&&(r={});var n=r.decode,i=n===void 0?function(s){return s}:n;return function(s){var o=e.exec(s);if(!o)return!1;for(var a=o[0],l=o.index,u=Object.create(null),c=function(d){if(o[d]===void 0)return"continue";var f=t[d-1];f.modifier==="*"||f.modifier==="+"?u[f.name]=o[d].split(f.prefix+f.suffix).map(function(T){return i(T,f)}):u[f.name]=i(o[d],f)},h=1;h<o.length;h++)c(h);return{path:a,index:l,params:u}}}function zt(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function mo(e){return e&&e.sensitive?"":"i"}function th(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,i=r.exec(e.source);i;)t.push({name:i[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),i=r.exec(e.source);return e}function rh(e,t,r){var n=e.map(function(i){return go(i,t,r).source});return new RegExp("(?:"+n.join("|")+")",mo(r))}function ih(e,t,r){return nh(Xc(e,r),t,r)}function nh(e,t,r){r===void 0&&(r={});for(var n=r.strict,i=n===void 0?!1:n,s=r.start,o=s===void 0?!0:s,a=r.end,l=a===void 0?!0:a,u=r.encode,c=u===void 0?function(J){return J}:u,h="["+zt(r.endsWith||"")+"]|$",d="["+zt(r.delimiter||"/#?")+"]",f=o?"^":"",T=0,R=e;T<R.length;T++){var v=R[T];if(typeof v=="string")f+=zt(c(v));else{var $=zt(c(v.prefix)),M=zt(c(v.suffix));if(v.pattern)if(t&&t.push(v),$||M)if(v.modifier==="+"||v.modifier==="*"){var ee=v.modifier==="*"?"?":"";f+="(?:"+$+"((?:"+v.pattern+")(?:"+M+$+"(?:"+v.pattern+"))*)"+M+")"+ee}else f+="(?:"+$+"("+v.pattern+")"+M+")"+v.modifier;else f+="("+v.pattern+")"+v.modifier;else f+="(?:"+$+M+")"+v.modifier}}if(l)i||(f+=d+"?"),f+=r.endsWith?"(?="+h+")":"$";else{var H=e[e.length-1],re=typeof H=="string"?d.indexOf(H[H.length-1])>-1:H===void 0;i||(f+="(?:"+d+"(?="+h+"))?"),re||(f+="(?="+d+"|"+h+")")}return new RegExp(f,mo(r))}function go(e,t,r){return e instanceof RegExp?th(e,t):Array.isArray(e)?rh(e,t,r):ih(e,t,r)}function sh(e){try{return decodeURIComponent(e)}catch(t){return e}}function _o(e,t,r,n,i){var s,o,a=0;return{next:function(u){if(e===u)return{done:!0,value:!1};if(!s){var c=e,h=!c.children;if(c.match||(c.match=eh(c.path||"",Object.assign({end:h},r))),s=c.match(n),s){var d=s,f=d.path;return s.path=!h&&f.charAt(f.length-1)==="/"?f.substr(1):f,s.params=Object.assign({},i,s.params),{done:!1,value:{route:e,baseUrl:t,path:s.path,params:s.params}}}}if(s&&e.children)for(;a<e.children.length;){if(!o){var T=e.children[a];T.parent=e,o=_o(T,t+s.path,r,n.substr(s.path.length),s.params)}var R=o.next(u);if(!R.done)return{done:!1,value:R.value};o=null,a++}return{done:!0,value:!1}}}}function oh(e,t){if(typeof e.route.action=="function")return e.route.action(e,t)}function ah(e,t){for(var r=t;r;)if(r=r.parent,r===e)return!0;return!1}var lh=function(){function e(r,n){if(!r||typeof r!="object")throw new TypeError("Invalid routes");this.options=Object.assign({decode:sh},n),this.baseUrl=this.options.baseUrl||"",this.root=Array.isArray(r)?{path:"",children:r,parent:null}:r,this.root.parent=null}var t=e.prototype;return t.resolve=function(n){var i=this,s=Object.assign({router:this},this.options.context,typeof n=="string"?{pathname:n}:n),o=_o(this.root,this.baseUrl,this.options,s.pathname.substr(this.baseUrl.length)),a=this.options.resolveRoute||oh,l,u,c=s;function h(d,f,T){f===void 0&&(f=!l.done&&l.value.route);var R=T===null&&!l.done&&l.value.route;if(l=u||o.next(R),u=null,!d&&(l.done||!ah(f,l.value.route)))return u=l,Promise.resolve(null);if(l.done){var v=new Error("Route not found");return v.status=404,Promise.reject(v)}return c=Object.assign({},s,l.value),Promise.resolve(a(c,l.value.params)).then(function($){return $??h(d,f,$)})}return s.next=h,Promise.resolve().then(function(){return h(!0,i.root)}).catch(function(d){if(i.options.errorHandler)return i.options.errorHandler(d,c);throw d})},e}(),bo=lh;var Be=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Qe(e,t,r){return r={path:t,exports:{},require:function(n,i){return rn(n,i??r.path)}},e(r,r.exports),r.exports}function Ar(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")&&Object.keys(e).length===1?e.default:e}function rn(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var nn=typeof nn!="undefined"?nn:typeof self!="undefined"?self:typeof window!="undefined"?window:{},qe=[],Fe=[],uh=typeof Uint8Array!="undefined"?Uint8Array:Array,ui=!1;function vo(){ui=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)qe[t]=e[t],Fe[e.charCodeAt(t)]=t;Fe["-".charCodeAt(0)]=62,Fe["_".charCodeAt(0)]=63}function ch(e){ui||vo();var t,r,n,i,s,o,a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=e[a-2]==="="?2:e[a-1]==="="?1:0,o=new uh(a*3/4-s),n=s>0?a-4:a;var l=0;for(t=0,r=0;t<n;t+=4,r+=3)i=Fe[e.charCodeAt(t)]<<18|Fe[e.charCodeAt(t+1)]<<12|Fe[e.charCodeAt(t+2)]<<6|Fe[e.charCodeAt(t+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=i&255;return s===2?(i=Fe[e.charCodeAt(t)]<<2|Fe[e.charCodeAt(t+1)]>>4,o[l++]=i&255):s===1&&(i=Fe[e.charCodeAt(t)]<<10|Fe[e.charCodeAt(t+1)]<<4|Fe[e.charCodeAt(t+2)]>>2,o[l++]=i>>8&255,o[l++]=i&255),o}function hh(e){return qe[e>>18&63]+qe[e>>12&63]+qe[e>>6&63]+qe[e&63]}function ph(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(hh(n));return i.join("")}function wo(e){ui||vo();for(var t,r=e.length,n=r%3,i="",s=[],o=16383,a=0,l=r-n;a<l;a+=o)s.push(ph(e,a,a+o>l?l:a+o));return n===1?(t=e[r-1],i+=qe[t>>2],i+=qe[t<<4&63],i+="=="):n===2&&(t=(e[r-2]<<8)+e[r-1],i+=qe[t>>10],i+=qe[t>>4&63],i+=qe[t<<2&63],i+="="),s.push(i),s.join("")}function sn(e,t,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=s*256+e[t+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+e[t+h],h+=d,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(f?-1:1)*Infinity;o=o+Math.pow(2,n),s=s-u}return(f?-1:1)*o*Math.pow(2,s-n)}function yo(e,t,r,n,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,h=c>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,T=n?1:-1,R=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=a&255,f+=T,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+f]=o&255,f+=T,o/=256,u-=8);e[r+f-T]|=R*128}var fh={}.toString,Eo=Array.isArray||function(e){return fh.call(e)=="[object Array]"};var To=50;y.TYPED_ARRAY_SUPPORT=nn.TYPED_ARRAY_SUPPORT!==void 0?nn.TYPED_ARRAY_SUPPORT:!0;var dh=on();function on(){return y.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Je(e,t){if(on()<t)throw new RangeError("Invalid typed array length");return y.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=y.prototype):(e===null&&(e=new y(t)),e.length=t),e}function y(e,t,r){if(!y.TYPED_ARRAY_SUPPORT&&!(this instanceof y))return new y(e,t,r);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return ci(this,e)}return xo(this,e,t,r)}y.poolSize=8192;y._augment=function(e){return e.__proto__=y.prototype,e};function xo(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?mh(e,t,r,n):typeof t=="string"?gh(e,t,r):_h(e,t)}y.from=function(e,t,r){return xo(null,e,t,r)};y.TYPED_ARRAY_SUPPORT&&(y.prototype.__proto__=Uint8Array.prototype,y.__proto__=Uint8Array);function ko(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function bh(e,t,r,n){return ko(t),t<=0?Je(e,t):r!==void 0?typeof n=="string"?Je(e,t).fill(r,n):Je(e,t).fill(r):Je(e,t)}y.alloc=function(e,t,r){return bh(null,e,t,r)};function ci(e,t){if(ko(t),e=Je(e,t<0?0:hi(t)|0),!y.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}y.allocUnsafe=function(e){return ci(null,e)};y.allocUnsafeSlow=function(e){return ci(null,e)};function gh(e,t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!y.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=Ao(t,r)|0;e=Je(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function pi(e,t){var r=t.length<0?0:hi(t.length)|0;e=Je(e,r);for(var n=0;n<r;n+=1)e[n]=t[n]&255;return e}function mh(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,r):t=new Uint8Array(t,r,n),y.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=y.prototype):e=pi(e,t),e}function _h(e,t){if(He(t)){var r=hi(t.length)|0;return e=Je(e,r),e.length===0||t.copy(e,0,0,r),e}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||vh(t.length)?Je(e,0):pi(e,t);if(t.type==="Buffer"&&Eo(t.data))return pi(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function hi(e){if(e>=on())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+on().toString(16)+" bytes");return e|0}function wh(e){return+e!=e&&(e=0),y.alloc(+e)}y.isBuffer=So;function He(e){return!!(e!=null&&e._isBuffer)}y.compare=function(t,r){if(!He(t)||!He(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(t[s]!==r[s]){n=t[s],i=r[s];break}return n<i?-1:i<n?1:0};y.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};y.concat=function(t,r){if(!Eo(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return y.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=y.allocUnsafe(r),s=0;for(n=0;n<t.length;++n){var o=t[n];if(!He(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function Ao(e,t){if(He(e))return e.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return an(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Ro(e).length;default:if(n)return an(e).length;t=(""+t).toLowerCase(),n=!0}}y.byteLength=Ao;function Ah(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return xh(this,t,r);case"utf8":case"utf-8":return Po(this,t,r);case"ascii":return Eh(this,t,r);case"latin1":case"binary":return Th(this,t,r);case"base64":return yh(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kh(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}y.prototype._isBuffer=!0;function wt(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}y.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)wt(this,r,r+1);return this};y.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)wt(this,r,r+3),wt(this,r+1,r+2);return this};y.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)wt(this,r,r+7),wt(this,r+1,r+6),wt(this,r+2,r+5),wt(this,r+3,r+4);return this};y.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Po(this,0,t):Ah.apply(this,arguments)};y.prototype.equals=function(t){if(!He(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:y.compare(this,t)===0};y.prototype.inspect=function(){var t="",r=To;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"};y.prototype.compare=function(t,r,n,i,s){if(!He(t))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>t.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===t)return 0;for(var o=s-i,a=n-r,l=Math.min(o,a),u=this.slice(i,s),c=t.slice(r,n),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0};function Co(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=y.from(t,n)),He(t))return t.length===0?-1:Oo(e,t,r,n,i);if(typeof t=="number")return t=t&255,y.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Oo(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Oo(e,t,r,n,i){var s=1,o=e.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,o/=2,a/=2,r/=2}function l(f,T){return s===1?f[T]:f.readUInt16BE(T*s)}var u;if(i){var c=-1;for(u=r;u<o;u++)if(l(e,u)===l(t,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===a)return c*s}else c!==-1&&(u-=u-c),c=-1}else for(r+a>o&&(r=o-a),u=r;u>=0;u--){for(var h=!0,d=0;d<a;d++)if(l(e,u+d)!==l(t,d)){h=!1;break}if(h)return u}return-1}y.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1};y.prototype.indexOf=function(t,r,n){return Co(this,t,r,n,!0)};y.prototype.lastIndexOf=function(t,r,n){return Co(this,t,r,n,!1)};function Sh(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(o*2,2),16);if(isNaN(a))return o;e[r+o]=a}return o}function Rh(e,t,r,n){return ln(an(t,e.length-r),e,r,n)}function Io(e,t,r,n){return ln(Ph(t),e,r,n)}function Oh(e,t,r,n){return Io(e,t,r,n)}function Ch(e,t,r,n){return ln(Ro(t),e,r,n)}function jh(e,t,r,n){return ln(Ih(t,e.length-r),e,r,n)}y.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return Sh(this,t,r,n);case"utf8":case"utf-8":return Rh(this,t,r,n);case"ascii":return Io(this,t,r,n);case"latin1":case"binary":return Oh(this,t,r,n);case"base64":return Ch(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jh(this,t,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function yh(e,t,r){return t===0&&r===e.length?wo(e):wo(e.slice(t,r))}function Po(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s=e[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var l,u,c,h;switch(a){case 1:s<128&&(o=s);break;case 2:l=e[i+1],(l&192)==128&&(h=(s&31)<<6|l&63,h>127&&(o=h));break;case 3:l=e[i+1],u=e[i+2],(l&192)==128&&(u&192)==128&&(h=(s&15)<<12|(l&63)<<6|u&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],(l&192)==128&&(u&192)==128&&(c&192)==128&&(h=(s&15)<<18|(l&63)<<12|(u&63)<<6|c&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return Fh(n)}var jo=4096;function Fh(e){var t=e.length;if(t<=jo)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=jo));return r}function Eh(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function Th(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function xh(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=Gh(e[s]);return i}function kh(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}y.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i;if(y.TYPED_ARRAY_SUPPORT)i=this.subarray(t,r),i.__proto__=y.prototype;else{var s=r-t;i=new y(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+t]}return i};function de(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUIntLE=function(t,r,n){t=t|0,r=r|0,n||de(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return i};y.prototype.readUIntBE=function(t,r,n){t=t|0,r=r|0,n||de(t,r,this.length);for(var i=this[t+--r],s=1;r>0&&(s*=256);)i+=this[t+--r]*s;return i};y.prototype.readUInt8=function(t,r){return r||de(t,1,this.length),this[t]};y.prototype.readUInt16LE=function(t,r){return r||de(t,2,this.length),this[t]|this[t+1]<<8};y.prototype.readUInt16BE=function(t,r){return r||de(t,2,this.length),this[t]<<8|this[t+1]};y.prototype.readUInt32LE=function(t,r){return r||de(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};y.prototype.readUInt32BE=function(t,r){return r||de(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};y.prototype.readIntLE=function(t,r,n){t=t|0,r=r|0,n||de(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};y.prototype.readIntBE=function(t,r,n){t=t|0,r=r|0,n||de(t,r,this.length);for(var i=r,s=1,o=this[t+--i];i>0&&(s*=256);)o+=this[t+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};y.prototype.readInt8=function(t,r){return r||de(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};y.prototype.readInt16LE=function(t,r){r||de(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};y.prototype.readInt16BE=function(t,r){r||de(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};y.prototype.readInt32LE=function(t,r){return r||de(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};y.prototype.readInt32BE=function(t,r){return r||de(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};y.prototype.readFloatLE=function(t,r){return r||de(t,4,this.length),sn(this,t,!0,23,4)};y.prototype.readFloatBE=function(t,r){return r||de(t,4,this.length),sn(this,t,!1,23,4)};y.prototype.readDoubleLE=function(t,r){return r||de(t,8,this.length),sn(this,t,!0,52,8)};y.prototype.readDoubleBE=function(t,r){return r||de(t,8,this.length),sn(this,t,!1,52,8)};function Pe(e,t,r,n,i,s){if(!He(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}y.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Pe(this,t,r,n,s,0)}var o=1,a=0;for(this[r]=t&255;++a<n&&(o*=256);)this[r+a]=t/o&255;return r+n};y.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Pe(this,t,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=t&255;--o>=0&&(a*=256);)this[r+o]=t/a&255;return r+n};y.prototype.writeUInt8=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,1,255,0),y.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=t&255,r+1};function un(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}y.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):un(this,t,r,!0),r+2};y.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):un(this,t,r,!1),r+2};function cn(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>(n?i:3-i)*8&255}y.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255):cn(this,t,r,!0),r+4};y.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):cn(this,t,r,!1),r+4};y.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r|0,!i){var s=Math.pow(2,8*n-1);Pe(this,t,r,n,s-1,-s)}var o=0,a=1,l=0;for(this[r]=t&255;++o<n&&(a*=256);)t<0&&l===0&&this[r+o-1]!==0&&(l=1),this[r+o]=(t/a>>0)-l&255;return r+n};y.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r|0,!i){var s=Math.pow(2,8*n-1);Pe(this,t,r,n,s-1,-s)}var o=n-1,a=1,l=0;for(this[r+o]=t&255;--o>=0&&(a*=256);)t<0&&l===0&&this[r+o+1]!==0&&(l=1),this[r+o]=(t/a>>0)-l&255;return r+n};y.prototype.writeInt8=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,1,127,-128),y.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=t&255,r+1};y.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):un(this,t,r,!0),r+2};y.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):un(this,t,r,!1),r+2};y.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,4,2147483647,-2147483648),y.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):cn(this,t,r,!0),r+4};y.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r|0,n||Pe(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),y.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):cn(this,t,r,!1),r+4};function Fo(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Go(e,t,r,n,i){return i||Fo(e,t,r,4),yo(e,t,r,n,23,4),r+4}y.prototype.writeFloatLE=function(t,r,n){return Go(this,t,r,!0,n)};y.prototype.writeFloatBE=function(t,r,n){return Go(this,t,r,!1,n)};function Lo(e,t,r,n,i){return i||Fo(e,t,r,8),yo(e,t,r,n,52,8),r+8}y.prototype.writeDoubleLE=function(t,r,n){return Lo(this,t,r,!0,n)};y.prototype.writeDoubleBE=function(t,r,n){return Lo(this,t,r,!1,n)};y.prototype.copy=function(t,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var s=i-n,o;if(this===t&&n<r&&r<i)for(o=s-1;o>=0;--o)t[o+r]=this[o+n];else if(s<1e3||!y.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+r]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),r);return s};y.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var s=t.charCodeAt(0);s<256&&(t=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!y.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{var a=He(t)?t:an(new y(t,i).toString()),l=a.length;for(o=0;o<n-r;++o)this[o+r]=a[o%l]}return this};var Lh=/[^+\/0-9A-Za-z-_]/g;function $h(e){if(e=Dh(e).replace(Lh,""),e.length<2)return"";for(;e.length%4!=0;)e=e+"=";return e}function Dh(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Gh(e){return e<16?"0"+e.toString(16):e.toString(16)}function an(e,t){t=t||Infinity;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Ph(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function Ih(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Ro(e){return ch($h(e))}function ln(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function vh(e){return e!==e}function So(e){return e!=null&&(!!e._isBuffer||Do(e)||Nh(e))}function Do(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Nh(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Do(e.slice(0,0))}var $o=Object.freeze({__proto__:null,Buffer:y,INSPECT_MAX_BYTES:To,SlowBuffer:wh,isBuffer:So,kMaxLength:dh});function No(){throw new Error("setTimeout has not been defined")}function Uo(){throw new Error("clearTimeout has not been defined")}var lt=No,ut=Uo,Yt;typeof window!="undefined"?Yt=window:typeof self!="undefined"?Yt=self:Yt={};typeof Yt.setTimeout=="function"&&(lt=setTimeout);typeof Yt.clearTimeout=="function"&&(ut=clearTimeout);function Mo(e){if(lt===setTimeout)return setTimeout(e,0);if((lt===No||!lt)&&setTimeout)return lt=setTimeout,setTimeout(e,0);try{return lt(e,0)}catch(t){try{return lt.call(null,e,0)}catch(r){return lt.call(this,e,0)}}}function Uh(e){if(ut===clearTimeout)return clearTimeout(e);if((ut===Uo||!ut)&&clearTimeout)return ut=clearTimeout,clearTimeout(e);try{return ut(e)}catch(t){try{return ut.call(null,e)}catch(r){return ut.call(this,e)}}}var Xe=[],Kt=!1,yt,hn=-1;function Mh(){!Kt||!yt||(Kt=!1,yt.length?Xe=yt.concat(Xe):hn=-1,Xe.length&&Bo())}function Bo(){if(!Kt){var e=Mo(Mh);Kt=!0;for(var t=Xe.length;t;){for(yt=Xe,Xe=[];++hn<t;)yt&&yt[hn].run();hn=-1,t=Xe.length}yt=null,Kt=!1,Uh(e)}}function Bh(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Xe.push(new qo(e,t)),Xe.length===1&&!Kt&&Mo(Bo)}function qo(e,t){this.fun=e,this.array=t}qo.prototype.run=function(){this.fun.apply(null,this.array)};var qh="browser",Hh="browser",Wh=!0,zh=[],Yh="",Kh={},Vh={},Qh={};function Et(){}var Jh=Et,Xh=Et,Zh=Et,ep=Et,tp=Et,rp=Et,np=Et;function ip(e){throw new Error("process.binding is not supported")}function sp(){return"/"}function op(e){throw new Error("process.chdir is not supported")}function ap(){return 0}var Vt=Yt.performance||{},lp=Vt.now||Vt.mozNow||Vt.msNow||Vt.oNow||Vt.webkitNow||function(){return new Date().getTime()};function up(e){var t=lp.call(Vt)*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r=r-e[0],n=n-e[1],n<0&&(r--,n+=1e9)),[r,n]}var cp=new Date;function hp(){var e=new Date,t=e-cp;return t/1e3}var z={nextTick:Bh,title:qh,browser:Wh,env:{NODE_ENV:"production"},argv:zh,version:Yh,versions:Kh,on:Jh,addListener:Xh,once:Zh,off:ep,removeListener:tp,removeAllListeners:rp,emit:np,binding:ip,cwd:sp,chdir:op,umask:ap,hrtime:up,platform:Hh,release:Vh,config:Qh,uptime:hp},pp={},fp=Object.freeze({__proto__:null,default:pp}),ct=Ar(fp);function Ze(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof z=="object"&&"version"in z?`Node.js/${z.version.substr(1)} (${z.platform}; ${z.arch})`:"<environment undetectable>"}var dp=Object.freeze({__proto__:null,getUserAgent:Ze}),Wo=Ho;function Ho(e,t,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(t)?t.reverse().reduce(function(i,s){return Ho.bind(null,e,s,i,n)},r)():Promise.resolve().then(function(){return e.registry[t]?e.registry[t].reduce(function(i,s){return s.hook.bind(null,i,n)},r)():r(n)})}var mp=gp;function gp(e,t,r,n){var i=n;e.registry[r]||(e.registry[r]=[]),t==="before"&&(n=function(s,o){return Promise.resolve().then(i.bind(null,o)).then(s.bind(null,o))}),t==="after"&&(n=function(s,o){var a;return Promise.resolve().then(s.bind(null,o)).then(function(l){return a=l,i(a,o)}).then(function(){return a})}),t==="error"&&(n=function(s,o){return Promise.resolve().then(s.bind(null,o)).catch(function(a){return i(a,o)})}),e.registry[r].push({hook:n,orig:i})}var bp=_p;function _p(e,t,r){if(!!e.registry[t]){var n=e.registry[t].map(function(i){return i.orig}).indexOf(r);n!==-1&&e.registry[t].splice(n,1)}}var zo=Function.bind,Yo=zo.bind(zo);function Ko(e,t,r){var n=Yo(bp,null).apply(null,r?[t,r]:[t]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(i){var s=r?[t,i,r]:[t,i];e[i]=e.api[i]=Yo(mp,null).apply(null,s)})}function vp(){var e="h",t={registry:{}},r=Wo.bind(null,t,e);return Ko(r,t,e),r}function Vo(){var e={registry:{}},t=Wo.bind(null,e);return Ko(t,e),t}var Qo=!1;function Qt(){return Qo||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),Qo=!0),Vo()}Qt.Singular=vp.bind();Qt.Collection=Vo.bind();var fi=Qt,wp=Qt,yp=Qt.Singular,Jo=Qt.Collection;fi.Hook=wp;fi.Singular=yp;fi.Collection=Jo;function Xo(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zo(e){var t,r;return Xo(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(Xo(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function Ep(e){return e?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}}function ea(e,t){let r=Object.assign({},e);return Object.keys(t).forEach(n=>{Zo(t[n])?n in e?r[n]=ea(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})}),r}function ta(e){for(let t in e)e[t]===void 0&&delete e[t];return e}function di(e,t,r){if(typeof t=="string"){let[i,s]=t.split(" ");r=Object.assign(s?{method:i,url:s}:{url:i},r)}else r=Object.assign({},t);r.headers=Ep(r.headers),ta(r),ta(r.headers);let n=ea(e||{},r);return e&&e.mediaType.previews.length&&(n.mediaType.previews=e.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}function Tp(e,t){let r=/\?/.test(e)?"&":"?",n=Object.keys(t);return n.length===0?e:e+r+n.map(i=>i==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(t[i])}`).join("&")}var xp=/\{[^}]+\}/g;function kp(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function Ap(e){let t=e.match(xp);return t?t.map(kp).reduce((r,n)=>r.concat(n),[]):[]}function ra(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function na(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function Jt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Sr(e,t,r){return t=e==="+"||e==="#"?na(t):Jt(t),r?Jt(r)+"="+t:t}function Xt(e){return e!=null}function gi(e){return e===";"||e==="&"||e==="?"}function Sp(e,t,r,n){var i=e[r],s=[];if(Xt(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),s.push(Sr(t,i,gi(t)?r:""));else if(n==="*")Array.isArray(i)?i.filter(Xt).forEach(function(o){s.push(Sr(t,o,gi(t)?r:""))}):Object.keys(i).forEach(function(o){Xt(i[o])&&s.push(Sr(t,i[o],o))});else{let o=[];Array.isArray(i)?i.filter(Xt).forEach(function(a){o.push(Sr(t,a))}):Object.keys(i).forEach(function(a){Xt(i[a])&&(o.push(Jt(a)),o.push(Sr(t,i[a].toString())))}),gi(t)?s.push(Jt(r)+"="+o.join(",")):o.length!==0&&s.push(o.join(","))}else t===";"?Xt(i)&&s.push(Jt(r)):i===""&&(t==="&"||t==="?")?s.push(Jt(r)+"="):i===""&&s.push("");return s}function Pp(e){return{expand:Rp.bind(null,e)}}function Rp(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,s){if(i){let a="",l=[];if(r.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(u){var c=/([^:\*]*)(?::(\d+)|(\*))?/.exec(u);l.push(Sp(t,a,c[1],c[2]||c[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return na(s)})}function ia(e){let t=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},e.headers),i,s=ra(e,["method","baseUrl","url","headers","request","mediaType"]),o=Ap(r);r=Pp(r).expand(s),/^http/.test(r)||(r=e.baseUrl+r);let a=Object.keys(e).filter(c=>o.includes(c)).concat("baseUrl"),l=ra(s,a);if(!/application\/octet-stream/i.test(n.accept)&&(e.mediaType.format&&(n.accept=n.accept.split(/,/).map(c=>c.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){let c=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=c.concat(e.mediaType.previews).map(h=>{let d=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${h}-preview${d}`}).join(",")}return["GET","HEAD"].includes(t)?r=Tp(r,l):"data"in l?i=l.data:Object.keys(l).length?i=l:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof i=="undefined"&&(i=""),Object.assign({method:t,url:r,headers:n},typeof i!="undefined"?{body:i}:null,e.request?{request:e.request}:null)}function Op(e,t,r){return ia(di(e,t,r))}function sa(e,t){let r=di(e,t),n=Op.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:sa.bind(null,r),merge:di.bind(null,r),parse:ia})}var Cp="6.0.12",Ip=`octokit-endpoint.js/${Cp} ${Ze()}`,jp={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Ip},mediaType:{format:"",previews:[]}},Fp=sa(null,jp),Gp=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof Tt!="undefined")return Tt;throw new Error("unable to locate global object")},Tt=Gp(),Lp=Tt.fetch.bind(Tt),xv=Tt.Headers,kv=Tt.Request,Av=Tt.Response,pn=class extends Error{constructor(t){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}},aa=oa;function oa(e,t){if(e&&t)return oa(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}var mi=aa(fn),Dp=aa(la);fn.proto=fn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return fn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return la(this)},configurable:!0})});function fn(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function la(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}mi.strict=Dp;var $p=mi(e=>console.warn(e)),Np=mi(e=>console.warn(e)),xt=class extends Error{constructor(t,r,n){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let i;"headers"in n&&typeof n.headers!="undefined"&&(i=n.headers),"response"in n&&(this.response=n.response,i=n.response.headers);let s=Object.assign({},n.request);n.request.headers.authorization&&(s.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),s.url=s.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=s,Object.defineProperty(this,"code",{get(){return $p(new pn("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return Np(new pn("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}},Up=Object.freeze({__proto__:null,RequestError:xt}),Mp="5.6.2";function Bp(e){return e.arrayBuffer()}function ua(e){let t=e.request&&e.request.log?e.request.log:console;(Zo(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let r={},n,i;return(e.request&&e.request.fetch||Lp)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async o=>{i=o.url,n=o.status;for(let a of o.headers)r[a[0]]=a[1];if("deprecation"in r){let a=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),l=a&&a.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${l?`. See ${l}`:""}`)}if(!(n===204||n===205)){if(e.method==="HEAD"){if(n<400)return;throw new xt(o.statusText,n,{response:{url:i,status:n,headers:r,data:void 0},request:e})}if(n===304)throw new xt("Not modified",n,{response:{url:i,status:n,headers:r,data:await _i(o)},request:e});if(n>=400){let a=await _i(o);throw new xt(qp(a),n,{response:{url:i,status:n,headers:r,data:a},request:e})}return _i(o)}}).then(o=>({status:n,url:i,headers:r,data:o})).catch(o=>{throw o instanceof xt?o:new xt(o.message,500,{request:e})})}async function _i(e){let t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():Bp(e)}function qp(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function bi(e,t){let r=e.defaults(t);return Object.assign(function(i,s){let o=r.merge(i,s);if(!o.request||!o.request.hook)return ua(r.parse(o));let a=(l,u)=>ua(r.parse(r.merge(l,u)));return Object.assign(a,{endpoint:r,defaults:bi.bind(null,r)}),o.request.hook(a,o)},{endpoint:r,defaults:bi.bind(null,r)})}var et=bi(Fp,{headers:{"user-agent":`octokit-request.js/${Mp} ${Ze()}`}}),We=Object.freeze({__proto__:null,request:et}),Hp="4.8.0";function Wp(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var ca=class extends Error{constructor(t,r,n){super(Wp(n));this.request=t,this.headers=r,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},zp=["method","baseUrl","url","headers","request","query","mediaType"],Yp=["query","method","url"],ha=/\/api\/v3\/?$/;function Kp(e,t,r){if(r){if(typeof t=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let o in r)if(!!Yp.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}let n=typeof t=="string"?Object.assign({query:t},r):t,i=Object.keys(n).reduce((o,a)=>zp.includes(a)?(o[a]=n[a],o):(o.variables||(o.variables={}),o.variables[a]=n[a],o),{}),s=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;return ha.test(s)&&(i.url=s.replace(ha,"/api/graphql")),e(i).then(o=>{if(o.data.errors){let a={};for(let l of Object.keys(o.headers))a[l]=o.headers[l];throw new ca(i,a,o.data)}return o.data.data})}function vi(e,t){let r=e.defaults(t);return Object.assign((i,s)=>Kp(r,i,s),{defaults:vi.bind(null,r),endpoint:et.endpoint})}var Sv=vi(et,{headers:{"user-agent":`octokit-graphql.js/${Hp} ${Ze()}`},method:"POST",url:"/graphql"});function Vp(e){return vi(e,{method:"POST",url:"/graphql"})}var Qp=/^v1\./,Jp=/^ghs_/,Xp=/^ghu_/;async function Zp(e){let t=e.split(/\./).length===3,r=Qp.test(e)||Jp.test(e),n=Xp.test(e);return{type:"token",token:e,tokenType:t?"app":r?"installation":n?"user-to-server":"oauth"}}function ef(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function tf(e,t,r,n){let i=t.endpoint.merge(r,n);return i.headers.authorization=ef(e),t(i)}var rf=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(Zp.bind(null,t),{hook:tf.bind(null,t)})},pa="3.5.1",Rr=class{constructor(t={}){let r=new Jo,n={baseUrl:et.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[t.userAgent,`octokit-core.js/${pa} ${Ze()}`].filter(Boolean).join(" "),t.baseUrl&&(n.baseUrl=t.baseUrl),t.previews&&(n.mediaType.previews=t.previews),t.timeZone&&(n.headers["time-zone"]=t.timeZone),this.request=et.defaults(n),this.graphql=Vp(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=r,t.authStrategy){let{authStrategy:s,...o}=t,a=s(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},t.auth));r.wrap("request",a.hook),this.auth=a}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{let s=rf(t.auth);r.wrap("request",s.hook),this.auth=s}this.constructor.plugins.forEach(s=>{Object.assign(this,s(this,t))})}static defaults(t){return class extends this{constructor(...n){let i=n[0]||{};if(typeof t=="function"){super(t(i));return}super(Object.assign({},t,i,i.userAgent&&t.userAgent?{userAgent:`${i.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var r;let n=this.plugins;return r=class extends this{},r.plugins=n.concat(t.filter(s=>!n.includes(s))),r}};Rr.VERSION=pa;Rr.plugins=[];var fa=Object.freeze({__proto__:null,Octokit:Rr}),nf="2.17.0";function sf(e){if(!e.data)return{...e,data:[]};if(!("total_count"in e.data&&!("url"in e.data)))return e;let r=e.data.incomplete_results,n=e.data.repository_selection,i=e.data.total_count;delete e.data.incomplete_results,delete e.data.repository_selection,delete e.data.total_count;let s=Object.keys(e.data)[0],o=e.data[s];return e.data=o,typeof r!="undefined"&&(e.data.incomplete_results=r),typeof n!="undefined"&&(e.data.repository_selection=n),e.data.total_count=i,e}function wi(e,t,r){let n=typeof t=="function"?t.endpoint(r):e.request.endpoint(t,r),i=typeof t=="function"?t:e.request,s=n.method,o=n.headers,a=n.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:!0};try{let l=await i({method:s,url:a,headers:o}),u=sf(l);return a=((u.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:u}}catch(l){if(l.status!==409)throw l;return a="",{value:{status:200,headers:{},data:[]}}}}})}}function ga(e,t,r,n){return typeof r=="function"&&(n=r,r=void 0),da(e,[],wi(e,t,r)[Symbol.asyncIterator](),n)}function da(e,t,r,n){return r.next().then(i=>{if(i.done)return t;let s=!1;function o(){s=!0}return t=t.concat(n?n(i.value,o):i.value.data),s?t:da(e,t,r,n)})}var of=Object.assign(ga,{iterator:wi}),ma=["GET /app/hook/deliveries","GET /app/installations","GET /applications/grants","GET /authorizations","GET /enterprises/{enterprise}/actions/permissions/organizations","GET /enterprises/{enterprise}/actions/runner-groups","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/organizations","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/runners","GET /enterprises/{enterprise}/actions/runners","GET /enterprises/{enterprise}/actions/runners/downloads","GET /events","GET /gists","GET /gists/public","GET /gists/starred","GET /gists/{gist_id}/comments","GET /gists/{gist_id}/commits","GET /gists/{gist_id}/forks","GET /installation/repositories","GET /issues","GET /marketplace_listing/plans","GET /marketplace_listing/plans/{plan_id}/accounts","GET /marketplace_listing/stubbed/plans","GET /marketplace_listing/stubbed/plans/{plan_id}/accounts","GET /networks/{owner}/{repo}/events","GET /notifications","GET /organizations","GET /orgs/{org}/actions/permissions/repositories","GET /orgs/{org}/actions/runner-groups","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/runners","GET /orgs/{org}/actions/runners","GET /orgs/{org}/actions/runners/downloads","GET /orgs/{org}/actions/secrets","GET /orgs/{org}/actions/secrets/{secret_name}/repositories","GET /orgs/{org}/blocks","GET /orgs/{org}/credential-authorizations","GET /orgs/{org}/events","GET /orgs/{org}/failed_invitations","GET /orgs/{org}/hooks","GET /orgs/{org}/hooks/{hook_id}/deliveries","GET /orgs/{org}/installations","GET /orgs/{org}/invitations","GET /orgs/{org}/invitations/{invitation_id}/teams","GET /orgs/{org}/issues","GET /orgs/{org}/members","GET /orgs/{org}/migrations","GET /orgs/{org}/migrations/{migration_id}/repositories","GET /orgs/{org}/outside_collaborators","GET /orgs/{org}/packages","GET /orgs/{org}/projects","GET /orgs/{org}/public_members","GET /orgs/{org}/repos","GET /orgs/{org}/secret-scanning/alerts","GET /orgs/{org}/team-sync/groups","GET /orgs/{org}/teams","GET /orgs/{org}/teams/{team_slug}/discussions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions","GET /orgs/{org}/teams/{team_slug}/invitations","GET /orgs/{org}/teams/{team_slug}/members","GET /orgs/{org}/teams/{team_slug}/projects","GET /orgs/{org}/teams/{team_slug}/repos","GET /orgs/{org}/teams/{team_slug}/team-sync/group-mappings","GET /orgs/{org}/teams/{team_slug}/teams","GET /projects/columns/{column_id}/cards","GET /projects/{project_id}/collaborators","GET /projects/{project_id}/columns","GET /repos/{owner}/{repo}/actions/artifacts","GET /repos/{owner}/{repo}/actions/runners","GET /repos/{owner}/{repo}/actions/runners/downloads","GET /repos/{owner}/{repo}/actions/runs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts","GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs","GET /repos/{owner}/{repo}/actions/secrets","GET /repos/{owner}/{repo}/actions/workflows","GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs","GET /repos/{owner}/{repo}/assignees","GET /repos/{owner}/{repo}/autolinks","GET /repos/{owner}/{repo}/branches","GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations","GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs","GET /repos/{owner}/{repo}/code-scanning/alerts","GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances","GET /repos/{owner}/{repo}/code-scanning/analyses","GET /repos/{owner}/{repo}/collaborators","GET /repos/{owner}/{repo}/comments","GET /repos/{owner}/{repo}/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/commits","GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head","GET /repos/{owner}/{repo}/commits/{commit_sha}/comments","GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls","GET /repos/{owner}/{repo}/commits/{ref}/check-runs","GET /repos/{owner}/{repo}/commits/{ref}/check-suites","GET /repos/{owner}/{repo}/commits/{ref}/statuses","GET /repos/{owner}/{repo}/contributors","GET /repos/{owner}/{repo}/deployments","GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses","GET /repos/{owner}/{repo}/events","GET /repos/{owner}/{repo}/forks","GET /repos/{owner}/{repo}/git/matching-refs/{ref}","GET /repos/{owner}/{repo}/hooks","GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries","GET /repos/{owner}/{repo}/invitations","GET /repos/{owner}/{repo}/issues","GET /repos/{owner}/{repo}/issues/comments","GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/issues/events","GET /repos/{owner}/{repo}/issues/{issue_number}/comments","GET /repos/{owner}/{repo}/issues/{issue_number}/events","GET /repos/{owner}/{repo}/issues/{issue_number}/labels","GET /repos/{owner}/{repo}/issues/{issue_number}/reactions","GET /repos/{owner}/{repo}/issues/{issue_number}/timeline","GET /repos/{owner}/{repo}/keys","GET /repos/{owner}/{repo}/labels","GET /repos/{owner}/{repo}/milestones","GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels","GET /repos/{owner}/{repo}/notifications","GET /repos/{owner}/{repo}/pages/builds","GET /repos/{owner}/{repo}/projects","GET /repos/{owner}/{repo}/pulls","GET /repos/{owner}/{repo}/pulls/comments","GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/pulls/{pull_number}/comments","GET /repos/{owner}/{repo}/pulls/{pull_number}/commits","GET /repos/{owner}/{repo}/pulls/{pull_number}/files","GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments","GET /repos/{owner}/{repo}/releases","GET /repos/{owner}/{repo}/releases/{release_id}/assets","GET /repos/{owner}/{repo}/secret-scanning/alerts","GET /repos/{owner}/{repo}/stargazers","GET /repos/{owner}/{repo}/subscribers","GET /repos/{owner}/{repo}/tags","GET /repos/{owner}/{repo}/teams","GET /repositories","GET /repositories/{repository_id}/environments/{environment_name}/secrets","GET /scim/v2/enterprises/{enterprise}/Groups","GET /scim/v2/enterprises/{enterprise}/Users","GET /scim/v2/organizations/{org}/Users","GET /search/code","GET /search/commits","GET /search/issues","GET /search/labels","GET /search/repositories","GET /search/topics","GET /search/users","GET /teams/{team_id}/discussions","GET /teams/{team_id}/discussions/{discussion_number}/comments","GET /teams/{team_id}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /teams/{team_id}/discussions/{discussion_number}/reactions","GET /teams/{team_id}/invitations","GET /teams/{team_id}/members","GET /teams/{team_id}/projects","GET /teams/{team_id}/repos","GET /teams/{team_id}/team-sync/group-mappings","GET /teams/{team_id}/teams","GET /user/blocks","GET /user/emails","GET /user/followers","GET /user/following","GET /user/gpg_keys","GET /user/installations","GET /user/installations/{installation_id}/repositories","GET /user/issues","GET /user/keys","GET /user/marketplace_purchases","GET /user/marketplace_purchases/stubbed","GET /user/memberships/orgs","GET /user/migrations","GET /user/migrations/{migration_id}/repositories","GET /user/orgs","GET /user/packages","GET /user/public_emails","GET /user/repos","GET /user/repository_invitations","GET /user/starred","GET /user/subscriptions","GET /user/teams","GET /users","GET /users/{username}/events","GET /users/{username}/events/orgs/{org}","GET /users/{username}/events/public","GET /users/{username}/followers","GET /users/{username}/following","GET /users/{username}/gists","GET /users/{username}/gpg_keys","GET /users/{username}/keys","GET /users/{username}/orgs","GET /users/{username}/packages","GET /users/{username}/projects","GET /users/{username}/received_events","GET /users/{username}/received_events/public","GET /users/{username}/repos","GET /users/{username}/starred","GET /users/{username}/subscriptions"];function af(e){return typeof e=="string"?ma.includes(e):!1}function yi(e){return{paginate:Object.assign(ga.bind(null,e),{iterator:wi.bind(null,e)})}}yi.VERSION=nf;var _a=Object.freeze({__proto__:null,composePaginateRest:of,isPaginatingEndpoint:af,paginateRest:yi,paginatingEndpoints:ma}),lf={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createContentAttachmentForRepo:["POST /repos/{owner}/{repo}/content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableLfsForRepo:["DELETE /repos/{owner}/{repo}/lfs"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enableLfsForRepo:["PUT /repos/{owner}/{repo}/lfs"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},uf="5.13.0";function hf(e,t){let r={};for(let[n,i]of Object.entries(t))for(let[s,o]of Object.entries(i)){let[a,l,u]=o,[c,h]=a.split(/ /),d=Object.assign({method:c,url:h},l);r[n]||(r[n]={});let f=r[n];if(u){f[s]=cf(e,n,s,d,u);continue}f[s]=e.request.defaults(d)}return r}function cf(e,t,r,n,i){let s=e.request.defaults(n);function o(...a){let l=s.endpoint.merge(...a);if(i.mapToData)return l=Object.assign({},l,{data:l[i.mapToData],[i.mapToData]:void 0}),s(l);if(i.renamed){let[u,c]=i.renamed;e.log.warn(`octokit.${t}.${r}() has been renamed to octokit.${u}.${c}()`)}if(i.deprecated&&e.log.warn(i.deprecated),i.renamedParameters){let u=s.endpoint.merge(...a);for(let[c,h]of Object.entries(i.renamedParameters))c in u&&(e.log.warn(`"${c}" parameter is deprecated for "octokit.${t}.${r}()". Use "${h}" instead`),h in u||(u[h]=u[c]),delete u[c]);return s(u)}return s(...a)}return Object.assign(o,s)}function ba(e){return{rest:hf(e,lf)}}ba.VERSION=uf;var pf=Qe(function(e,t){(function(r,n){e.exports=n()})(Be,function(){var r=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Be!="undefined"?Be:typeof self!="undefined"?self:{};function n(D){return D&&D.default||D}var i=function(D,_,p={}){var b,w,E;for(b in _)E=_[b],p[b]=(w=D[b])!=null?w:E;return p},s=function(D,_,p={}){var b,w;for(b in D)w=D[b],_[b]!==void 0&&(p[b]=w);return p},o={load:i,overwrite:s},a;a=class{constructor(_,p){this.incr=_,this.decr=p,this._first=null,this._last=null,this.length=0}push(_){var p;this.length++,typeof this.incr=="function"&&this.incr(),p={value:_,prev:this._last,next:null},this._last!=null?(this._last.next=p,this._last=p):this._first=this._last=p}shift(){var _;if(this._first!=null)return this.length--,typeof this.decr=="function"&&this.decr(),_=this._first.value,(this._first=this._first.next)!=null?this._first.prev=null:this._last=null,_}first(){if(this._first!=null)return this._first.value}getArray(){var _,p,b;for(_=this._first,b=[];_!=null;)b.push((p=_,_=_.next,p.value));return b}forEachShift(_){var p;for(p=this.shift();p!=null;)_(p),p=this.shift()}debug(){var _,p,b,w,E;for(_=this._first,E=[];_!=null;)E.push((p=_,_=_.next,{value:p.value,prev:(b=p.prev)!=null?b.value:void 0,next:(w=p.next)!=null?w.value:void 0}));return E}};var l=a,u;u=class{constructor(_){if(this.instance=_,this._events={},this.instance.on!=null||this.instance.once!=null||this.instance.removeAllListeners!=null)throw new Error("An Emitter already exists for this object");this.instance.on=(p,b)=>this._addListener(p,"many",b),this.instance.once=(p,b)=>this._addListener(p,"once",b),this.instance.removeAllListeners=(p=null)=>p!=null?delete this._events[p]:this._events={}}_addListener(_,p,b){var w;return(w=this._events)[_]==null&&(w[_]=[]),this._events[_].push({cb:b,status:p}),this.instance}listenerCount(_){return this._events[_]!=null?this._events[_].length:0}async trigger(_,...p){var b,w;try{return _!=="debug"&&this.trigger("debug",`Event triggered: ${_}`,p),this._events[_]==null?void 0:(this._events[_]=this._events[_].filter(function(E){return E.status!=="none"}),w=this._events[_].map(async E=>{var P,G;if(E.status!=="none"){E.status==="once"&&(E.status="none");try{return G=typeof E.cb=="function"?E.cb(...p):void 0,typeof(G!=null?G.then:void 0)=="function"?await G:G}catch(X){return P=X,this.trigger("error",P),null}}}),(await Promise.all(w)).find(function(E){return E!=null}))}catch(E){return b=E,this.trigger("error",b),null}}};var c=u,h,d,f;h=l,d=c,f=class{constructor(_){this.Events=new d(this),this._length=0,this._lists=function(){var p,b,w;for(w=[],p=1,b=_;1<=b?p<=b:p>=b;1<=b?++p:--p)w.push(new h(()=>this.incr(),()=>this.decr()));return w}.call(this)}incr(){if(this._length++==0)return this.Events.trigger("leftzero")}decr(){if(--this._length==0)return this.Events.trigger("zero")}push(_){return this._lists[_.options.priority].push(_)}queued(_){return _!=null?this._lists[_].length:this._length}shiftAll(_){return this._lists.forEach(function(p){return p.forEachShift(_)})}getFirst(_=this._lists){var p,b,w;for(p=0,b=_.length;p<b;p++)if(w=_[p],w.length>0)return w;return[]}shiftLastFrom(_){return this.getFirst(this._lists.slice(_).reverse()).shift()}};var T=f,R;R=class extends Error{};var v=R,$,M,ee,H,re;H=10,M=5,re=o,$=v,ee=class{constructor(_,p,b,w,E,P,G,X){this.task=_,this.args=p,this.rejectOnDrop=E,this.Events=P,this._states=G,this.Promise=X,this.options=re.load(b,w),this.options.priority=this._sanitizePriority(this.options.priority),this.options.id===w.id&&(this.options.id=`${this.options.id}-${this._randomIndex()}`),this.promise=new this.Promise((we,Te)=>{this._resolve=we,this._reject=Te}),this.retryCount=0}_sanitizePriority(_){var p;return p=~~_!==_?M:_,p<0?0:p>H-1?H-1:p}_randomIndex(){return Math.random().toString(36).slice(2)}doDrop({error:_,message:p="This job has been dropped by Bottleneck"}={}){return this._states.remove(this.options.id)?(this.rejectOnDrop&&this._reject(_??new $(p)),this.Events.trigger("dropped",{args:this.args,options:this.options,task:this.task,promise:this.promise}),!0):!1}_assertStatus(_){var p;if(p=this._states.jobStatus(this.options.id),!(p===_||_==="DONE"&&p===null))throw new $(`Invalid job status ${p}, expected ${_}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`)}doReceive(){return this._states.start(this.options.id),this.Events.trigger("received",{args:this.args,options:this.options})}doQueue(_,p){return this._assertStatus("RECEIVED"),this._states.next(this.options.id),this.Events.trigger("queued",{args:this.args,options:this.options,reachedHWM:_,blocked:p})}doRun(){return this.retryCount===0?(this._assertStatus("QUEUED"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),this.Events.trigger("scheduled",{args:this.args,options:this.options})}async doExecute(_,p,b,w){var E,P,G;this.retryCount===0?(this._assertStatus("RUNNING"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),P={args:this.args,options:this.options,retryCount:this.retryCount},this.Events.trigger("executing",P);try{if(G=await(_!=null?_.schedule(this.options,this.task,...this.args):this.task(...this.args)),p())return this.doDone(P),await w(this.options,P),this._assertStatus("DONE"),this._resolve(G)}catch(X){return E=X,this._onFailure(E,P,p,b,w)}}doExpire(_,p,b){var w,E;return this._states.jobStatus(this.options.id==="RUNNING")&&this._states.next(this.options.id),this._assertStatus("EXECUTING"),E={args:this.args,options:this.options,retryCount:this.retryCount},w=new $(`This job timed out after ${this.options.expiration} ms.`),this._onFailure(w,E,_,p,b)}async _onFailure(_,p,b,w,E){var P,G;if(b())return P=await this.Events.trigger("failed",_,p),P!=null?(G=~~P,this.Events.trigger("retry",`Retrying ${this.options.id} after ${G} ms`,p),this.retryCount++,w(G)):(this.doDone(p),await E(this.options,p),this._assertStatus("DONE"),this._reject(_))}doDone(_){return this._assertStatus("EXECUTING"),this._states.next(this.options.id),this.Events.trigger("done",_)}};var J=ee,se,Re,I;I=o,se=v,Re=class{constructor(_,p,b){this.instance=_,this.storeOptions=p,this.clientId=this.instance._randomIndex(),I.load(b,b,this),this._nextRequest=this._lastReservoirRefresh=this._lastReservoirIncrease=Date.now(),this._running=0,this._done=0,this._unblockTime=0,this.ready=this.Promise.resolve(),this.clients={},this._startHeartbeat()}_startHeartbeat(){var _;return this.heartbeat==null&&(this.storeOptions.reservoirRefreshInterval!=null&&this.storeOptions.reservoirRefreshAmount!=null||this.storeOptions.reservoirIncreaseInterval!=null&&this.storeOptions.reservoirIncreaseAmount!=null)?typeof(_=this.heartbeat=setInterval(()=>{var p,b,w,E,P;if(E=Date.now(),this.storeOptions.reservoirRefreshInterval!=null&&E>=this._lastReservoirRefresh+this.storeOptions.reservoirRefreshInterval&&(this._lastReservoirRefresh=E,this.storeOptions.reservoir=this.storeOptions.reservoirRefreshAmount,this.instance._drainAll(this.computeCapacity())),this.storeOptions.reservoirIncreaseInterval!=null&&E>=this._lastReservoirIncrease+this.storeOptions.reservoirIncreaseInterval&&({reservoirIncreaseAmount:p,reservoirIncreaseMaximum:w,reservoir:P}=this.storeOptions,this._lastReservoirIncrease=E,b=w!=null?Math.min(p,w-P):p,b>0))return this.storeOptions.reservoir+=b,this.instance._drainAll(this.computeCapacity())},this.heartbeatInterval)).unref=="function"?_.unref():void 0:clearInterval(this.heartbeat)}async __publish__(_){return await this.yieldLoop(),this.instance.Events.trigger("message",_.toString())}async __disconnect__(_){return await this.yieldLoop(),clearInterval(this.heartbeat),this.Promise.resolve()}yieldLoop(_=0){return new this.Promise(function(p,b){return setTimeout(p,_)})}computePenalty(){var _;return(_=this.storeOptions.penalty)!=null?_:15*this.storeOptions.minTime||5e3}async __updateSettings__(_){return await this.yieldLoop(),I.overwrite(_,_,this.storeOptions),this._startHeartbeat(),this.instance._drainAll(this.computeCapacity()),!0}async __running__(){return await this.yieldLoop(),this._running}async __queued__(){return await this.yieldLoop(),this.instance.queued()}async __done__(){return await this.yieldLoop(),this._done}async __groupCheck__(_){return await this.yieldLoop(),this._nextRequest+this.timeout<_}computeCapacity(){var _,p;return{maxConcurrent:_,reservoir:p}=this.storeOptions,_!=null&&p!=null?Math.min(_-this._running,p):_!=null?_-this._running:p??null}conditionsCheck(_){var p;return p=this.computeCapacity(),p==null||_<=p}async __incrementReservoir__(_){var p;return await this.yieldLoop(),p=this.storeOptions.reservoir+=_,this.instance._drainAll(this.computeCapacity()),p}async __currentReservoir__(){return await this.yieldLoop(),this.storeOptions.reservoir}isBlocked(_){return this._unblockTime>=_}check(_,p){return this.conditionsCheck(_)&&this._nextRequest-p<=0}async __check__(_){var p;return await this.yieldLoop(),p=Date.now(),this.check(_,p)}async __register__(_,p,b){var w,E;return await this.yieldLoop(),w=Date.now(),this.conditionsCheck(p)?(this._running+=p,this.storeOptions.reservoir!=null&&(this.storeOptions.reservoir-=p),E=Math.max(this._nextRequest-w,0),this._nextRequest=w+E+this.storeOptions.minTime,{success:!0,wait:E,reservoir:this.storeOptions.reservoir}):{success:!1}}strategyIsBlock(){return this.storeOptions.strategy===3}async __submit__(_,p){var b,w,E;if(await this.yieldLoop(),this.storeOptions.maxConcurrent!=null&&p>this.storeOptions.maxConcurrent)throw new se(`Impossible to add a job having a weight of ${p} to a limiter having a maxConcurrent setting of ${this.storeOptions.maxConcurrent}`);return w=Date.now(),E=this.storeOptions.highWater!=null&&_===this.storeOptions.highWater&&!this.check(p,w),b=this.strategyIsBlock()&&(E||this.isBlocked(w)),b&&(this._unblockTime=w+this.computePenalty(),this._nextRequest=this._unblockTime+this.storeOptions.minTime,this.instance._dropAllQueued()),{reachedHWM:E,blocked:b,strategy:this.storeOptions.strategy}}async __free__(_,p){return await this.yieldLoop(),this._running-=p,this._done+=p,this.instance._drainAll(this.computeCapacity()),{running:this._running}}};var O=Re,g,k;g=v,k=class{constructor(_){this.status=_,this._jobs={},this.counts=this.status.map(function(){return 0})}next(_){var p,b;if(p=this._jobs[_],b=p+1,p!=null&&b<this.status.length)return this.counts[p]--,this.counts[b]++,this._jobs[_]++;if(p!=null)return this.counts[p]--,delete this._jobs[_]}start(_){var p;return p=0,this._jobs[_]=p,this.counts[p]++}remove(_){var p;return p=this._jobs[_],p!=null&&(this.counts[p]--,delete this._jobs[_]),p!=null}jobStatus(_){var p;return(p=this.status[this._jobs[_]])!=null?p:null}statusJobs(_){var p,b,w,E,P;if(_!=null){if(b=this.status.indexOf(_),b<0)throw new g(`status must be one of ${this.status.join(", ")}`);w=this._jobs,E=[];for(p in w)P=w[p],P===b&&E.push(p);return E}else return Object.keys(this._jobs)}statusCounts(){return this.counts.reduce((_,p,b)=>(_[this.status[b]]=p,_),{})}};var A=k,C,L;C=l,L=class{constructor(_,p){this.schedule=this.schedule.bind(this),this.name=_,this.Promise=p,this._running=0,this._queue=new C}isEmpty(){return this._queue.length===0}async _tryToRun(){var _,p,b,w,E,P,G;if(this._running<1&&this._queue.length>0)return this._running++,{task:G,args:_,resolve:E,reject:w}=this._queue.shift(),p=await async function(){try{return P=await G(..._),function(){return E(P)}}catch(X){return b=X,function(){return w(b)}}}(),this._running--,this._tryToRun(),p()}schedule(_,...p){var b,w,E;return E=w=null,b=new this.Promise(function(P,G){return E=P,w=G}),this._queue.push({task:_,args:p,resolve:E,reject:w}),this._tryToRun(),b}};var Y=L,pe="2.19.5",le={version:pe},m=Object.freeze({version:pe,default:le}),x=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),S=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),F=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),U,W,Ee,Ve,fe,Ie;Ie=o,U=c,Ve=x,Ee=S,fe=F,W=function(){class D{constructor(p={}){this.deleteKey=this.deleteKey.bind(this),this.limiterOptions=p,Ie.load(this.limiterOptions,this.defaults,this),this.Events=new U(this),this.instances={},this.Bottleneck=Ms,this._startAutoCleanup(),this.sharedConnection=this.connection!=null,this.connection==null&&(this.limiterOptions.datastore==="redis"?this.connection=new Ve(Object.assign({},this.limiterOptions,{Events:this.Events})):this.limiterOptions.datastore==="ioredis"&&(this.connection=new Ee(Object.assign({},this.limiterOptions,{Events:this.Events}))))}key(p=""){var b;return(b=this.instances[p])!=null?b:(()=>{var w;return w=this.instances[p]=new this.Bottleneck(Object.assign(this.limiterOptions,{id:`${this.id}-${p}`,timeout:this.timeout,connection:this.connection})),this.Events.trigger("created",w,p),w})()}async deleteKey(p=""){var b,w;return w=this.instances[p],this.connection&&(b=await this.connection.__runCommand__(["del",...fe.allKeys(`${this.id}-${p}`)])),w!=null&&(delete this.instances[p],await w.disconnect()),w!=null||b>0}limiters(){var p,b,w,E;b=this.instances,w=[];for(p in b)E=b[p],w.push({key:p,limiter:E});return w}keys(){return Object.keys(this.instances)}async clusterKeys(){var p,b,w,E,P,G,X,we,Te;if(this.connection==null)return this.Promise.resolve(this.keys());for(G=[],p=null,Te=`b_${this.id}-`.length,b="_settings".length;p!==0;)for([we,w]=await this.connection.__runCommand__(["scan",p??0,"match",`b_${this.id}-*_settings`,"count",1e4]),p=~~we,E=0,X=w.length;E<X;E++)P=w[E],G.push(P.slice(Te,-b));return G}_startAutoCleanup(){var p;return clearInterval(this.interval),typeof(p=this.interval=setInterval(async()=>{var b,w,E,P,G,X;G=Date.now(),E=this.instances,P=[];for(w in E){X=E[w];try{await X._store.__groupCheck__(G)?P.push(this.deleteKey(w)):P.push(void 0)}catch(we){b=we,P.push(X.Events.trigger("error",b))}}return P},this.timeout/2)).unref=="function"?p.unref():void 0}updateSettings(p={}){if(Ie.overwrite(p,this.defaults,this),Ie.overwrite(p,p,this.limiterOptions),p.timeout!=null)return this._startAutoCleanup()}disconnect(p=!0){var b;if(!this.sharedConnection)return(b=this.connection)!=null?b.disconnect(p):void 0}}return D.prototype.defaults={timeout:1e3*60*5,connection:null,Promise,id:"group-key"},D}.call(r);var br=W,Bt,qt,Ht;Ht=o,qt=c,Bt=function(){class D{constructor(p={}){this.options=p,Ht.load(this.options,this.defaults,this),this.Events=new qt(this),this._arr=[],this._resetPromise(),this._lastFlush=Date.now()}_resetPromise(){return this._promise=new this.Promise((p,b)=>this._resolve=p)}_flush(){return clearTimeout(this._timeout),this._lastFlush=Date.now(),this._resolve(),this.Events.trigger("batch",this._arr),this._arr=[],this._resetPromise()}add(p){var b;return this._arr.push(p),b=this._promise,this._arr.length===this.maxSize?this._flush():this.maxTime!=null&&this._arr.length===1&&(this._timeout=setTimeout(()=>this._flush(),this.maxTime)),b}}return D.prototype.defaults={maxTime:null,maxSize:null,Promise},D}.call(r);var vr=Bt,wr=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),Ue=n(m),ne,ve,at,Wt,Ls,Qn,Ds,$s,Ns,Jn,Me,Us=[].splice;Qn=10,ve=5,Me=o,Ds=T,Wt=J,Ls=O,$s=wr,at=c,Ns=A,Jn=Y,ne=function(){class D{constructor(p={},...b){var w,E;this._addToQueue=this._addToQueue.bind(this),this._validateOptions(p,b),Me.load(p,this.instanceDefaults,this),this._queues=new Ds(Qn),this._scheduled={},this._states=new Ns(["RECEIVED","QUEUED","RUNNING","EXECUTING"].concat(this.trackDoneStatus?["DONE"]:[])),this._limiter=null,this.Events=new at(this),this._submitLock=new Jn("submit",this.Promise),this._registerLock=new Jn("register",this.Promise),E=Me.load(p,this.storeDefaults,{}),this._store=function(){if(this.datastore==="redis"||this.datastore==="ioredis"||this.connection!=null)return w=Me.load(p,this.redisStoreDefaults,{}),new $s(this,E,w);if(this.datastore==="local")return w=Me.load(p,this.localStoreDefaults,{}),new Ls(this,E,w);throw new D.prototype.BottleneckError(`Invalid datastore type: ${this.datastore}`)}.call(this),this._queues.on("leftzero",()=>{var P;return(P=this._store.heartbeat)!=null&&typeof P.ref=="function"?P.ref():void 0}),this._queues.on("zero",()=>{var P;return(P=this._store.heartbeat)!=null&&typeof P.unref=="function"?P.unref():void 0})}_validateOptions(p,b){if(!(p!=null&&typeof p=="object"&&b.length===0))throw new D.prototype.BottleneckError("Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.")}ready(){return this._store.ready}clients(){return this._store.clients}channel(){return`b_${this.id}`}channel_client(){return`b_${this.id}_${this._store.clientId}`}publish(p){return this._store.__publish__(p)}disconnect(p=!0){return this._store.__disconnect__(p)}chain(p){return this._limiter=p,this}queued(p){return this._queues.queued(p)}clusterQueued(){return this._store.__queued__()}empty(){return this.queued()===0&&this._submitLock.isEmpty()}running(){return this._store.__running__()}done(){return this._store.__done__()}jobStatus(p){return this._states.jobStatus(p)}jobs(p){return this._states.statusJobs(p)}counts(){return this._states.statusCounts()}_randomIndex(){return Math.random().toString(36).slice(2)}check(p=1){return this._store.__check__(p)}_clearGlobalState(p){return this._scheduled[p]!=null?(clearTimeout(this._scheduled[p].expiration),delete this._scheduled[p],!0):!1}async _free(p,b,w,E){var P,G;try{if({running:G}=await this._store.__free__(p,w.weight),this.Events.trigger("debug",`Freed ${w.id}`,E),G===0&&this.empty())return this.Events.trigger("idle")}catch(X){return P=X,this.Events.trigger("error",P)}}_run(p,b,w){var E,P,G;return b.doRun(),E=this._clearGlobalState.bind(this,p),G=this._run.bind(this,p,b),P=this._free.bind(this,p,b),this._scheduled[p]={timeout:setTimeout(()=>b.doExecute(this._limiter,E,G,P),w),expiration:b.options.expiration!=null?setTimeout(function(){return b.doExpire(E,G,P)},w+b.options.expiration):void 0,job:b}}_drainOne(p){return this._registerLock.schedule(()=>{var b,w,E,P,G;return this.queued()===0?this.Promise.resolve(null):(G=this._queues.getFirst(),{options:P,args:b}=E=G.first(),p!=null&&P.weight>p?this.Promise.resolve(null):(this.Events.trigger("debug",`Draining ${P.id}`,{args:b,options:P}),w=this._randomIndex(),this._store.__register__(w,P.weight,P.expiration).then(({success:X,wait:we,reservoir:Te})=>{var yr;return this.Events.trigger("debug",`Drained ${P.id}`,{success:X,args:b,options:P}),X?(G.shift(),yr=this.empty(),yr&&this.Events.trigger("empty"),Te===0&&this.Events.trigger("depleted",yr),this._run(w,E,we),this.Promise.resolve(P.weight)):this.Promise.resolve(null)})))})}_drainAll(p,b=0){return this._drainOne(p).then(w=>{var E;return w!=null?(E=p!=null?p-w:p,this._drainAll(E,b+w)):this.Promise.resolve(b)}).catch(w=>this.Events.trigger("error",w))}_dropAllQueued(p){return this._queues.shiftAll(function(b){return b.doDrop({message:p})})}stop(p={}){var b,w;return p=Me.load(p,this.stopDefaults),w=E=>{var P;return P=()=>{var G;return G=this._states.counts,G[0]+G[1]+G[2]+G[3]===E},new this.Promise((G,X)=>P()?G():this.on("done",()=>{if(P())return this.removeAllListeners("done"),G()}))},b=p.dropWaitingJobs?(this._run=function(E,P){return P.doDrop({message:p.dropErrorMessage})},this._drainOne=()=>this.Promise.resolve(null),this._registerLock.schedule(()=>this._submitLock.schedule(()=>{var E,P,G;P=this._scheduled;for(E in P)G=P[E],this.jobStatus(G.job.options.id)==="RUNNING"&&(clearTimeout(G.timeout),clearTimeout(G.expiration),G.job.doDrop({message:p.dropErrorMessage}));return this._dropAllQueued(p.dropErrorMessage),w(0)}))):this.schedule({priority:Qn-1,weight:0},()=>w(1)),this._receive=function(E){return E._reject(new D.prototype.BottleneckError(p.enqueueErrorMessage))},this.stop=()=>this.Promise.reject(new D.prototype.BottleneckError("stop() has already been called")),b}async _addToQueue(p){var b,w,E,P,G,X,we;({args:b,options:P}=p);try{({reachedHWM:G,blocked:w,strategy:we}=await this._store.__submit__(this.queued(),P.weight))}catch(Te){return E=Te,this.Events.trigger("debug",`Could not queue ${P.id}`,{args:b,options:P,error:E}),p.doDrop({error:E}),!1}return w?(p.doDrop(),!0):G&&(X=we===D.prototype.strategy.LEAK?this._queues.shiftLastFrom(P.priority):we===D.prototype.strategy.OVERFLOW_PRIORITY?this._queues.shiftLastFrom(P.priority+1):we===D.prototype.strategy.OVERFLOW?p:void 0,X!=null&&X.doDrop(),X==null||we===D.prototype.strategy.OVERFLOW)?(X==null&&p.doDrop(),G):(p.doQueue(G,w),this._queues.push(p),await this._drainAll(),G)}_receive(p){return this._states.jobStatus(p.options.id)!=null?(p._reject(new D.prototype.BottleneckError(`A job with the same id already exists (id=${p.options.id})`)),!1):(p.doReceive(),this._submitLock.schedule(this._addToQueue,p))}submit(...p){var b,w,E,P,G,X,we;return typeof p[0]=="function"?(G=p,[w,...p]=G,[b]=Us.call(p,-1),P=Me.load({},this.jobDefaults)):(X=p,[P,w,...p]=X,[b]=Us.call(p,-1),P=Me.load(P,this.jobDefaults)),we=(...Te)=>new this.Promise(function(yr,sc){return w(...Te,function(...Bs){return(Bs[0]!=null?sc:yr)(Bs)})}),E=new Wt(we,p,P,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),E.promise.then(function(Te){return typeof b=="function"?b(...Te):void 0}).catch(function(Te){return Array.isArray(Te)?typeof b=="function"?b(...Te):void 0:typeof b=="function"?b(Te):void 0}),this._receive(E)}schedule(...p){var b,w,E;return typeof p[0]=="function"?([E,...p]=p,w={}):[w,E,...p]=p,b=new Wt(E,p,w,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),this._receive(b),b.promise}wrap(p){var b,w;return b=this.schedule.bind(this),w=function(...E){return b(p.bind(this),...E)},w.withOptions=function(E,...P){return b(E,p,...P)},w}async updateSettings(p={}){return await this._store.__updateSettings__(Me.overwrite(p,this.storeDefaults)),Me.overwrite(p,this.instanceDefaults,this),this}currentReservoir(){return this._store.__currentReservoir__()}incrementReservoir(p=0){return this._store.__incrementReservoir__(p)}}return D.default=D,D.Events=at,D.version=D.prototype.version=Ue.version,D.strategy=D.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},D.BottleneckError=D.prototype.BottleneckError=v,D.Group=D.prototype.Group=br,D.RedisConnection=D.prototype.RedisConnection=x,D.IORedisConnection=D.prototype.IORedisConnection=S,D.Batcher=D.prototype.Batcher=vr,D.prototype.jobDefaults={priority:ve,weight:1,expiration:null,id:"<no-id>"},D.prototype.storeDefaults={maxConcurrent:null,minTime:0,highWater:null,strategy:D.prototype.strategy.LEAK,penalty:null,reservoir:null,reservoirRefreshInterval:null,reservoirRefreshAmount:null,reservoirIncreaseInterval:null,reservoirIncreaseAmount:null,reservoirIncreaseMaximum:null},D.prototype.localStoreDefaults={Promise,timeout:null,heartbeatInterval:250},D.prototype.redisStoreDefaults={Promise,timeout:null,heartbeatInterval:5e3,clientTimeout:1e4,Redis:null,clientOptions:{},clusterNodes:null,clearDatastore:!1,connection:null},D.prototype.instanceDefaults={datastore:"local",connection:null,id:"<no-id>",rejectOnDrop:!0,trackDoneStatus:!1,Promise},D.prototype.stopDefaults={enqueueErrorMessage:"This limiter has been stopped and cannot accept new jobs.",dropWaitingJobs:!0,dropErrorMessage:"This limiter has been stopped."},D}.call(r);var Ms=ne,ic=Ms;return ic})});async function ff(e,t,r,n){if(!r.request||!r.request.request)throw r;if(r.status>=400&&!t.doNotRetry.includes(r.status)){let i=n.request.retries!=null?n.request.retries:t.retries,s=Math.pow((n.request.retryCount||0)+1,2);throw e.retry.retryRequest(r,i,s)}throw r}async function df(e,t,r){let n=new pf;return n.on("failed",function(i,s){let o=~~i.request.request.retries,a=~~i.request.request.retryAfter;if(r.request.retryCount=s.retryCount+1,o>s.retryCount)return a*e.retryAfterBaseValue}),n.schedule(t,r)}var gf="3.0.9";function va(e,t){let r=Object.assign({enabled:!0,retryAfterBaseValue:1e3,doNotRetry:[400,401,403,404,422],retries:3},t.retry);return r.enabled&&(e.hook.error("request",ff.bind(null,e,r)),e.hook.wrap("request",df.bind(null,r))),{retry:{retryRequest:(n,i,s)=>(n.request.request=Object.assign({},n.request.request,{retries:i,retryAfter:s}),n)}}}va.VERSION=gf;var dn=function(t){return btoa(t)};function _f(e){let t=e.clientType||"oauth-app",r=e.baseUrl||"https://github.com",n={clientType:t,allowSignup:e.allowSignup!==!1,clientId:e.clientId,login:e.login||null,redirectUrl:e.redirectUrl||null,state:e.state||Math.random().toString(36).substr(2),url:""};if(t==="oauth-app"){let i="scopes"in e?e.scopes:[];n.scopes=typeof i=="string"?i.split(/[,\s]+/).filter(Boolean):i}return n.url=mf(`${r}/login/oauth/authorize`,n),n}function mf(e,t){let r={allowSignup:"allow_signup",clientId:"client_id",login:"login",redirectUrl:"redirect_uri",scopes:"scope",state:"state"},n=e;return Object.keys(r).filter(i=>t[i]!==null).filter(i=>i!=="scopes"?!0:t.clientType==="github-app"?!1:!Array.isArray(t[i])||t[i].length>0).map(i=>[r[i],`${t[i]}`]).forEach(([i,s],o)=>{n+=o===0?"?":"&",n+=`${i}=${encodeURIComponent(s)}`}),n}var bf=Object.freeze({__proto__:null,oauthAuthorizationUrl:_f}),ce=Qe(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(g){return g&&typeof g=="object"&&"default"in g?g.default:g}var n=r(dn);let i="1.2.6";function s(g,k){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(g);k&&(C=C.filter(function(L){return Object.getOwnPropertyDescriptor(g,L).enumerable})),A.push.apply(A,C)}return A}function o(g){for(var k=1;k<arguments.length;k++){var A=arguments[k]!=null?arguments[k]:{};k%2?s(Object(A),!0).forEach(function(C){a(g,C,A[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):s(Object(A)).forEach(function(C){Object.defineProperty(g,C,Object.getOwnPropertyDescriptor(A,C))})}return g}function a(g,k,A){return k in g?Object.defineProperty(g,k,{value:A,enumerable:!0,configurable:!0,writable:!0}):g[k]=A,g}function l(g,k){if(g==null)return{};var A={},C=Object.keys(g),L,Y;for(Y=0;Y<C.length;Y++)L=C[Y],!(k.indexOf(L)>=0)&&(A[L]=g[L]);return A}function u(g,k){if(g==null)return{};var A=l(g,k),C,L;if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(g);for(L=0;L<Y.length;L++)C=Y[L],!(k.indexOf(C)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,C)||(A[C]=g[C]))}return A}function c(g){let k=g.endpoint.DEFAULTS;return/^https:\/\/(api\.)?github\.com$/.test(k.baseUrl)?"https://github.com":k.baseUrl.replace("/api/v3","")}async function h(g,k,A){let C=o({baseUrl:c(g),headers:{accept:"application/json"}},A),L=await g(k,C);if("error"in L.data){let Y=new Up.RequestError(`${L.data.error_description} (${L.data.error}, ${L.data.error_uri})`,400,{request:g.endpoint.merge(k,C),headers:L.headers});throw Y.response=L,Y}return L}let d=["request"];function f(g){let{request:k=We.request}=g,A=u(g,d),C=c(k);return bf.oauthAuthorizationUrl(o(o({},A),{},{baseUrl:C}))}async function T(g){let k=g.request||We.request,A=await h(k,"POST /login/oauth/access_token",{client_id:g.clientId,client_secret:g.clientSecret,code:g.code,redirect_uri:g.redirectUrl}),C={clientType:g.clientType,clientId:g.clientId,clientSecret:g.clientSecret,token:A.data.access_token,scopes:A.data.scope.split(/\s+/).filter(Boolean)};if(g.clientType==="github-app"){if("refresh_token"in A.data){let L=new Date(A.headers.date).getTime();C.refreshToken=A.data.refresh_token,C.expiresAt=R(L,A.data.expires_in),C.refreshTokenExpiresAt=R(L,A.data.refresh_token_expires_in)}delete C.scopes}return o(o({},A),{},{authentication:C})}function R(g,k){return new Date(g+k*1e3).toISOString()}async function v(g){let k=g.request||We.request,A={client_id:g.clientId};return"scopes"in g&&Array.isArray(g.scopes)&&(A.scope=g.scopes.join(" ")),h(k,"POST /login/device/code",A)}async function $(g){let k=g.request||We.request,A=await h(k,"POST /login/oauth/access_token",{client_id:g.clientId,device_code:g.code,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),C={clientType:g.clientType,clientId:g.clientId,token:A.data.access_token,scopes:A.data.scope.split(/\s+/).filter(Boolean)};if("clientSecret"in g&&(C.clientSecret=g.clientSecret),g.clientType==="github-app"){if("refresh_token"in A.data){let L=new Date(A.headers.date).getTime();C.refreshToken=A.data.refresh_token,C.expiresAt=M(L,A.data.expires_in),C.refreshTokenExpiresAt=M(L,A.data.refresh_token_expires_in)}delete C.scopes}return o(o({},A),{},{authentication:C})}function M(g,k){return new Date(g+k*1e3).toISOString()}async function ee(g){let A=await(g.request||We.request)("POST /applications/{client_id}/token",{headers:{authorization:`basic ${n(`${g.clientId}:${g.clientSecret}`)}`},client_id:g.clientId,access_token:g.token}),C={clientType:g.clientType,clientId:g.clientId,clientSecret:g.clientSecret,token:g.token,scopes:A.data.scopes};return A.data.expires_at&&(C.expiresAt=A.data.expires_at),g.clientType==="github-app"&&delete C.scopes,o(o({},A),{},{authentication:C})}async function H(g){let k=g.request||We.request,A=await h(k,"POST /login/oauth/access_token",{client_id:g.clientId,client_secret:g.clientSecret,grant_type:"refresh_token",refresh_token:g.refreshToken}),C=new Date(A.headers.date).getTime(),L={clientType:"github-app",clientId:g.clientId,clientSecret:g.clientSecret,token:A.data.access_token,refreshToken:A.data.refresh_token,expiresAt:re(C,A.data.expires_in),refreshTokenExpiresAt:re(C,A.data.refresh_token_expires_in)};return o(o({},A),{},{authentication:L})}function re(g,k){return new Date(g+k*1e3).toISOString()}let J=["request","clientType","clientId","clientSecret","token"];async function se(g){let{request:k,clientType:A,clientId:C,clientSecret:L,token:Y}=g,pe=u(g,J),le=await(k||We.request)("POST /applications/{client_id}/token/scoped",o({headers:{authorization:`basic ${n(`${C}:${L}`)}`},client_id:C,access_token:Y},pe)),m=Object.assign({clientType:A,clientId:C,clientSecret:L,token:le.data.token},le.data.expires_at?{expiresAt:le.data.expires_at}:{});return o(o({},le),{},{authentication:m})}async function Re(g){let k=g.request||We.request,A=n(`${g.clientId}:${g.clientSecret}`),C=await k("PATCH /applications/{client_id}/token",{headers:{authorization:`basic ${A}`},client_id:g.clientId,access_token:g.token}),L={clientType:g.clientType,clientId:g.clientId,clientSecret:g.clientSecret,token:C.data.token,scopes:C.data.scopes};return C.data.expires_at&&(L.expiresAt=C.data.expires_at),g.clientType==="github-app"&&delete L.scopes,o(o({},C),{},{authentication:L})}async function I(g){let k=g.request||We.request,A=n(`${g.clientId}:${g.clientSecret}`);return k("DELETE /applications/{client_id}/token",{headers:{authorization:`basic ${A}`},client_id:g.clientId,access_token:g.token})}async function O(g){let k=g.request||We.request,A=n(`${g.clientId}:${g.clientSecret}`);return k("DELETE /applications/{client_id}/grant",{headers:{authorization:`basic ${A}`},client_id:g.clientId,access_token:g.token})}t.VERSION=i,t.checkToken=ee,t.createDeviceCode=v,t.deleteAuthorization=O,t.deleteToken=I,t.exchangeDeviceCode=$,t.exchangeWebFlowCode=T,t.getWebFlowAuthorizationUrl=f,t.refreshToken=H,t.resetToken=Re,t.scopeToken=se});async function wa(e,t){let r=vf(e,t.auth);if(r)return r;let{data:n}=await ce.createDeviceCode({clientType:e.clientType,clientId:e.clientId,request:t.request||e.request,scopes:t.auth.scopes||e.scopes});await e.onVerification(n);let i=await Ei(t.request||e.request,e.clientId,e.clientType,n);return e.authentication=i,i}function vf(e,t){if(t.refresh===!0||!e.authentication)return!1;if(e.clientType==="github-app")return e.authentication;let r=e.authentication,n=("scopes"in t&&t.scopes||e.scopes).join(" "),i=r.scopes.join(" ");return n===i?r:!1}async function ya(e){await new Promise(t=>setTimeout(t,e*1e3))}async function Ei(e,t,r,n){try{let i={clientId:t,request:e,code:n.device_code},{authentication:s}=r==="oauth-app"?await ce.exchangeDeviceCode({...i,clientType:"oauth-app"}):await ce.exchangeDeviceCode({...i,clientType:"github-app"});return{type:"token",tokenType:"oauth",...s}}catch(i){if(!i.response)throw i;let s=i.response.data.error;if(s==="authorization_pending")return await ya(n.interval),Ei(e,t,r,n);if(s==="slow_down")return await ya(n.interval+5),Ei(e,t,r,n);throw i}}async function wf(e,t){return wa(e,{auth:t})}async function yf(e,t,r,n){let i=t.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return t(i);let{token:s}=await wa(e,{request:t,auth:{type:"oauth"}});return i.headers.authorization=`token ${s}`,t(i)}var Ef="3.1.2";function Tf(e){let t=e.request||et.defaults({headers:{"user-agent":`octokit-auth-oauth-device.js/${Ef} ${Ze()}`}}),{request:r=t,...n}=e,i=e.clientType==="github-app"?{...n,clientType:"github-app",request:r}:{...n,clientType:"oauth-app",request:r,scopes:e.scopes||[]};if(!e.clientId)throw new Error('[@octokit/auth-oauth-device] "clientId" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)');if(!e.onVerification)throw new Error('[@octokit/auth-oauth-device] "onVerification" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)');return Object.assign(wf.bind(null,i),{hook:yf.bind(null,i)})}var Ea="1.3.0";async function Ta(e){if("code"in e.strategyOptions){let{authentication:t}=await ce.exchangeWebFlowCode({clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType,...e.strategyOptions,request:e.request});return{type:"token",tokenType:"oauth",...t}}if("onVerification"in e.strategyOptions){let r=await Tf({clientType:e.clientType,clientId:e.clientId,...e.strategyOptions,request:e.request})({type:"oauth"});return{clientSecret:e.clientSecret,...r}}if("token"in e.strategyOptions)return{type:"token",tokenType:"oauth",clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType,...e.strategyOptions};throw new Error("[@octokit/auth-oauth-user] Invalid strategy options")}async function Ti(e,t={}){if(e.authentication||(e.authentication=e.clientType==="oauth-app"?await Ta(e):await Ta(e)),e.authentication.invalid)throw new Error("[@octokit/auth-oauth-user] Token is invalid");let r=e.authentication;if("expiresAt"in r&&(t.type==="refresh"||new Date(r.expiresAt)<new Date)){let{authentication:n}=await ce.refreshToken({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:r.refreshToken,request:e.request});e.authentication={tokenType:"oauth",type:"token",...n}}if(t.type==="refresh"){if(e.clientType==="oauth-app")throw new Error("[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens");if(!r.hasOwnProperty("expiresAt"))throw new Error("[@octokit/auth-oauth-user] Refresh token missing")}if(t.type==="check"||t.type==="reset"){let n=t.type==="check"?ce.checkToken:ce.resetToken;try{let{authentication:i}=await n({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.authentication.token,request:e.request});return e.authentication={tokenType:"oauth",type:"token",...i},e.authentication}catch(i){throw i.status===404&&(i.message="[@octokit/auth-oauth-user] Token is invalid",e.authentication.invalid=!0),i}}if(t.type==="delete"||t.type==="deleteAuthorization"){let n=t.type==="delete"?ce.deleteToken:ce.deleteAuthorization;try{await n({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.authentication.token,request:e.request})}catch(i){if(i.status!==404)throw i}return e.authentication.invalid=!0,e.authentication}return e.authentication}var xf=/\/applications\/[^/]+\/(token|grant)s?/;function gn(e){return e&&xf.test(e)}async function kf(e,t,r,n={}){let i=t.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return t(i);if(gn(i.url)){let o=dn(`${e.clientId}:${e.clientSecret}`);return i.headers.authorization=`basic ${o}`,t(i)}let{token:s}=e.clientType==="oauth-app"?await Ti({...e,request:t}):await Ti({...e,request:t});return i.headers.authorization="token "+s,t(i)}function Zt({clientId:e,clientSecret:t,clientType:r="oauth-app",request:n=et.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${Ea} ${Ze()}`}}),...i}){let s=Object.assign({clientType:r,clientId:e,clientSecret:t,strategyOptions:i,request:n});return Object.assign(Ti.bind(null,s),{hook:kf.bind(null,s)})}Zt.VERSION=Ea;var Pr=Object.freeze({__proto__:null,createOAuthUserAuth:Zt,requiresBasicAuth:gn});async function Af(e,t){if(t.type==="oauth-app")return{type:"oauth-app",clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType,headers:{authorization:`basic ${dn(`${e.clientId}:${e.clientSecret}`)}`}};if("factory"in t){let{type:i,...s}={...t,...e};return t.factory(s)}let r={clientId:e.clientId,clientSecret:e.clientSecret,request:e.request,...t};return(e.clientType==="oauth-app"?await Zt({...r,clientType:e.clientType}):await Zt({...r,clientType:e.clientType}))()}async function Sf(e,t,r,n){let i=t.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return t(i);if(e.clientType==="github-app"&&!gn(i.url))throw new Error(`[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than "/applications/{client_id}/**". "${i.method} ${i.url}" is not supported.`);let s=dn(`${e.clientId}:${e.clientSecret}`);i.headers.authorization=`basic ${s}`;try{return await t(i)}catch(o){throw o.status!==401||(o.message=`[@octokit/auth-oauth-app] "${i.method} ${i.url}" does not support clientId/clientSecret basic authentication.`),o}}var Rf="4.3.0";function xa(e){let t=Object.assign({request:et.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${Rf} ${Ze()}`}}),clientType:"oauth-app"},e);return Object.assign(Af.bind(null,t),{hook:Sf.bind(null,t)})}var ka=Object.freeze({__proto__:null,createOAuthAppAuth:xa,createOAuthUserAuth:Zt});function Aa(e){let t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return t}function Pf(e){let t=e.trim().split(`
`).slice(1,-1).join(""),r=atob(t);return Aa(r)}function Of(e,t){return`${Sa(e)}.${Sa(t)}`}function Cf(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return Ra(btoa(t))}function Ra(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sa(e){return Ra(btoa(JSON.stringify(e)))}var If=async({privateKey:e,payload:t})=>{if(/BEGIN RSA PRIVATE KEY/.test(e))throw new Error("[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#readme");let r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},n={alg:"RS256",typ:"JWT"},i=Pf(e),s=await crypto.subtle.importKey("pkcs8",i,r,!1,["sign"]),o=Of(n,t),a=Aa(o),l=await crypto.subtle.sign(r.name,s,a),u=Cf(l);return`${o}.${u}`};async function jf({id:e,privateKey:t,now:r=Math.floor(Date.now()/1e3)}){let n=r-30,i=n+60*10,o=await If({privateKey:t,payload:{iat:n,exp:i,iss:e}});return{appId:e,expiration:i,token:o}}var Ff=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}},Gf=Q;Q.Node=kt;Q.create=Q;function Q(e){var t=this;if(t instanceof Q||(t=new Q),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Q.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Q.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Q.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Q.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Lf(this,arguments[e]);return this.length};Q.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Df(this,arguments[e]);return this.length};Q.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Q.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Q.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Q.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Q.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Q.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Q.prototype.map=function(e,t){t=t||this;for(var r=new Q,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Q.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Q,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Q.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Q.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Q.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Q.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Q.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Q;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Q.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Q;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Q.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=$f(this,i,r[n]);return s};Q.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function $f(e,t,r){var n=t===e.head?new kt(r,null,t,e):new kt(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Lf(e,t){e.tail=new kt(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Df(e,t){e.head=new kt(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function kt(e,t,r,n){if(!(this instanceof kt))return new kt(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Ff(Q)}catch(e){}var At=Symbol("max"),tt=Symbol("length"),er=Symbol("lengthCalculator"),Or=Symbol("allowStale"),St=Symbol("maxAge"),rt=Symbol("dispose"),Pa=Symbol("noDisposeOnSet"),ge=Symbol("lruList"),$e=Symbol("cache"),Oa=Symbol("updateAgeOnGet"),xi=()=>1,Ca=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[At]=t.max||Infinity,n=t.length||xi;if(this[er]=typeof n!="function"?xi:n,this[Or]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[St]=t.maxAge||0,this[rt]=t.dispose,this[Pa]=t.noDisposeOnSet||!1,this[Oa]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[At]=t||Infinity,Cr(this)}get max(){return this[At]}set allowStale(t){this[Or]=!!t}get allowStale(){return this[Or]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[St]=t,Cr(this)}get maxAge(){return this[St]}set lengthCalculator(t){typeof t!="function"&&(t=xi),t!==this[er]&&(this[er]=t,this[tt]=0,this[ge].forEach(r=>{r.length=this[er](r.value,r.key),this[tt]+=r.length})),Cr(this)}get lengthCalculator(){return this[er]}get length(){return this[tt]}get itemCount(){return this[ge].length}rforEach(t,r){r=r||this;for(let n=this[ge].tail;n!==null;){let i=n.prev;ja(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[ge].head;n!==null;){let i=n.next;ja(this,t,n,r),n=i}}keys(){return this[ge].toArray().map(t=>t.key)}values(){return this[ge].toArray().map(t=>t.value)}reset(){this[rt]&&this[ge]&&this[ge].length&&this[ge].forEach(t=>this[rt](t.key,t.value)),this[$e]=new Map,this[ge]=new Gf,this[tt]=0}dump(){return this[ge].map(t=>mn(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ge]}set(t,r,n){if(n=n||this[St],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[er](r,t);if(this[$e].has(t)){if(s>this[At])return tr(this,this[$e].get(t)),!1;let l=this[$e].get(t).value;return this[rt]&&(this[Pa]||this[rt](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[tt]+=s-l.length,l.length=s,this.get(t),Cr(this),!0}let o=new Ia(t,r,s,i,n);return o.length>this[At]?(this[rt]&&this[rt](t,r),!1):(this[tt]+=o.length,this[ge].unshift(o),this[$e].set(t,this[ge].head),Cr(this),!0)}has(t){if(!this[$e].has(t))return!1;let r=this[$e].get(t).value;return!mn(this,r)}get(t){return ki(this,t,!0)}peek(t){return ki(this,t,!1)}pop(){let t=this[ge].tail;return t?(tr(this,t),t.value):null}del(t){tr(this,this[$e].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[$e].forEach((t,r)=>ki(this,r,!1))}},ki=(e,t,r)=>{let n=e[$e].get(t);if(n){let i=n.value;if(mn(e,i)){if(tr(e,n),!e[Or])return}else r&&(e[Oa]&&(n.value.now=Date.now()),e[ge].unshiftNode(n));return i.value}},mn=(e,t)=>{if(!t||!t.maxAge&&!e[St])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[St]&&r>e[St]},Cr=e=>{if(e[tt]>e[At])for(let t=e[ge].tail;e[tt]>e[At]&&t!==null;){let r=t.prev;tr(e,t),t=r}},tr=(e,t)=>{if(t){let r=t.value;e[rt]&&e[rt](r.key,r.value),e[tt]-=r.length,e[$e].delete(r.key),e[ge].removeNode(t)}},Ia=class{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},ja=(e,t,r,n)=>{let i=r.value;mn(e,i)&&(tr(e,r),e[Or]||(i=void 0)),i&&t.call(n,i.value,i.key,e)},Nf=Ca;async function _n({appId:e,privateKey:t,timeDifference:r}){try{let n=await jf({id:+e,privateKey:t,now:r&&Math.floor(Date.now()/1e3)+r});return{type:"app",token:n.token,appId:n.appId,expiresAt:new Date(n.expiration*1e3).toISOString()}}catch(n){throw t==="-----BEGIN RSA PRIVATE KEY-----"?new Error("The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\n'"):n}}function Uf(){return new Nf({max:15e3,maxAge:1e3*60*59})}async function Mf(e,t){let r=Fa(t),n=await e.get(r);if(!n)return;let[i,s,o,a,l,u]=n.split("|"),c=t.permissions||l.split(/,/).reduce((h,d)=>(/!$/.test(d)?h[d.slice(0,-1)]="write":h[d]="read",h),{});return{token:i,createdAt:s,expiresAt:o,permissions:c,repositoryIds:t.repositoryIds,repositoryNames:t.repositoryNames,singleFileName:u,repositorySelection:a}}async function Bf(e,t,r){let n=Fa(t),i=t.permissions?"":Object.keys(r.permissions).map(o=>`${o}${r.permissions[o]==="write"?"!":""}`).join(","),s=[r.token,r.createdAt,r.expiresAt,r.repositorySelection,i,r.singleFileName].join("|");await e.set(n,s)}function Fa({installationId:e,permissions:t={},repositoryIds:r=[],repositoryNames:n=[]}){let i=Object.keys(t).sort().map(a=>t[a]==="read"?a:`${a}!`).join(","),s=r.sort().join(","),o=n.join(",");return[e,s,o,i].filter(Boolean).join("|")}function Ga({installationId:e,token:t,createdAt:r,expiresAt:n,repositorySelection:i,permissions:s,repositoryIds:o,repositoryNames:a,singleFileName:l}){return Object.assign({type:"token",tokenType:"installation",token:t,installationId:e,permissions:s,createdAt:r,expiresAt:n,repositorySelection:i},o?{repositoryIds:o}:null,a?{repositoryNames:a}:null,l?{singleFileName:l}:null)}async function La(e,t,r){let n=Number(t.installationId||e.installationId);if(!n)throw new Error("[@octokit/auth-app] installationId option is required for installation authentication.");if(t.factory){let{type:M,factory:ee,oauthApp:H,...re}={...e,...t};return ee(re)}let i=Object.assign({installationId:n},t);if(!t.refresh){let M=await Mf(e.cache,i);if(M){let{token:ee,createdAt:H,expiresAt:re,permissions:J,repositoryIds:se,repositoryNames:Re,singleFileName:I,repositorySelection:O}=M;return Ga({installationId:n,token:ee,createdAt:H,expiresAt:re,permissions:J,repositorySelection:O,repositoryIds:se,repositoryNames:Re,singleFileName:I})}}let s=await _n(e),o=r||e.request,{data:{token:a,expires_at:l,repositories:u,permissions:c,repository_selection:h,single_file:d}}=await o("POST /app/installations/{installation_id}/access_tokens",{installation_id:n,repository_ids:t.repositoryIds,repositories:t.repositoryNames,permissions:t.permissions,mediaType:{previews:["machine-man"]},headers:{authorization:`bearer ${s.token}`}}),f=c||{},T=h||"all",R=u?u.map(M=>M.id):void 0,v=u?u.map(M=>M.name):void 0,$=new Date().toISOString();return await Bf(e.cache,i,{token:a,createdAt:$,expiresAt:l,repositorySelection:T,permissions:f,repositoryIds:R,repositoryNames:v,singleFileName:d}),Ga({installationId:n,token:a,createdAt:$,expiresAt:l,repositorySelection:T,permissions:f,repositoryIds:R,repositoryNames:v,singleFileName:d})}async function qf(e,t){switch(t.type){case"app":return _n(e);case"oauth":e.log.warn(new pn('[@octokit/auth-app] {type: "oauth"} is deprecated. Use {type: "oauth-app"} instead'));case"oauth-app":return e.oauthApp({type:"oauth-app"});case"installation":return La(e,{...t,type:"installation"});case"oauth-user":return e.oauthApp(t);default:throw new Error(`Invalid auth type: ${t.type}`)}}var Hf=["/app","/app/hook/config","/app/hook/deliveries","/app/hook/deliveries/{delivery_id}","/app/hook/deliveries/{delivery_id}/attempts","/app/installations","/app/installations/{installation_id}","/app/installations/{installation_id}/access_tokens","/app/installations/{installation_id}/suspended","/marketplace_listing/accounts/{account_id}","/marketplace_listing/plan","/marketplace_listing/plans","/marketplace_listing/plans/{plan_id}/accounts","/marketplace_listing/stubbed/accounts/{account_id}","/marketplace_listing/stubbed/plan","/marketplace_listing/stubbed/plans","/marketplace_listing/stubbed/plans/{plan_id}/accounts","/orgs/{org}/installation","/repos/{owner}/{repo}/installation","/users/{username}/installation"];function Wf(e){let r=`^(?:${e.map(n=>n.split("/").map(i=>i.startsWith("{")?"(?:.+?)":i).join("/")).map(n=>`(?:${n})`).join("|")})[^/]*$`;return new RegExp(r,"i")}var zf=Wf(Hf);function Yf(e){return!!e&&zf.test(e)}var Kf=5*1e3;function Vf(e){return!(e.message.match(/'Expiration time' claim \('exp'\) must be a numeric value representing the future time at which the assertion expires/)||e.message.match(/'Issued at' claim \('iat'\) must be an Integer representing the time that the assertion was issued/))}async function Qf(e,t,r,n){let i=t.endpoint.merge(r,n),s=i.url;if(/\/login\/oauth\/access_token$/.test(s))return t(i);if(Yf(s.replace(t.endpoint.DEFAULTS.baseUrl,""))){let{token:l}=await _n(e);i.headers.authorization=`bearer ${l}`;let u;try{u=await t(i)}catch(c){if(Vf(c)||typeof c.response.headers.date=="undefined")throw c;let h=Math.floor((Date.parse(c.response.headers.date)-Date.parse(new Date().toString()))/1e3);e.log.warn(c.message),e.log.warn(`[@octokit/auth-app] GitHub API time and system time are different by ${h} seconds. Retrying request with the difference accounted for.`);let{token:d}=await _n({...e,timeDifference:h});return i.headers.authorization=`bearer ${d}`,t(i)}return u}if(gn(s)){let l=await e.oauthApp({type:"oauth-app"});return i.headers.authorization=l.headers.authorization,t(i)}let{token:o,createdAt:a}=await La(e,{},t);return i.headers.authorization=`token ${o}`,Da(e,t,i,a)}async function Da(e,t,r,n,i=0){let s=+new Date-+new Date(n);try{return await t(r)}catch(o){if(o.status!==401)throw o;if(s>=Kf)throw i>0&&(o.message=`After ${i} retries within ${s/1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`),o;++i;let a=i*1e3;return e.log.warn(`[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${i}, wait: ${a/1e3}s)`),await new Promise(l=>setTimeout(l,a)),Da(e,t,r,n,i)}}var Jf="3.6.1";function Xf(e){if(!e.appId)throw new Error("[@octokit/auth-app] appId option is required");if(!e.privateKey)throw new Error("[@octokit/auth-app] privateKey option is required");if("installationId"in e&&!e.installationId)throw new Error("[@octokit/auth-app] installationId is set to a falsy value");let t=Object.assign({warn:console.warn.bind(console)},e.log),r=e.request||et.defaults({headers:{"user-agent":`octokit-auth-app.js/${Jf} ${Ze()}`}}),n=Object.assign({request:r,cache:Uf()},e,e.installationId?{installationId:Number(e.installationId)}:{},{log:t,oauthApp:xa({clientType:"github-app",clientId:e.clientId||"",clientSecret:e.clientSecret||"",request:r})});return Object.assign(qf.bind(null,n),{hook:Qf.bind(null,n)})}var Ai=Object.freeze({__proto__:null,createAppAuth:Xf,createOAuthUserAuth:Zt});async function Zf(e){return{type:"unauthenticated",reason:e}}function ed(e){return e.status!==403||!e.response?!1:e.response.headers["x-ratelimit-remaining"]==="0"}var td=/\babuse\b/i;function rd(e){return e.status!==403?!1:td.test(e.message)}async function nd(e,t,r,n){let i=t.endpoint.merge(r,n);return t(i).catch(s=>{throw s.status===404?(s.message=`Not found. May be due to lack of authentication. Reason: ${e}`,s):ed(s)?(s.message=`API rate limit exceeded. This maybe caused by the lack of authentication. Reason: ${e}`,s):rd(s)?(s.message=`You have triggered an abuse detection mechanism. This maybe caused by the lack of authentication. Reason: ${e}`,s):s.status===401?(s.message=`Unauthorized. "${i.method} ${i.url}" failed most likely due to lack of authentication. Reason: ${e}`,s):(s.status>=400&&s.status<500&&(s.message=s.message.replace(/\.?$/,`. May be caused by lack of authentication (${e}).`)),s)})}var id=function(t){if(!t||!t.reason)throw new Error("[@octokit/auth-unauthenticated] No reason passed to createUnauthenticatedAuth");return Object.assign(Zf.bind(null,t.reason),{hook:nd.bind(null,t.reason)})},bn=Object.freeze({__proto__:null,createUnauthenticatedAuth:id});var sd=function(t){return[...t].reduce((r,[n,i])=>(r[n]=i,r),{})},Si=Qe(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(m){return m&&typeof m=="object"&&"default"in m?m.default:m}var n=r(sd);function i(m,x){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(m);x&&(F=F.filter(function(U){return Object.getOwnPropertyDescriptor(m,U).enumerable})),S.push.apply(S,F)}return S}function s(m){for(var x=1;x<arguments.length;x++){var S=arguments[x]!=null?arguments[x]:{};x%2?i(Object(S),!0).forEach(function(F){o(m,F,S[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):i(Object(S)).forEach(function(F){Object.defineProperty(m,F,Object.getOwnPropertyDescriptor(S,F))})}return m}function o(m,x,S){return x in m?Object.defineProperty(m,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[x]=S,m}let a="3.6.0";function l(m,x,S){if(Array.isArray(x)){for(let F of x)l(m,F,S);return}m.eventHandlers[x]||(m.eventHandlers[x]=[]),m.eventHandlers[x].push(S)}let u=fa.Octokit.defaults({userAgent:`octokit-oauth-app.js/${a} ${dp.getUserAgent()}`});async function c(m,x){let{name:S,action:F}=x;if(m.eventHandlers[`${S}.${F}`])for(let U of m.eventHandlers[`${S}.${F}`])await U(x);if(m.eventHandlers[S])for(let U of m.eventHandlers[S])await U(x)}async function h(m,x){return m.octokit.auth(s(s({type:"oauth-user"},x),{},{async factory(S){let F=new m.Octokit({authStrategy:Pr.createOAuthUserAuth,auth:S}),U=await F.auth({type:"get"});return await c(m,{name:"token",action:"created",token:U.token,scopes:U.scopes,authentication:U,octokit:F}),F}}))}function d(m,x){let S=s(s({clientId:m.clientId,request:m.octokit.request},x),{},{allowSignup:x.allowSignup||m.allowSignup,scopes:x.scopes||m.defaultScopes});return ce.getWebFlowAuthorizationUrl(s({clientType:m.clientType},S))}async function f(m,x){let S=await m.octokit.auth(s({type:"oauth-user"},x));return await c(m,{name:"token",action:"created",token:S.token,scopes:S.scopes,authentication:S,octokit:new m.Octokit({authStrategy:ka.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:S.token,scopes:S.scopes,refreshToken:S.refreshToken,expiresAt:S.expiresAt,refreshTokenExpiresAt:S.refreshTokenExpiresAt}})}),{authentication:S}}async function T(m,x){let S=await ce.checkToken(s({clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},x));return Object.assign(S.authentication,{type:"token",tokenType:"oauth"}),S}async function R(m,x){let S=s({clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},x);if(m.clientType==="oauth-app"){let W=await ce.resetToken(s({clientType:"oauth-app"},S)),Ee=Object.assign(W.authentication,{type:"token",tokenType:"oauth"});return await c(m,{name:"token",action:"reset",token:W.authentication.token,scopes:W.authentication.scopes||void 0,authentication:Ee,octokit:new m.Octokit({authStrategy:Pr.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:W.authentication.token,scopes:W.authentication.scopes}})}),s(s({},W),{},{authentication:Ee})}let F=await ce.resetToken(s({clientType:"github-app"},S)),U=Object.assign(F.authentication,{type:"token",tokenType:"oauth"});return await c(m,{name:"token",action:"reset",token:F.authentication.token,authentication:U,octokit:new m.Octokit({authStrategy:Pr.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:F.authentication.token}})}),s(s({},F),{},{authentication:U})}async function v(m,x){if(m.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.refreshToken() is not supported for OAuth Apps");let S=await ce.refreshToken({clientType:"github-app",clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request,refreshToken:x.refreshToken}),F=Object.assign(S.authentication,{type:"token",tokenType:"oauth"});return await c(m,{name:"token",action:"refreshed",token:S.authentication.token,authentication:F,octokit:new m.Octokit({authStrategy:Pr.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:S.authentication.token}})}),s(s({},S),{},{authentication:F})}async function $(m,x){if(m.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.scopeToken() is not supported for OAuth Apps");let S=await ce.scopeToken(s({clientType:"github-app",clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},x)),F=Object.assign(S.authentication,{type:"token",tokenType:"oauth"});return await c(m,{name:"token",action:"scoped",token:S.authentication.token,authentication:F,octokit:new m.Octokit({authStrategy:Pr.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:S.authentication.token}})}),s(s({},S),{},{authentication:F})}async function M(m,x){let S=s({clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},x),F=m.clientType==="oauth-app"?await ce.deleteToken(s({clientType:"oauth-app"},S)):await ce.deleteToken(s({clientType:"github-app"},S));return await c(m,{name:"token",action:"deleted",token:x.token,octokit:new m.Octokit({authStrategy:bn.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),F}async function ee(m,x){let S=s({clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},x),F=m.clientType==="oauth-app"?await ce.deleteAuthorization(s({clientType:"oauth-app"},S)):await ce.deleteAuthorization(s({clientType:"github-app"},S));return await c(m,{name:"token",action:"deleted",token:x.token,octokit:new m.Octokit({authStrategy:bn.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),await c(m,{name:"authorization",action:"deleted",token:x.token,octokit:new m.Octokit({authStrategy:bn.createUnauthenticatedAuth,auth:{reason:'Handling "authorization.deleted" event. The access for the app has been revoked.'}})}),F}function H(m){let{method:x,url:S,headers:F}=m;async function U(){return await new Promise((Ee,Ve)=>{let fe=[];m.on("error",Ve).on("data",Ie=>fe.push(Ie)).on("end",()=>Ee(y.concat(fe).toString()))})}return{method:x,url:S,headers:F,text:U}}function re(m,x){x.writeHead(m.status,m.headers),x.end(m.text)}function J(m){return{status:404,headers:{"content-type":"application/json"},text:JSON.stringify({error:`Unknown route: ${m.method} ${m.url}`})}}async function se(m,{pathPrefix:x="/api/github/oauth"},S){if(S.method==="OPTIONS")return{status:200,headers:{"access-control-allow-origin":"*","access-control-allow-methods":"*","access-control-allow-headers":"Content-Type, User-Agent, Authorization"}};let{pathname:F}=new URL(S.url,"http://localhost"),U=[S.method,F].join(" "),W={getLogin:`GET ${x}/login`,getCallback:`GET ${x}/callback`,createToken:`POST ${x}/token`,getToken:`GET ${x}/token`,patchToken:`PATCH ${x}/token`,patchRefreshToken:`PATCH ${x}/refresh-token`,scopeToken:`POST ${x}/token/scoped`,deleteToken:`DELETE ${x}/token`,deleteGrant:`DELETE ${x}/grant`};if(!Object.values(W).includes(U))return null;let Ee;try{let Ue=await S.text();Ee=Ue?JSON.parse(Ue):{}}catch(Ue){return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:"[@octokit/oauth-app] request error"})}}let{searchParams:Ve}=new URL(S.url,"http://localhost"),fe=n(Ve),Ie=S.headers;try{var br;if(U===W.getLogin){let{url:ne}=m.getWebFlowAuthorizationUrl({state:fe.state,scopes:fe.scopes?fe.scopes.split(","):void 0,allowSignup:fe.allowSignup!=="false",redirectUrl:fe.redirectUrl});return{status:302,headers:{location:ne}}}if(U===W.getCallback){if(fe.error)throw new Error(`[@octokit/oauth-app] ${fe.error} ${fe.error_description}`);if(!fe.state||!fe.code)throw new Error('[@octokit/oauth-app] Both "code" & "state" parameters are required');let{authentication:{token:ne}}=await m.createToken({state:fe.state,code:fe.code});return{status:200,headers:{"content-type":"text/html"},text:`<h1>Token created successfull</h1>
    
<p>Your token is: <strong>${ne}</strong>. Copy it now as it cannot be shown again.</p>`}}if(U===W.createToken){let{state:ne,code:ve,redirectUrl:at}=Ee;if(!ne||!ve)throw new Error('[@octokit/oauth-app] Both "code" & "state" parameters are required');let Wt=await m.createToken({state:ne,code:ve,redirectUrl:at});return delete Wt.authentication.clientSecret,{status:201,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(Wt)}}if(U===W.getToken){var Bt;let ne=(Bt=Ie.authorization)===null||Bt===void 0?void 0:Bt.substr("token ".length);if(!ne)throw new Error('[@octokit/oauth-app] "Authorization" header is required');let ve=await m.checkToken({token:ne});return delete ve.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(ve)}}if(U===W.patchToken){var qt;let ne=(qt=Ie.authorization)===null||qt===void 0?void 0:qt.substr("token ".length);if(!ne)throw new Error('[@octokit/oauth-app] "Authorization" header is required');let ve=await m.resetToken({token:ne});return delete ve.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(ve)}}if(U===W.patchRefreshToken){var Ht;if(!((Ht=Ie.authorization)===null||Ht===void 0?void 0:Ht.substr("token ".length)))throw new Error('[@octokit/oauth-app] "Authorization" header is required');let{refreshToken:ve}=Ee;if(!ve)throw new Error("[@octokit/oauth-app] refreshToken must be sent in request body");let at=await m.refreshToken({refreshToken:ve});return delete at.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(at)}}if(U===W.scopeToken){var vr;let ne=(vr=Ie.authorization)===null||vr===void 0?void 0:vr.substr("token ".length);if(!ne)throw new Error('[@octokit/oauth-app] "Authorization" header is required');let ve=await m.scopeToken(s({token:ne},Ee));return delete ve.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(ve)}}if(U===W.deleteToken){var wr;let ne=(wr=Ie.authorization)===null||wr===void 0?void 0:wr.substr("token ".length);if(!ne)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await m.deleteToken({token:ne}),{status:204,headers:{"access-control-allow-origin":"*"}}}let Ue=(br=Ie.authorization)===null||br===void 0?void 0:br.substr("token ".length);if(!Ue)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await m.deleteAuthorization({token:Ue}),{status:204,headers:{"access-control-allow-origin":"*"}}}catch(Ue){return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:Ue.message})}}}function Re(m,x){let S=H(m),F=J(S);re(F,x)}function I(m,{pathPrefix:x,onUnhandledRequest:S=Re}={}){return async function(F,U,W){let Ee=H(F),Ve=await se(m,{pathPrefix:x},Ee);Ve?re(Ve,U):typeof W=="function"?W():S(F,U)}}function O(m){let x=Object.fromEntries(m.headers.entries());return{method:m.method,url:m.url,headers:x,text:()=>m.text()}}function g(m){return new Response(m.text,{status:m.status,headers:m.headers})}async function k(m){let x=O(m),S=J(x);return g(S)}function A(m,{pathPrefix:x,onUnhandledRequest:S=k}={}){return async function(F){let U=O(F),W=await se(m,{pathPrefix:x},U);return W?g(W):await S(F)}}function C(m){let{method:x}=m.requestContext.http,S=m.rawPath,{stage:F}=m.requestContext;S.startsWith("/"+F)&&(S=S.substring(F.length+1)),m.rawQueryString&&(S+="?"+m.rawQueryString);let U=m.headers;return{method:x,url:S,headers:U,text:async()=>m.body||""}}function L(m){return{statusCode:m.status,headers:m.headers,body:m.text}}async function Y(m){let x=C(m),S=J(x);return L(S)}function pe(m,{pathPrefix:x,onUnhandledRequest:S=Y}={}){return async function(F){let U=C(F),W=await se(m,{pathPrefix:x},U);return W?L(W):S(F)}}class le{constructor(x){let S=x.Octokit||u;this.type=x.clientType||"oauth-app";let F=new S({authStrategy:ka.createOAuthAppAuth,auth:{clientType:this.type,clientId:x.clientId,clientSecret:x.clientSecret}}),U={clientType:this.type,clientId:x.clientId,clientSecret:x.clientSecret,defaultScopes:x.defaultScopes||[],allowSignup:x.allowSignup,baseUrl:x.baseUrl,log:x.log,Octokit:S,octokit:F,eventHandlers:{}};this.on=l.bind(null,U),this.octokit=F,this.getUserOctokit=h.bind(null,U),this.getWebFlowAuthorizationUrl=d.bind(null,U),this.createToken=f.bind(null,U),this.checkToken=T.bind(null,U),this.resetToken=R.bind(null,U),this.refreshToken=v.bind(null,U),this.scopeToken=$.bind(null,U),this.deleteToken=M.bind(null,U),this.deleteAuthorization=ee.bind(null,U)}static defaults(x){return class extends this{constructor(...F){super(s(s({},x),F[0]))}}}}le.VERSION=a,t.OAuthApp=le,t.createAWSLambdaAPIGatewayV2Handler=pe,t.createCloudflareHandler=A,t.createNodeMiddleware=I}),od=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))},$a=/\s+at.*(?:\(|\s)(.*)\)?/,ad=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,ld=typeof ct.homedir=="undefined"?"":ct.homedir(),ud=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split(`
`).filter(r=>{let n=r.match($a);if(n===null||!n[1])return!0;let i=n[1];return i.includes(".app/Contents/Resources/electron.asar")||i.includes(".app/Contents/Resources/default_app.asar")?!1:!ad.test(i)}).filter(r=>r.trim()!=="").map(r=>t.pretty?r.replace($a,(n,i)=>n.replace(i,i.replace(ld,"~"))):r).join(`
`)),cd=e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),Na=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);t=[...t].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=t.map(n=>typeof n.stack=="string"?cd(ud(n.stack)):String(n)).join(`
`);r=`
`+od(r,4),super(r),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:t})}*[Symbol.iterator](){for(let t of this._errors)yield t}},rr=Na,Ri=new TextEncoder;async function pd(e,t){let r=await crypto.subtle.sign("HMAC",await Ua(e),Ri.encode(t));return hd(r)}async function Ma(e,t,r){return await crypto.subtle.verify("HMAC",await Ua(e),fd(r),Ri.encode(t))}function fd(e){let r=e.match(/[\dA-F]{2}/gi).map(function(n){return parseInt(n,16)});return new Uint8Array(r)}function hd(e){return Array.prototype.map.call(new Uint8Array(e),t=>t.toString(16).padStart(2,"0")).join("")}async function Ua(e){return crypto.subtle.importKey("raw",Ri.encode(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"])}var Pi=e=>({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console),...e}),Ba=["branch_protection_rule","branch_protection_rule.created","branch_protection_rule.deleted","branch_protection_rule.edited","check_run","check_run.completed","check_run.created","check_run.requested_action","check_run.rerequested","check_suite","check_suite.completed","check_suite.requested","check_suite.rerequested","code_scanning_alert","code_scanning_alert.appeared_in_branch","code_scanning_alert.closed_by_user","code_scanning_alert.created","code_scanning_alert.fixed","code_scanning_alert.reopened","code_scanning_alert.reopened_by_user","commit_comment","commit_comment.created","content_reference","content_reference.created","create","delete","deploy_key","deploy_key.created","deploy_key.deleted","deployment","deployment.created","deployment_status","deployment_status.created","discussion","discussion.answered","discussion.category_changed","discussion.created","discussion.deleted","discussion.edited","discussion.labeled","discussion.locked","discussion.pinned","discussion.transferred","discussion.unanswered","discussion.unlabeled","discussion.unlocked","discussion.unpinned","discussion_comment","discussion_comment.created","discussion_comment.deleted","discussion_comment.edited","fork","github_app_authorization","github_app_authorization.revoked","gollum","installation","installation.created","installation.deleted","installation.new_permissions_accepted","installation.suspend","installation.unsuspend","installation_repositories","installation_repositories.added","installation_repositories.removed","issue_comment","issue_comment.created","issue_comment.deleted","issue_comment.edited","issues","issues.assigned","issues.closed","issues.deleted","issues.demilestoned","issues.edited","issues.labeled","issues.locked","issues.milestoned","issues.opened","issues.pinned","issues.reopened","issues.transferred","issues.unassigned","issues.unlabeled","issues.unlocked","issues.unpinned","label","label.created","label.deleted","label.edited","marketplace_purchase","marketplace_purchase.cancelled","marketplace_purchase.changed","marketplace_purchase.pending_change","marketplace_purchase.pending_change_cancelled","marketplace_purchase.purchased","member","member.added","member.edited","member.removed","membership","membership.added","membership.removed","meta","meta.deleted","milestone","milestone.closed","milestone.created","milestone.deleted","milestone.edited","milestone.opened","org_block","org_block.blocked","org_block.unblocked","organization","organization.deleted","organization.member_added","organization.member_invited","organization.member_removed","organization.renamed","package","package.published","package.updated","page_build","ping","project","project.closed","project.created","project.deleted","project.edited","project.reopened","project_card","project_card.converted","project_card.created","project_card.deleted","project_card.edited","project_card.moved","project_column","project_column.created","project_column.deleted","project_column.edited","project_column.moved","public","pull_request","pull_request.assigned","pull_request.auto_merge_disabled","pull_request.auto_merge_enabled","pull_request.closed","pull_request.converted_to_draft","pull_request.edited","pull_request.labeled","pull_request.locked","pull_request.opened","pull_request.ready_for_review","pull_request.reopened","pull_request.review_request_removed","pull_request.review_requested","pull_request.synchronize","pull_request.unassigned","pull_request.unlabeled","pull_request.unlocked","pull_request_review","pull_request_review.dismissed","pull_request_review.edited","pull_request_review.submitted","pull_request_review_comment","pull_request_review_comment.created","pull_request_review_comment.deleted","pull_request_review_comment.edited","pull_request_review_thread","pull_request_review_thread.resolved","pull_request_review_thread.unresolved","push","release","release.created","release.deleted","release.edited","release.prereleased","release.published","release.released","release.unpublished","repository","repository.archived","repository.created","repository.deleted","repository.edited","repository.privatized","repository.publicized","repository.renamed","repository.transferred","repository.unarchived","repository_dispatch","repository_import","repository_vulnerability_alert","repository_vulnerability_alert.create","repository_vulnerability_alert.dismiss","repository_vulnerability_alert.resolve","secret_scanning_alert","secret_scanning_alert.created","secret_scanning_alert.reopened","secret_scanning_alert.resolved","security_advisory","security_advisory.performed","security_advisory.published","security_advisory.updated","security_advisory.withdrawn","sponsorship","sponsorship.cancelled","sponsorship.created","sponsorship.edited","sponsorship.pending_cancellation","sponsorship.pending_tier_change","sponsorship.tier_changed","star","star.created","star.deleted","status","team","team.added_to_repository","team.created","team.deleted","team.edited","team.removed_from_repository","team_add","watch","watch.started","workflow_dispatch","workflow_job","workflow_job.completed","workflow_job.in_progress","workflow_job.queued","workflow_job.started","workflow_run","workflow_run.completed","workflow_run.requested"];function Oi(e,t,r){e.hooks[t]||(e.hooks[t]=[]),e.hooks[t].push(r)}function qa(e,t,r){if(Array.isArray(t)){t.forEach(n=>qa(e,n,r));return}if(["*","error"].includes(t)){let n=t==="*"?"any":t,i=`Using the "${t}" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.on${n.charAt(0).toUpperCase()+n.slice(1)}() method instead`;throw new Error(i)}Ba.includes(t)||e.log.warn(`"${t}" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`),Oi(e,t,r)}function dd(e,t){Oi(e,"*",t)}function gd(e,t){Oi(e,"error",t)}function Ha(e,t){let r;try{r=e(t)}catch(n){console.log('FATAL: Error occurred in "error" event handler'),console.log(n)}r&&r.catch&&r.catch(n=>{console.log('FATAL: Error occurred in "error" event handler'),console.log(n)})}function md(e,t,r){let n=[e.hooks[r],e.hooks["*"]];return t&&n.unshift(e.hooks[`${r}.${t}`]),[].concat(...n.filter(Boolean))}function _d(e,t){let r=e.hooks.error||[];if(t instanceof Error){let o=Object.assign(new rr([t]),{event:t,errors:[t]});return r.forEach(a=>Ha(a,o)),Promise.reject(o)}if(!t||!t.name)throw new rr(["Event name not passed"]);if(!t.payload)throw new rr(["Event payload not passed"]);let n=md(e,"action"in t.payload?t.payload.action:null,t.name);if(n.length===0)return Promise.resolve();let i=[],s=n.map(o=>{let a=Promise.resolve(t);return e.transform&&(a=a.then(e.transform)),a.then(l=>o(l)).catch(l=>i.push(Object.assign(l,{event:t})))});return Promise.all(s).then(()=>{if(i.length===0)return;let o=new rr(i);throw Object.assign(o,{event:t,errors:i}),r.forEach(a=>Ha(a,o)),o})}function Wa(e,t,r){if(Array.isArray(t)){t.forEach(n=>Wa(e,n,r));return}if(!!e.hooks[t]){for(let n=e.hooks[t].length-1;n>=0;n--)if(e.hooks[t][n]===r){e.hooks[t].splice(n,1);return}}}function za(e){let t={hooks:{},log:Pi(e&&e.log)};return e&&e.transform&&(t.transform=e.transform),{on:qa.bind(null,t),onAny:dd.bind(null,t),onError:gd.bind(null,t),removeListener:Wa.bind(null,t),receive:_d.bind(null,t)}}function Ci(e){return JSON.stringify(e).replace(/[^\\]\\u[\da-f]{4}/g,r=>r.substr(0,3)+r.substr(3).toUpperCase())}async function bd(e,t){return pd(e,typeof t=="string"?t:Ci(t))}async function vd(e,t,r){return Ma(e,typeof t=="string"?t:Ci(t),r)}async function wd(e,t){if(!await Ma(e.secret,typeof t.payload=="object"?Ci(t.payload):t.payload,t.signature)){let n=new Error("[@octokit/webhooks] signature does not match event payload and secret");return e.eventHandler.receive(Object.assign(n,{event:t,status:400}))}return e.eventHandler.receive({id:t.id,name:t.name,payload:typeof t.payload=="string"?JSON.parse(t.payload):t.payload})}var yd=["x-github-event","x-hub-signature-256","x-github-delivery"];function Ed(e){return yd.filter(t=>!(t in e.headers))}function Td(e){return e.body?Promise.resolve(e.body):new Promise((t,r)=>{let n="";e.setEncoding("utf8"),e.on("error",i=>r(new rr([i]))),e.on("data",i=>n+=i),e.on("end",()=>{try{t(JSON.parse(n))}catch(i){i.message="Invalid JSON",i.status=400,r(new rr([i]))}})})}async function xd(e,t,r,n,i){let s;try{s=new URL(r.url,"http://localhost").pathname}catch(T){n.writeHead(422,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Request URL could not be parsed: ${r.url}`}));return}let o=r.method!=="POST"||s!==t.path,a=typeof i=="function";if(o)return a?i():t.onUnhandledRequest(r,n);let l=Ed(r).join(", ");if(l){n.writeHead(400,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Required headers missing: ${l}`}));return}let u=r.headers["x-github-event"],c=r.headers["x-hub-signature-256"],h=r.headers["x-github-delivery"];t.log.debug(`${u} event received (id: ${h})`);let d=!1,f=setTimeout(()=>{d=!0,n.statusCode=202,n.end(`still processing
`)},9e3).unref();try{let T=await Td(r);if(await e.verifyAndReceive({id:h,name:u,payload:T,signature:c}),clearTimeout(f),d)return;n.end(`ok
`)}catch(T){if(clearTimeout(f),d)return;let R=Array.from(T)[0].status;n.statusCode=typeof R!="undefined"?R:500,n.end(String(T))}}function kd(e,t){t.writeHead(404,{"content-type":"application/json"}),t.end(JSON.stringify({error:`Unknown route: ${e.method} ${e.url}`}))}function Ad(e,{path:t="/api/github/webhooks",onUnhandledRequest:r=kd,log:n=Pi()}={}){return xd.bind(null,e,{path:t,onUnhandledRequest:r,log:n})}var Ya=class{constructor(t){if(!t||!t.secret)throw new Error("[@octokit/webhooks] options.secret required");let r={eventHandler:za(t),secret:t.secret,hooks:{},log:Pi(t.log)};this.sign=bd.bind(null,t.secret),this.verify=vd.bind(null,t.secret),this.on=r.eventHandler.on,this.onAny=r.eventHandler.onAny,this.onError=r.eventHandler.onError,this.removeListener=r.eventHandler.removeListener,this.receive=r.eventHandler.receive,this.verifyAndReceive=wd.bind(null,r)}},Ka=Object.freeze({__proto__:null,Webhooks:Ya,createEventHandler:za,createNodeMiddleware:Ad,emitterEventNames:Ba}),Sd=Qe(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(I,O){var g=Object.keys(I);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(I);O&&(k=k.filter(function(A){return Object.getOwnPropertyDescriptor(I,A).enumerable})),g.push.apply(g,k)}return g}function n(I){for(var O=1;O<arguments.length;O++){var g=arguments[O]!=null?arguments[O]:{};O%2?r(Object(g),!0).forEach(function(k){u(I,k,g[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(g)):r(Object(g)).forEach(function(k){Object.defineProperty(I,k,Object.getOwnPropertyDescriptor(g,k))})}return I}function i(I){var O;if(typeof Symbol!="undefined"&&(Symbol.asyncIterator&&(O=I[Symbol.asyncIterator]),O==null&&Symbol.iterator&&(O=I[Symbol.iterator])),O==null&&(O=I["@@asyncIterator"]),O==null&&(O=I["@@iterator"]),O==null)throw new TypeError("Object is not async iterable");return O.call(I)}function s(I){this.wrapped=I}function o(I){var O,g;function k(L,Y){return new Promise(function(pe,le){var m={key:L,arg:Y,resolve:pe,reject:le,next:null};g?g=g.next=m:(O=g=m,A(L,Y))})}function A(L,Y){try{var pe=I[L](Y),le=pe.value,m=le instanceof s;Promise.resolve(m?le.wrapped:le).then(function(x){if(m){A(L==="return"?"return":"next",x);return}C(pe.done?"return":"normal",x)},function(x){A("throw",x)})}catch(x){C("throw",x)}}function C(L,Y){switch(L){case"return":O.resolve({value:Y,done:!0});break;case"throw":O.reject(Y);break;default:O.resolve({value:Y,done:!1});break}O=O.next,O?A(O.key,O.arg):g=null}this._invoke=k,typeof I.return!="function"&&(this.return=void 0)}o.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(I){return this._invoke("next",I)},o.prototype.throw=function(I){return this._invoke("throw",I)},o.prototype.return=function(I){return this._invoke("return",I)};function a(I){return function(){return new o(I.apply(this,arguments))}}function l(I){return new s(I)}function u(I,O,g){return O in I?Object.defineProperty(I,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):I[O]=g,I}let c="12.0.5";function h(I,O){return new Ka.Webhooks({secret:O.secret,transform:async g=>{if(!("installation"in g.payload)||typeof g.payload.installation!="object"){let C=new I.constructor({authStrategy:bn.createUnauthenticatedAuth,auth:{reason:'"installation" key missing in webhook event payload'}});return n(n({},g),{},{octokit:C})}let k=g.payload.installation.id,A=await I.auth({type:"installation",installationId:k,factory(C){return new C.octokit.constructor(n(n({},C.octokitOptions),{},{authStrategy:Ai.createAppAuth},{auth:n(n({},C),{},{installationId:k})}))}});return n(n({},g),{},{octokit:A})}})}async function d(I,O){return I.octokit.auth({type:"installation",installationId:O,factory(g){let k=n(n({},g.octokitOptions),{},{authStrategy:Ai.createAppAuth},{auth:n(n({},g),{},{installationId:O})});return new g.octokit.constructor(k)}})}function f(I){return Object.assign(T.bind(null,I),{iterator:R.bind(null,I)})}async function T(I,O){let g=R(I)[Symbol.asyncIterator](),k=await g.next();for(;!k.done;)await O(k.value),k=await g.next()}function R(I){return{[Symbol.asyncIterator](){return a(function*(){let O=_a.composePaginateRest.iterator(I.octokit,"GET /app/installations");var g=!1,k=!1,A;try{for(var C=i(O),L;g=!(L=yield l(C.next())).done;g=!1){let{data:Y}=L.value;for(let pe of Y)yield{octokit:yield l(d(I,pe.id)),installation:pe}}}catch(Y){k=!0,A=Y}finally{try{g&&C.return!=null&&(yield l(C.return()))}finally{if(k)throw A}}})()}}}function v(I){return Object.assign($.bind(null,I),{iterator:ee.bind(null,I)})}async function $(I,O,g){let k=ee(I,g?O:void 0)[Symbol.asyncIterator](),A=await k.next();for(;!A.done;)g?await g(A.value):await O(A.value),A=await k.next()}function M(I,O){return{[Symbol.asyncIterator](){return a(function*(){yield{octokit:yield l(I.getInstallationOctokit(O))}})()}}}function ee(I,O){return{[Symbol.asyncIterator](){return a(function*(){let g=O?M(I,O.installationId):I.eachInstallation.iterator();var k=!1,A=!1,C;try{for(var L=i(g),Y;k=!(Y=yield l(L.next())).done;k=!1){let{octokit:F}=Y.value,U=_a.composePaginateRest.iterator(F,"GET /installation/repositories");var pe=!1,le=!1,m;try{for(var x=i(U),S;pe=!(S=yield l(x.next())).done;pe=!1){let{data:W}=S.value;for(let Ee of W)yield{octokit:F,repository:Ee}}}catch(W){le=!0,m=W}finally{try{pe&&x.return!=null&&(yield l(x.return()))}finally{if(le)throw m}}}}catch(F){A=!0,C=F}finally{try{k&&L.return!=null&&(yield l(L.return()))}finally{if(A)throw C}}})()}}}function H(I,O){O.writeHead(404,{"content-type":"application/json"}),O.end(JSON.stringify({error:`Unknown route: ${I.method} ${I.url}`}))}function re(){}function J(I,O={}){let g=Object.assign({debug:re,info:re,warn:console.warn.bind(console),error:console.error.bind(console)},O.log),k=n(n({onUnhandledRequest:H,pathPrefix:"/api/github"},O),{},{log:g}),A=Ka.createNodeMiddleware(I.webhooks,{path:k.pathPrefix+"/webhooks",log:g,onUnhandledRequest:k.onUnhandledRequest}),C=Si.createNodeMiddleware(I.oauth,{pathPrefix:k.pathPrefix+"/oauth",onUnhandledRequest:k.onUnhandledRequest});return se.bind(null,k,{webhooksMiddleware:A,oauthMiddleware:C})}async function se(I,{webhooksMiddleware:O,oauthMiddleware:g},k,A,C){let{pathname:L}=new URL(k.url,"http://localhost");return L===`${I.pathPrefix}/webhooks`?O(k,A,C):L.startsWith(`${I.pathPrefix}/oauth/`)?g(k,A,C):typeof C=="function"?C():I.onUnhandledRequest(k,A)}class Re{constructor(O){let g=O.Octokit||fa.Octokit,k=Object.assign({appId:O.appId,privateKey:O.privateKey},O.oauth?{clientId:O.oauth.clientId,clientSecret:O.oauth.clientSecret}:{});this.octokit=new g({authStrategy:Ai.createAppAuth,auth:k,log:O.log}),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},O.log),O.webhooks?this.webhooks=h(this.octokit,O.webhooks):Object.defineProperty(this,"webhooks",{get(){throw new Error("[@octokit/app] webhooks option not set")}}),O.oauth?this.oauth=new Si.OAuthApp(n(n({},O.oauth),{},{clientType:"github-app",Octokit:g})):Object.defineProperty(this,"oauth",{get(){throw new Error("[@octokit/app] oauth.clientId / oauth.clientSecret options are not set")}}),this.getInstallationOctokit=d.bind(null,this),this.eachInstallation=f(this),this.eachRepository=v(this)}static defaults(O){return class extends this{constructor(...k){super(n(n({},O),k[0]))}}}}Re.VERSION=c,t.App=Re,t.createNodeMiddleware=J}),Rd="1.7.1",vn=Rr.plugin(ba,yi,va).defaults({userAgent:`octokit-rest.js/${Rd}`,throttle:{onRateLimit:Pd,onAbuseLimit:Od}});function Pd(e,t,r){if(r.log.warn(`Request quota exhausted for request ${t.method} ${t.url}`),t.request.retryCount===0)return r.log.info(`Retrying after ${e} seconds!`),!0}function Od(e,t,r){if(r.log.warn(`Abuse detected for request ${t.method} ${t.url}`),t.request.retryCount===0)return r.log.info(`Retrying after ${e} seconds!`),!0}var Lv=Sd.App.defaults({Octokit:vn}),Dv=Si.OAuthApp.defaults({Octokit:vn});function Va(e){return typeof e=="undefined"||e===null}function Cd(e){return typeof e=="object"&&e!==null}function Id(e){return Array.isArray(e)?e:Va(e)?[]:[e]}function jd(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function Fd(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function Gd(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Ld=Va,Dd=Cd,$d=Id,Nd=Fd,Ud=Gd,Md=jd,oe={isNothing:Ld,isObject:Dd,toArray:$d,repeat:Nd,isNegativeZero:Ud,extend:Md};function Ir(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ir.prototype=Object.create(Error.prototype);Ir.prototype.constructor=Ir;Ir.prototype.toString=function(t){var r=this.name+": ";return r+=this.reason||"(unknown reason)",!t&&this.mark&&(r+=" "+this.mark.toString()),r};var Oe=Ir;function Ii(e,t,r,n,i){this.name=e,this.buffer=t,this.position=r,this.line=n,this.column=i}Ii.prototype.getSnippet=function(t,r){var n,i,s,o,a;if(!this.buffer)return null;for(t=t||4,r=r||75,n="",i=this.position;i>0&&`\0\r
Â\u2028\u2029`.indexOf(this.buffer.charAt(i-1))===-1;)if(i-=1,this.position-i>r/2-1){n=" ... ",i+=5;break}for(s="",o=this.position;o<this.buffer.length&&`\0\r
Â\u2028\u2029`.indexOf(this.buffer.charAt(o))===-1;)if(o+=1,o-this.position>r/2-1){s=" ... ",o-=5;break}return a=this.buffer.slice(i,o),oe.repeat(" ",t)+n+a+s+`
`+oe.repeat(" ",t+this.position-i+n.length)+"^"};Ii.prototype.toString=function(t){var r,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(r=this.getSnippet(),r&&(n+=`:
`+r)),n};var Bd=Ii,qd=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Hd=["scalar","sequence","mapping"];function Wd(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function zd(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(qd.indexOf(r)===-1)throw new Oe('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=Wd(t.styleAliases||null),Hd.indexOf(this.kind)===-1)throw new Oe('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var me=zd;function ji(e,t,r){var n=[];return e.include.forEach(function(i){r=ji(i,t,r)}),e[t].forEach(function(i){r.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&n.push(o)}),r.push(i)}),r.filter(function(i,s){return n.indexOf(s)===-1})}function Yd(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},t,r;function n(i){e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function nr(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&t.loadKind!=="scalar")throw new Oe("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=ji(this,"implicit",[]),this.compiledExplicit=ji(this,"explicit",[]),this.compiledTypeMap=Yd(this.compiledImplicit,this.compiledExplicit)}nr.DEFAULT=null;nr.create=function(){var t,r;switch(arguments.length){case 1:t=nr.DEFAULT,r=arguments[0];break;case 2:t=arguments[0],r=arguments[1];break;default:throw new Oe("Wrong number of arguments for Schema.create function")}if(t=oe.toArray(t),r=oe.toArray(r),!t.every(function(n){return n instanceof nr}))throw new Oe("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(n){return n instanceof me}))throw new Oe("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new nr({include:t,explicit:r})};var Rt=nr,Kd=new me("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Vd=new me("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Qd=new me("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Fi=new Rt({explicit:[Kd,Vd,Qd]});function Jd(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Xd(){return null}function Zd(e){return e===null}var eg=new me("tag:yaml.org,2002:null",{kind:"scalar",resolve:Jd,construct:Xd,predicate:Zd,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"});function tg(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function rg(e){return e==="true"||e==="True"||e==="TRUE"}function ng(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var ig=new me("tag:yaml.org,2002:bool",{kind:"scalar",resolve:tg,construct:rg,predicate:ng,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function sg(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function og(e){return 48<=e&&e<=55}function ag(e){return 48<=e&&e<=57}function lg(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!sg(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}for(;r<t;r++)if(i=e[r],i!=="_"){if(!og(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(i===":")break;if(!ag(e.charCodeAt(r)))return!1;n=!0}return!n||i==="_"?!1:i!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(r))}function ug(e){var t=e,r=1,n,i,s=[];return t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0"?0:n==="0"?t[1]==="b"?r*parseInt(t.slice(2),2):t[1]==="x"?r*parseInt(t,16):r*parseInt(t,8):t.indexOf(":")!==-1?(t.split(":").forEach(function(o){s.unshift(parseInt(o,10))}),t=0,i=1,s.forEach(function(o){t+=o*i,i*=60}),r*t):r*parseInt(t,10)}function cg(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!oe.isNegativeZero(e)}var hg=new me("tag:yaml.org,2002:int",{kind:"scalar",resolve:lg,construct:ug,predicate:cg,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),pg=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function fg(e){return!(e===null||!pg.test(e)||e[e.length-1]==="_")}function dg(e){var t,r,n,i;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(s){i.unshift(parseFloat(s,10))}),t=0,n=1,i.forEach(function(s){t+=s*n,n*=60}),r*t):r*parseFloat(t,10)}var gg=/^[-+]?[0-9]+e/;function mg(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(oe.isNegativeZero(e))return"-0.0";return r=e.toString(10),gg.test(r)?r.replace("e",".e"):r}function _g(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||oe.isNegativeZero(e))}var bg=new me("tag:yaml.org,2002:float",{kind:"scalar",resolve:fg,construct:dg,predicate:_g,represent:mg,defaultStyle:"lowercase"}),Qa=new Rt({include:[Fi],implicit:[eg,ig,hg,bg]}),Ja=new Rt({include:[Qa]}),Xa=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Za=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function vg(e){return e===null?!1:Xa.exec(e)!==null||Za.exec(e)!==null}function wg(e){var t,r,n,i,s,o,a,l=0,u=null,c,h,d;if(t=Xa.exec(e),t===null&&(t=Za.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=+t[10],h=+(t[11]||0),u=(c*60+h)*6e4,t[9]==="-"&&(u=-u)),d=new Date(Date.UTC(r,n,i,s,o,a,l)),u&&d.setTime(d.getTime()-u),d}function yg(e){return e.toISOString()}var Eg=new me("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:vg,construct:wg,instanceOf:Date,represent:yg});function Tg(e){return e==="<<"||e===null}var xg=new me("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Tg}),Pt;try{el=rn,Pt=el("buffer").Buffer}catch(e){}var el,Gi=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function kg(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Gi;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function Ag(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Gi,o=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),Pt?Pt.from?Pt.from(a):new Pt(a):a}function Sg(e){var t="",r=0,n,i,s=e.length,o=Gi;for(n=0;n<s;n++)n%3==0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function Rg(e){return Pt&&Pt.isBuffer(e)}var Pg=new me("tag:yaml.org,2002:binary",{kind:"scalar",resolve:kg,construct:Ag,predicate:Rg,represent:Sg}),Og=Object.prototype.hasOwnProperty,Cg=Object.prototype.toString;function Ig(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,Cg.call(i)!=="[object Object]")return!1;for(s in i)if(Og.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function jg(e){return e!==null?e:[]}var Fg=new me("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Ig,construct:jg}),Gg=Object.prototype.toString;function Lg(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],Gg.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function Dg(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var $g=new me("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Lg,construct:Dg}),Ng=Object.prototype.hasOwnProperty;function Ug(e){if(e===null)return!0;var t,r=e;for(t in r)if(Ng.call(r,t)&&r[t]!==null)return!1;return!0}function Mg(e){return e!==null?e:{}}var Bg=new me("tag:yaml.org,2002:set",{kind:"mapping",resolve:Ug,construct:Mg}),ir=new Rt({include:[Ja],implicit:[Eg,xg],explicit:[Pg,Fg,$g,Bg]});function qg(){return!0}function Hg(){}function Wg(){return""}function zg(e){return typeof e=="undefined"}var Yg=new me("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:qg,construct:Hg,predicate:zg,represent:Wg});function Kg(e){if(e===null||e.length===0)return!1;var t=e,r=/\/([gim]*)$/.exec(e),n="";return!(t[0]==="/"&&(r&&(n=r[1]),n.length>3||t[t.length-n.length-1]!=="/"))}function Vg(e){var t=e,r=/\/([gim]*)$/.exec(e),n="";return t[0]==="/"&&(r&&(n=r[1]),t=t.slice(1,t.length-n.length-1)),new RegExp(t,n)}function Qg(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function Jg(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var Xg=new me("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:Kg,construct:Vg,predicate:Jg,represent:Qg}),wn;try{tl=rn,wn=tl("esprima")}catch(e){typeof window!="undefined"&&(wn=window.esprima)}var tl;function Zg(e){if(e===null)return!1;try{var t="("+e+")",r=wn.parse(t,{range:!0});return!(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")}catch(n){return!1}}function em(e){var t="("+e+")",r=wn.parse(t,{range:!0}),n=[],i;if(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(s){n.push(s.name)}),i=r.body[0].expression.body.range,r.body[0].expression.body.type==="BlockStatement"?new Function(n,t.slice(i[0]+1,i[1]-1)):new Function(n,"return "+t.slice(i[0],i[1]))}function tm(e){return e.toString()}function rm(e){return Object.prototype.toString.call(e)==="[object Function]"}var nm=new me("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:Zg,construct:em,predicate:rm,represent:tm}),yn=Rt.DEFAULT=new Rt({include:[ir],explicit:[Yg,Xg,nm]}),ht=Object.prototype.hasOwnProperty,En=1,rl=2,nl=3,Tn=4,Li=1,im=2,il=3,sm=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,om=/[\x85\u2028\u2029]/,am=/[,\[\]\{\}]/,sl=/^(?:!|!!|![a-z\-]+!)$/i,ol=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function al(e){return Object.prototype.toString.call(e)}function ze(e){return e===10||e===13}function Ot(e){return e===9||e===32}function Ce(e){return e===9||e===32||e===10||e===13}function sr(e){return e===44||e===91||e===93||e===123||e===125}function lm(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function um(e){return e===120?2:e===117?4:e===85?8:0}function cm(e){return 48<=e&&e<=57?e-48:-1}function ll(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"Â":e===95?"Â ":e===76?"\u2028":e===80?"\u2029":""}function hm(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var ul=new Array(256),cl=new Array(256);for(var or=0;or<256;or++)ul[or]=ll(or)?1:0,cl[or]=ll(or);function pm(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||yn,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function hl(e,t){return new Oe(t,new Bd(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function N(e,t){throw hl(e,t)}function xn(e,t){e.onWarning&&e.onWarning.call(null,hl(e,t))}var pl={YAML:function(t,r,n){var i,s,o;t.version!==null&&N(t,"duplication of %YAML directive"),n.length!==1&&N(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&N(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&N(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&xn(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&N(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],sl.test(i)||N(t,"ill-formed tag handle (first argument) of the TAG directive"),ht.call(t.tagMap,i)&&N(t,'there is a previously declared suffix for "'+i+'" tag handle'),ol.test(s)||N(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[i]=s}};function pt(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||N(e,"expected valid JSON character");else sm.test(a)&&N(e,"the stream contains non-printable characters");e.result+=a}}function fl(e,t,r,n){var i,s,o,a;for(oe.isObject(r)||N(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],ht.call(t,s)||(t[s]=r[s],n[s]=!0)}function ar(e,t,r,n,i,s,o,a){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&N(e,"nested arrays are not supported inside keys"),typeof i=="object"&&al(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&al(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,u=s.length;l<u;l+=1)fl(e,t,s[l],r);else fl(e,t,s,r);else!e.json&&!ht.call(r,i)&&ht.call(t,i)&&(e.line=o||e.line,e.position=a||e.position,N(e,"duplicated mapping key")),t[i]=s,delete r[i];return t}function Di(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):N(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function ae(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Ot(i);)i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ze(i))for(Di(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&xn(e,"deficient indentation"),n}function kn(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ce(r)))}function $i(e,t){t===1?e.result+=" ":t>1&&(e.result+=oe.repeat(`
`,t-1))}function fm(e,t,r){var n,i,s,o,a,l,u,c,h=e.kind,d=e.result,f;if(f=e.input.charCodeAt(e.position),Ce(f)||sr(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(i=e.input.charCodeAt(e.position+1),Ce(i)||r&&sr(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;f!==0;){if(f===58){if(i=e.input.charCodeAt(e.position+1),Ce(i)||r&&sr(i))break}else if(f===35){if(n=e.input.charCodeAt(e.position-1),Ce(n))break}else{if(e.position===e.lineStart&&kn(e)||r&&sr(f))break;if(ze(f))if(l=e.line,u=e.lineStart,c=e.lineIndent,ae(e,!1,-1),e.lineIndent>=t){a=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=u,e.lineIndent=c;break}}a&&(pt(e,s,o,!1),$i(e,e.line-l),s=o=e.position,a=!1),Ot(f)||(o=e.position+1),f=e.input.charCodeAt(++e.position)}return pt(e,s,o,!1),e.result?!0:(e.kind=h,e.result=d,!1)}function dm(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(pt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else ze(r)?(pt(e,n,i,!0),$i(e,ae(e,!1,t)),n=i=e.position):e.position===e.lineStart&&kn(e)?N(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);N(e,"unexpected end of the stream within a single quoted scalar")}function gm(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return pt(e,r,e.position,!0),e.position++,!0;if(a===92){if(pt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),ze(a))ae(e,!1,t);else if(a<256&&ul[a])e.result+=cl[a],e.position++;else if((o=um(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=lm(a))>=0?s=(s<<4)+o:N(e,"expected hexadecimal character");e.result+=hm(s),e.position++}else N(e,"unknown escape sequence");r=n=e.position}else ze(a)?(pt(e,r,n,!0),$i(e,ae(e,!1,t)),r=n=e.position):e.position===e.lineStart&&kn(e)?N(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}N(e,"unexpected end of the stream within a double quoted scalar")}function mm(e,t){var r=!0,n,i=e.tag,s,o=e.anchor,a,l,u,c,h,d={},f,T,R,v;if(v=e.input.charCodeAt(e.position),v===91)l=93,h=!1,s=[];else if(v===123)l=125,h=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),v=e.input.charCodeAt(++e.position);v!==0;){if(ae(e,!0,t),v=e.input.charCodeAt(e.position),v===l)return e.position++,e.tag=i,e.anchor=o,e.kind=h?"mapping":"sequence",e.result=s,!0;r||N(e,"missed comma between flow collection entries"),T=f=R=null,u=c=!1,v===63&&(a=e.input.charCodeAt(e.position+1),Ce(a)&&(u=c=!0,e.position++,ae(e,!0,t))),n=e.line,lr(e,t,En,!1,!0),T=e.tag,f=e.result,ae(e,!0,t),v=e.input.charCodeAt(e.position),(c||e.line===n)&&v===58&&(u=!0,v=e.input.charCodeAt(++e.position),ae(e,!0,t),lr(e,t,En,!1,!0),R=e.result),h?ar(e,s,d,T,f,R):u?s.push(ar(e,null,d,T,f,R)):s.push(f),ae(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}N(e,"unexpected end of the stream within a flow collection")}function _m(e,t){var r,n,i=Li,s=!1,o=!1,a=t,l=0,u=!1,c,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)Li===i?i=h===43?il:im:N(e,"repeat of a chomping mode identifier");else if((c=cm(h))>=0)c===0?N(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?N(e,"repeat of an indentation width identifier"):(a=t+c-1,o=!0);else break;if(Ot(h)){do h=e.input.charCodeAt(++e.position);while(Ot(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!ze(h)&&h!==0)}for(;h!==0;){for(Di(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),ze(h)){l++;continue}if(e.lineIndent<a){i===il?e.result+=oe.repeat(`
`,s?1+l:l):i===Li&&s&&(e.result+=`
`);break}for(n?Ot(h)?(u=!0,e.result+=oe.repeat(`
`,s?1+l:l)):u?(u=!1,e.result+=oe.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=oe.repeat(`
`,l):e.result+=oe.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!ze(h)&&h!==0;)h=e.input.charCodeAt(++e.position);pt(e,r,e.position,!1)}return!0}function dl(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&!(l!==45||(o=e.input.charCodeAt(e.position+1),!Ce(o)));){if(a=!0,e.position++,ae(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,lr(e,t,nl,!1,!0),s.push(e.result),ae(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)N(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function bm(e,t,r){var n,i,s,o,a=e.tag,l=e.anchor,u={},c={},h=null,d=null,f=null,T=!1,R=!1,v;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),v=e.input.charCodeAt(e.position);v!==0;){if(n=e.input.charCodeAt(e.position+1),s=e.line,o=e.position,(v===63||v===58)&&Ce(n))v===63?(T&&(ar(e,u,c,h,d,null),h=d=f=null),R=!0,T=!0,i=!0):T?(T=!1,i=!0):N(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else if(lr(e,r,rl,!1,!0))if(e.line===s){for(v=e.input.charCodeAt(e.position);Ot(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),Ce(v)||N(e,"a whitespace character is expected after the key-value separator within a block mapping"),T&&(ar(e,u,c,h,d,null),h=d=f=null),R=!0,T=!1,i=!1,h=e.tag,d=e.result;else if(R)N(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=a,e.anchor=l,!0}else if(R)N(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=a,e.anchor=l,!0;else break;if((e.line===s||e.lineIndent>t)&&(lr(e,t,Tn,!0,i)&&(T?d=e.result:f=e.result),T||(ar(e,u,c,h,d,f,s,o),h=d=f=null),ae(e,!0,-1),v=e.input.charCodeAt(e.position)),e.lineIndent>t&&v!==0)N(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return T&&ar(e,u,c,h,d,null),R&&(e.tag=a,e.anchor=l,e.kind="mapping",e.result=u),R}function vm(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&N(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):N(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ce(o);)o===33&&(n?N(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),sl.test(i)||N(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),am.test(s)&&N(e,"tag suffix cannot contain flow indicator characters")}return s&&!ol.test(s)&&N(e,"tag name cannot contain such characters: "+s),r?e.tag=s:ht.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:N(e,'undeclared tag handle "'+i+'"'),!0}function wm(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&N(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ce(r)&&!sr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&N(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function ym(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Ce(n)&&!sr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&N(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),ht.call(e.anchorMap,r)||N(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ae(e,!0,-1),!0}function lr(e,t,r,n,i){var s,o,a,l=1,u=!1,c=!1,h,d,f,T,R;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Tn===r||nl===r,n&&ae(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;vm(e)||wm(e);)ae(e,!0,-1)?(u=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=u||i),(l===1||Tn===r)&&(En===r||rl===r?T=t:T=t+1,R=e.position-e.lineStart,l===1?a&&(dl(e,R)||bm(e,R,T))||mm(e,T)?c=!0:(o&&_m(e,T)||dm(e,T)||gm(e,T)?c=!0:ym(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&N(e,"alias node should not have any properties")):fm(e,T,En===r)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(c=a&&dl(e,R))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&N(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,d=e.implicitTypes.length;h<d;h+=1)if(f=e.implicitTypes[h],f.resolve(e.result)){e.result=f.construct(e.result),e.tag=f.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else ht.call(e.typeMap[e.kind||"fallback"],e.tag)?(f=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&f.kind!==e.kind&&N(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+f.kind+'", not "'+e.kind+'"'),f.resolve(e.result)?(e.result=f.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):N(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):N(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function Em(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(o=e.input.charCodeAt(e.position))!==0&&(ae(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Ce(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&N(e,"directive name must not be less than one character in length");o!==0;){for(;Ot(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ze(o));break}if(ze(o))break;for(r=e.position;o!==0&&!Ce(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&Di(e),ht.call(pl,n)?pl[n](e,n,i):xn(e,'unknown document directive "'+n+'"')}if(ae(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ae(e,!0,-1)):s&&N(e,"directives end mark is expected"),lr(e,e.lineIndent-1,Tn,!1,!0),ae(e,!0,-1),e.checkLineBreaks&&om.test(e.input.slice(t,e.position))&&xn(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&kn(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ae(e,!0,-1));return}if(e.position<e.length-1)N(e,"end of the stream or a document separator is expected");else return}function gl(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new pm(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,N(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Em(r);return r.documents}function ml(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=gl(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function _l(e,t){var r=gl(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Oe("expected a single document in the stream, but found more")}}function Tm(e,t,r){return typeof t=="object"&&t!==null&&typeof r=="undefined"&&(r=t,t=null),ml(e,t,oe.extend({schema:ir},r))}function xm(e,t){return _l(e,oe.extend({schema:ir},t))}var km=ml,Am=_l,Sm=Tm,Rm=xm,An={loadAll:km,load:Am,safeLoadAll:Sm,safeLoad:Rm},bl=Object.prototype.toString,vl=Object.prototype.hasOwnProperty,Pm=9,jr=10,Om=13,Cm=32,Im=33,jm=34,wl=35,Fm=37,Gm=38,Lm=39,Dm=42,yl=44,$m=45,El=58,Nm=61,Um=62,Mm=63,Bm=64,Tl=91,xl=93,qm=96,kl=123,Hm=124,Al=125,xe={};xe[0]="\\0";xe[7]="\\a";xe[8]="\\b";xe[9]="\\t";xe[10]="\\n";xe[11]="\\v";xe[12]="\\f";xe[13]="\\r";xe[27]="\\e";xe[34]='\\"';xe[92]="\\\\";xe[133]="\\N";xe[160]="\\_";xe[8232]="\\L";xe[8233]="\\P";var Wm=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function zm(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&vl.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function Sl(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Oe("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+oe.repeat("0",n-t.length)+t}function Ym(e){this.schema=e.schema||yn,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=oe.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=zm(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Rl(e,t){for(var r=oe.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Ni(e,t){return`
`+oe.repeat(" ",e.indent*t)}function Km(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Ui(e){return e===Cm||e===Pm}function ur(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function Vm(e){return ur(e)&&!Ui(e)&&e!==65279&&e!==Om&&e!==jr}function Pl(e,t){return ur(e)&&e!==65279&&e!==yl&&e!==Tl&&e!==xl&&e!==kl&&e!==Al&&e!==El&&(e!==wl||t&&Vm(t))}function Qm(e){return ur(e)&&e!==65279&&!Ui(e)&&e!==$m&&e!==Mm&&e!==El&&e!==yl&&e!==Tl&&e!==xl&&e!==kl&&e!==Al&&e!==wl&&e!==Gm&&e!==Dm&&e!==Im&&e!==Hm&&e!==Nm&&e!==Um&&e!==Lm&&e!==jm&&e!==Fm&&e!==Bm&&e!==qm}function Ol(e){var t=/^\n* /;return t.test(e)}var Cl=1,Il=2,jl=3,Fl=4,Sn=5;function Jm(e,t,r,n,i){var s,o,a,l=!1,u=!1,c=n!==-1,h=-1,d=Qm(e.charCodeAt(0))&&!Ui(e.charCodeAt(e.length-1));if(t)for(s=0;s<e.length;s++){if(o=e.charCodeAt(s),!ur(o))return Sn;a=s>0?e.charCodeAt(s-1):null,d=d&&Pl(o,a)}else{for(s=0;s<e.length;s++){if(o=e.charCodeAt(s),o===jr)l=!0,c&&(u=u||s-h-1>n&&e[h+1]!==" ",h=s);else if(!ur(o))return Sn;a=s>0?e.charCodeAt(s-1):null,d=d&&Pl(o,a)}u=u||c&&s-h-1>n&&e[h+1]!==" "}return!l&&!u?d&&!i(e)?Cl:Il:r>9&&Ol(e)?Sn:u?Fl:jl}function e_(e,t,r,n){e.dump=function(){if(t.length===0)return"''";if(!e.noCompatMode&&Wm.indexOf(t)!==-1)return"'"+t+"'";var i=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),o=n||e.flowLevel>-1&&r>=e.flowLevel;function a(l){return Km(e,l)}switch(Jm(t,o,e.indent,s,a)){case Cl:return t;case Il:return"'"+t.replace(/'/g,"''")+"'";case jl:return"|"+Gl(t,e.indent)+Ll(Rl(t,i));case Fl:return">"+Gl(t,e.indent)+Ll(Rl(Xm(t,s),i));case Sn:return'"'+Zm(t)+'"';default:throw new Oe("impossible error: invalid scalar style")}}()}function Gl(e,t){var r=Ol(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function Ll(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Xm(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,Dl(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+Dl(l,t),i=s}return n}function Dl(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function Zm(e){for(var t="",r,n,i,s=0;s<e.length;s++){if(r=e.charCodeAt(s),r>=55296&&r<=56319&&(n=e.charCodeAt(s+1),n>=56320&&n<=57343)){t+=Sl((r-55296)*1024+n-56320+65536),s++;continue}i=xe[r],t+=!i&&ur(r)?e[s]:i||Sl(r)}return t}function t_(e,t,r){var n="",i=e.tag,s,o;for(s=0,o=r.length;s<o;s+=1)Ct(e,t,r[s],!1,!1)&&(s!==0&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function r_(e,t,r,n){var i="",s=e.tag,o,a;for(o=0,a=r.length;o<a;o+=1)Ct(e,t+1,r[o],!0,!0)&&((!n||o!==0)&&(i+=Ni(e,t)),e.dump&&jr===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function n_(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,u,c;for(o=0,a=s.length;o<a;o+=1)c="",o!==0&&(c+=", "),e.condenseFlow&&(c+='"'),l=s[o],u=r[l],!!Ct(e,t,l,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!Ct(e,t,u,!1,!1)&&(c+=e.dump,n+=c));e.tag=i,e.dump="{"+n+"}"}function i_(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,u,c,h,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Oe("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!n||a!==0)&&(d+=Ni(e,t)),u=o[a],c=r[u],!!Ct(e,t+1,u,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&jr===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,h&&(d+=Ni(e,t)),!!Ct(e,t+1,c,!0,h)&&(e.dump&&jr===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=s,e.dump=i||"{}"}function $l(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(e.tag=r?a.tag:"?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,bl.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(vl.call(a.represent,l))n=a.represent[l](t,l);else throw new Oe("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function Ct(e,t,r,n,i,s){e.tag=null,e.dump=r,$l(e,r,!1)||$l(e,r,!0);var o=bl.call(e.dump);n&&(n=e.flowLevel<0||e.flowLevel>t);var a=o==="[object Object]"||o==="[object Array]",l,u;if(a&&(l=e.duplicates.indexOf(r),u=l!==-1),(e.tag!==null&&e.tag!=="?"||u||e.indent!==2&&t>0)&&(i=!1),u&&e.usedDuplicates[l])e.dump="*ref_"+l;else{if(a&&u&&!e.usedDuplicates[l]&&(e.usedDuplicates[l]=!0),o==="[object Object]")n&&Object.keys(e.dump).length!==0?(i_(e,t,e.dump,i),u&&(e.dump="&ref_"+l+e.dump)):(n_(e,t,e.dump),u&&(e.dump="&ref_"+l+" "+e.dump));else if(o==="[object Array]"){var c=e.noArrayIndent&&t>0?t-1:t;n&&e.dump.length!==0?(r_(e,c,e.dump,i),u&&(e.dump="&ref_"+l+e.dump)):(t_(e,c,e.dump),u&&(e.dump="&ref_"+l+" "+e.dump))}else if(o==="[object String]")e.tag!=="?"&&e_(e,e.dump,t,s);else{if(e.skipInvalid)return!1;throw new Oe("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function s_(e,t){var r=[],n=[],i,s;for(Mi(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function Mi(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Mi(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Mi(e[n[i]],t,r)}function Nl(e,t){t=t||{};var r=new Ym(t);return r.noRefs||s_(e,r),Ct(r,0,e,!0,!0)?r.dump+`
`:""}function o_(e,t){return Nl(e,oe.extend({schema:ir},t))}var a_=Nl,l_=o_,Ul={dump:a_,safeDump:l_};function Rn(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var u_=me,c_=Rt,h_=Fi,p_=Qa,f_=Ja,d_=ir,g_=yn,m_=An.load,__=An.loadAll,b_=An.safeLoad,v_=An.safeLoadAll,w_=Ul.dump,y_=Ul.safeDump,E_=Oe,T_=Fi,x_=ir,k_=yn,A_=Rn("scan"),S_=Rn("parse"),R_=Rn("compose"),P_=Rn("addConstructor"),O_={Type:u_,Schema:c_,FAILSAFE_SCHEMA:h_,JSON_SCHEMA:p_,CORE_SCHEMA:f_,DEFAULT_SAFE_SCHEMA:d_,DEFAULT_FULL_SCHEMA:g_,load:m_,loadAll:__,safeLoad:b_,safeLoadAll:v_,dump:w_,safeDump:y_,YAMLException:E_,MINIMAL_SCHEMA:T_,SAFE_SCHEMA:x_,DEFAULT_SCHEMA:k_,scan:A_,parse:S_,compose:R_,addConstructor:P_},C_=O_,Ml=C_;var Fr=document.querySelector("#env-json").innerHTML.trim()!==""?JSON.parse(document.querySelector("#env-json").innerHTML):{API:"https://api.biblogos.info"};function cr(){let e={};return function(t,r,n){let i=n.value;n.value=function(...s){let o=`__cacheKey__${s.toString()}`;return e.hasOwnProperty(o)||(e[o]=i.apply(this,s)),e[o]}}}var Gr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Lr="http://www.w3.org/2001/XMLSchema#",Bi="http://www.w3.org/2000/10/swap/",Ae={xsd:{decimal:`${Lr}decimal`,boolean:`${Lr}boolean`,double:`${Lr}double`,integer:`${Lr}integer`,string:`${Lr}string`},rdf:{type:`${Gr}type`,nil:`${Gr}nil`,first:`${Gr}first`,rest:`${Gr}rest`,langString:`${Gr}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Bi}reify#forSome`,forAll:`${Bi}reify#forAll`},log:{implies:`${Bi}log#implies`}};var Bl,I_=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:Be):e=>(Bl||(Bl=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),{xsd:Pn}=Ae,j_=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,ql={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},F_=/[\x00-\x20<>\\"\{\}\|\^\`]/,G_={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},L_=/$0^/,Hl=class{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(let r in this)!(r in G_)&&this[r]instanceof RegExp&&(this[r]=L_)}else this._n3Mode=t.n3!==!1;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let n=this._input,i=this._comments;for(;;){let o,a;for(;o=this._newline.exec(n);)i&&(a=this._comment.exec(o[0]))&&t(null,{line:this._line,type:"comment",value:a[1],prefix:""}),n=n.substr(o[0].length,n.length),this._line++;if(!o&&(o=this._whitespace.exec(n))&&(n=n.substr(o[0].length,n.length)),this._endOfFile.test(n))return r&&(i&&(a=this._comment.exec(n))&&t(null,{line:this._line,type:"comment",value:a[1],prefix:""}),t(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;let l=this._line,u=n[0],c="",h="",d="",f=null,T=0,R=!1;switch(u){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){R=!0;break}}else{this._n3Mode&&(T=1,c="^");break}case"<":if(f=this._unescapedIri.exec(n))c="IRI",h=f[1];else if(f=this._iri.exec(n)){if(h=this._unescape(f[1]),h===null||F_.test(h))return s(this);c="IRI"}else n.length>1&&n[1]==="<"?(c="<<",T=2):this._n3Mode&&n.length>1&&n[1]==="="&&(c="inverse",T=2,h=">");break;case">":n.length>1&&n[1]===">"&&(c=">>",T=2);break;case"_":((f=this._blank.exec(n))||r&&(f=this._blank.exec(`${n} `)))&&(c="blank",d="_",h=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(n))h=f[1];else if({value:h,matchLength:T}=this._parseLiteral(n),h===null)return s(this);(f!==null||T!==0)&&(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(n))h=f[1];else if({value:h,matchLength:T}=this._parseLiteral(n),h===null)return s(this);(f!==null||T!==0)&&(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(n))&&(c="var",h=f[0]);break;case"@":this._previousMarker==="literal"&&(f=this._langcode.exec(n))?(c="langcode",h=f[1]):(f=this._keyword.exec(n))&&(c=f[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){c=".",T=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(n)||r&&(f=this._number.exec(`${n} `)))&&(c="literal",h=f[0],d=typeof f[1]=="string"?Pn.double:typeof f[2]=="string"?Pn.decimal:Pn.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(n))?c=f[0].toUpperCase():R=!0;break;case"f":case"t":(f=this._boolean.exec(n))?(c="literal",h=f[0],d=Pn.boolean):R=!0;break;case"a":(f=this._shortPredicates.exec(n))?(c="abbreviation",h="a"):R=!0;break;case"=":this._n3Mode&&n.length>1&&(c="abbreviation",n[1]!==">"?(T=1,h="="):(T=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(T=1,c=u);break;default:R=!0}if(R&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(f=this._prefix.exec(n))?(c="prefix",h=f[1]||""):((f=this._prefixed.exec(n))||r&&(f=this._prefixed.exec(`${n} `)))&&(c="prefixed",d=f[1]||"",h=this._unescape(f[2]))),this._previousMarker==="^^")switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?s(this):this._input=n;let v={line:l,type:c,value:h,prefix:d};t(null,v),this.previousToken=v,this._previousMarker=c,n=n.substr(T||f[0].length,n.length)}function s(o){t(o._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let r=!1,n=t.replace(j_,(i,s,o,a)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return a in ql?ql[a]:(r=!0,"")});return r?null:n}_parseLiteral(t){if(t.length>=3){let r=t.match(/^(?:"""|"|'''|'|)/)[0],n=r.length,i=Math.max(this._literalClosingPos,n);for(;(i=t.indexOf(r,i))>0;){let s=0;for(;t[i-s-1]==="\\";)s++;if(s%2==0){let o=t.substring(n,i),a=o.split(/\r\n|\r|\n/).length-1,l=i+n;if(n===1&&a!==0||n===3&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;let r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")I_(()=>this._tokenizeToEnd(r,!0));else{let n=[],i;if(this._tokenizeToEnd((s,o)=>s?i=s:n.push(o),!0),i)throw i;return n}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=y.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input=="undefined"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}};function D_(e){return!!e&&e.termType==="DefaultGraph"}var{rdf:$_,xsd:It}=Ae,Dr,N_=0,Wl=/^"(.*".*)(?="[^"]*$)/,U_=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,On={namedNode:M_,blankNode:B_,variable:H_,literal:q_,defaultGraph:W_,quad:zl,triple:zl},Ye=class{constructor(t){this.id=t}get value(){return this.id}get hashCode(){return 0}equals(t){return t instanceof Ye?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}toJSON(){return{termType:this.termType,value:this.value}}},qi=class extends Ye{get termType(){return"NamedNode"}},jt=class extends Ye{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){let t=this.id,r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new qi(this.datatypeString)}get datatypeString(){let t=this.id,r=t.lastIndexOf('"')+1,n=r<t.length?t[r]:"";return n==="^"?t.substr(r+2):n!=="@"?It.string:$_.langString}equals(t){return t instanceof jt?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},Yl=class extends Ye{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Kl=class extends Ye{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Vl=class extends Ye{constructor(){return super(""),Dr||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};Dr=new Vl;function nt(e,t){if(t=t||On,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===On)return new jt(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));let r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"<":let n=U_.exec(e);return t.quad(nt(Cn(n[1]),t),nt(Cn(n[2]),t),nt(Cn(n[3]),t),n[4]&&nt(Cn(n[4]),t));default:return t.namedNode(e)}}function K(e){if(typeof e=="string")return e;if(e instanceof Ye&&e.termType!=="Quad")return e.id;if(!e)return Dr.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==It.string?`^^${e.datatype.value}`:""}`;case"Quad":return`<<${Hi(K(e.subject))} ${Hi(K(e.predicate))} ${Hi(K(e.object))}${D_(e.graph)?"":` ${K(e.graph)}`}>>`;default:throw new Error(`Unexpected termType: ${e.termType}`)}}var Ql=class extends Ye{constructor(t,r,n,i){super("");this._subject=t,this._predicate=r,this._object=n,this._graph=i||Dr}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function Hi(e){return e.replace(Wl,(t,r)=>`"${r.replace(/"/g,'""')}`)}function Cn(e){return e.replace(Wl,(t,r)=>`"${r.replace(/""/g,'"')}`)}function M_(e){return new qi(e)}function B_(e){return new Yl(e||`n3-${N_++}`)}function q_(e,t){if(typeof t=="string")return new jt(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=It.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?It.integer:It.double:(r=It.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===It.string?new jt(`"${e}"`):new jt(`"${e}"^^${r}`)}function H_(e){return new Kl(e)}function W_(){return Dr}function zl(e,t,r,n){return new Ql(e,t,r,n)}var Jl=0,In=class{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&Xl(this,t.factory);let r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),i=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),a=this._n3Mode=/n3/.test(r),l=s||o;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||s||a),this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new Hl({lineMode:l,n3:a}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){Jl=0}_setBase(t){if(!t)this._base="",this._basePath="";else{let r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,n,i,s){let o=this._n3Mode;this._contextStack.push({subject:n,predicate:i,object:s,graph:r,type:t,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.id.substr(2)}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(){let t=this._contextStack.pop(),r=this._n3Mode;this._subject=t.subject,this._predicate=t.predicate,this._object=t.object,this._graph=t.graph,r&&(this._inversePredicate=t.inverse,this._prefixes._=t.blankPrefix,this._quantified=t.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let n;switch(t.type){case"IRI":case"typeIRI":let i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);n=this._namedNode(i);break;case"type":case"prefixed":let s=this._prefixes[t.prefix];if(s===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._namedNode(s+t.value);break;case"blank":n=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){let r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);let r=this._predicate===null;return this._restoreContext(),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,n=null,i=this._readListItem,s=this._subject,o=this._contextStack,a=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;n=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(r=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?a.predicate===null?a.subject=n:a.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":let n=this._readEntity(t);if(n===void 0)return;r=this._literal(this._literalValue,n),t=null;break;case"langcode":r=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){let n=this._completeLiteral(t);if(!!n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,n=this._graph,i=this._subject,s=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){let o=this._predicate,a=this._object;s?this._emit(a,o,i,n):this._emit(i,o,a,n)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);let r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){let r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:let r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){let i=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,n,i=this._blankNode();if((n=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=i):(r=this._object,this._object=i),this._emit(r,n,i,this._graph),this._readPath}_readBackwardPath(t){let r=this._blankNode(),n,i;if((n=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=r):(i=this._object,this._object=r),this._emit(r,n,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);let r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){let t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,n,i){this._callback(null,this._quad(t,r,n,i||this.DEFAULTGRAPH))}_error(t,r){let n=new Error(`${t} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=Wi}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;let r=t.length,n="",i=-1,s=-1,o=0,a="/";for(;i<r;){switch(a){case":":if(s<0&&t[++i]==="/"&&t[++i]==="/")for(;(s=i+1)<r&&t[s]!=="/";)i=s;break;case"?":case"#":i=r;break;case"/":if(t[i+1]===".")switch(a=t[++i+1],a){case"/":n+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return n+t.substring(o,i)+t.substr(i+1);case".":if(a=t[++i+1],a===void 0||a==="/"||a==="?"||a==="#"){if(n+=t.substring(o,i-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),a!=="/")return`${n}/${t.substr(i+1)}`;o=i+1}}}a=t[++i]}return n+t.substring(o)}parse(t,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Jl++}_`,this._prefixCallback=n||Wi,this._inversePredicate=!1,this._quantified=Object.create(null),!r){let i=[],s;if(this._callback=(o,a)=>{o?s=o:a&&i.push(a)},this._lexer.tokenize(t).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return i}this._callback=r,this._lexer.tokenize(t,(i,s)=>{i!==null?(this._callback(i),this._callback=Wi):this._readCallback&&(this._readCallback=this._readCallback(s))})}};function Wi(){}function Xl(e,t){let r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(Ae.rdf.first),e.RDF_REST=r(Ae.rdf.rest),e.RDF_NIL=r(Ae.rdf.nil),e.N3_FORALL=r(Ae.r.forAll),e.N3_FORSOME=r(Ae.r.forSome),e.ABBREVIATIONS={a:r(Ae.rdf.type),"=":r(Ae.owl.sameAs),">":r(Ae.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}Xl(In.prototype,On);var z_;function ft(){}ft.prototype=Object.create(null);function Z(){Z.init.call(this)}Z.EventEmitter=Z;Z.usingDomains=!1;Z.prototype.domain=void 0;Z.prototype._events=void 0;Z.prototype._maxListeners=void 0;Z.defaultMaxListeners=10;Z.init=function(){this.domain=null,Z.usingDomains&&z_.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new ft,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Z.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this};function Zl(e){return e._maxListeners===void 0?Z.defaultMaxListeners:e._maxListeners}Z.prototype.getMaxListeners=function(){return Zl(this)};function Y_(e,t,r){if(t)e.call(r);else for(var n=e.length,i=$r(e,n),s=0;s<n;++s)i[s].call(r)}function K_(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,s=$r(e,i),o=0;o<i;++o)s[o].call(r,n)}function V_(e,t,r,n,i){if(t)e.call(r,n,i);else for(var s=e.length,o=$r(e,s),a=0;a<s;++a)o[a].call(r,n,i)}function Q_(e,t,r,n,i,s){if(t)e.call(r,n,i,s);else for(var o=e.length,a=$r(e,o),l=0;l<o;++l)a[l].call(r,n,i,s)}function J_(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,s=$r(e,i),o=0;o<i;++o)s[o].apply(r,n)}Z.prototype.emit=function(t){var r,n,i,s,o,a,l,u=t==="error";if(a=this._events,a)u=u&&a.error==null;else if(!u)return!1;if(l=this.domain,u){if(r=arguments[1],l)r||(r=new Error('Uncaught, unspecified "error" event')),r.domainEmitter=this,r.domain=l,r.domainThrown=!1,l.emit("error",r);else{if(r instanceof Error)throw r;var c=new Error('Uncaught, unspecified "error" event. ('+r+")");throw c.context=r,c}return!1}if(n=a[t],!n)return!1;var h=typeof n=="function";switch(i=arguments.length,i){case 1:Y_(n,h,this);break;case 2:K_(n,h,this,arguments[1]);break;case 3:V_(n,h,this,arguments[1],arguments[2]);break;case 4:Q_(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(i-1),o=1;o<i;o++)s[o-1]=arguments[o];J_(n,h,this,s)}return!0};function eu(e,t,r,n){var i,s,o;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(s=e._events,s?(s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]):(s=e._events=new ft,e._eventsCount=0),!o)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=Zl(e),i&&i>0&&o.length>i)){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,X_(a)}return e}function X_(e){typeof console.warn=="function"?console.warn(e):console.log(e)}Z.prototype.addListener=function(t,r){return eu(this,t,r,!1)};Z.prototype.on=Z.prototype.addListener;Z.prototype.prependListener=function(t,r){return eu(this,t,r,!0)};function tu(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}Z.prototype.once=function(t,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,tu(this,t,r)),this};Z.prototype.prependOnceListener=function(t,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,tu(this,t,r)),this};Z.prototype.removeListener=function(t,r){var n,i,s,o,a;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(n=i[t],!n)return this;if(n===r||n.listener&&n.listener===r)--this._eventsCount==0?this._events=new ft:(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length;o-- >0;)if(n[o]===r||n[o].listener&&n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new ft,this;delete i[t]}else Z_(n,s);i.removeListener&&this.emit("removeListener",t,a||r)}return this};Z.prototype.off=function(e,t){return this.removeListener(e,t)};Z.prototype.removeAllListeners=function(t){var r,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new ft,this._eventsCount=0):n[t]&&(--this._eventsCount==0?this._events=new ft:delete n[t]),this;if(arguments.length===0){for(var i=Object.keys(n),s=0,o;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new ft,this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r)do this.removeListener(t,r[r.length-1]);while(r[0]);return this};Z.prototype.listeners=function(t){var r,n,i=this._events;return i?(r=i[t],r?typeof r=="function"?n=[r.listener||r]:n=eb(r):n=[]):n=[],n};Z.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):ru.call(e,t)};Z.prototype.listenerCount=ru;function ru(e){var t=this._events;if(t){var r=t[e];if(typeof r=="function")return 1;if(r)return r.length}return 0}Z.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function Z_(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function $r(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}function eb(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}var tb=Object.freeze({__proto__:null,default:Z,EventEmitter:Z}),nu=Ar(tb),Ft=nu.EventEmitter,Gt=Ar($o);function iu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iu(Object(r),!0).forEach(function(n){rb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ib(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function su(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sb(e,t,r){return t&&su(e.prototype,t),r&&su(e,r),e}var jn=Gt.Buffer,zi=ct.inspect,ob=zi&&zi.custom||"inspect";function ab(e,t,r){jn.prototype.copy.call(e,t,r)}var lb=function(){function e(){ib(this,e),this.head=null,this.tail=null,this.length=0}return sb(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return jn.alloc(0);for(var n=jn.allocUnsafe(r>>>0),i=this.head,s=0;i;)ab(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=jn.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:ob,value:function(r,n){return zi(this,nb({},n,{depth:0,customInspect:!1}))}}]),e}();function ub(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,z.nextTick(Yi,this,e)):z.nextTick(Yi,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?z.nextTick(Fn,r):(r._writableState.errorEmitted=!0,z.nextTick(ou,r,s)):z.nextTick(ou,r,s):t?(z.nextTick(Fn,r),t(s)):z.nextTick(Fn,r)}),this)}function ou(e,t){Yi(e,t),Fn(e)}function Fn(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function cb(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Yi(e,t){e.emit("error",t)}function hb(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var hr={destroy:ub,undestroy:cb,errorOrDestroy:hb};function pb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var au={};function Ge(e,t,r){r||(r=Error);function n(s,o,a){return typeof t=="string"?t:t(s,o,a)}var i=function(s){pb(o,s);function o(a,l,u){return s.call(this,n(a,l,u))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=e,au[e]=i}function lu(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function fb(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function db(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function gb(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}Ge("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);Ge("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&fb(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(db(e," argument"))i="The ".concat(e," ").concat(n," ").concat(lu(t,"type"));else{var s=gb(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(lu(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ge("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ge("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});Ge("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ge("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});Ge("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ge("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ge("ERR_STREAM_WRITE_AFTER_END","write after end");Ge("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ge("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);Ge("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");var mb=au,pr={codes:mb},_b=pr.codes.ERR_INVALID_OPT_VALUE;function bb(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function vb(e,t,r,n){var i=bb(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new _b(s,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var uu={getHighWaterMark:vb},Nr=Qe(function(e){typeof Object.create=="function"?e.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),yb=wb;function wb(e,t){if(Ki("noDeprecation"))return e;var r=!1;function n(){if(!r){if(Ki("throwDeprecation"))throw new Error(t);Ki("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function Ki(e){try{if(!Be.localStorage)return!1}catch(r){return!1}var t=Be.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var Gn=ie;function cu(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Eb(t,e)}}var fr;ie.WritableState=Ur;var Tb={deprecate:yb},Ln=Gt.Buffer,xb=Be.Uint8Array||function(){};function kb(e){return Ln.from(e)}function Ab(e){return Ln.isBuffer(e)||e instanceof xb}var Sb=uu.getHighWaterMark,dt=pr.codes,Rb=dt.ERR_INVALID_ARG_TYPE,Pb=dt.ERR_METHOD_NOT_IMPLEMENTED,Ob=dt.ERR_MULTIPLE_CALLBACK,Cb=dt.ERR_STREAM_CANNOT_PIPE,Ib=dt.ERR_STREAM_DESTROYED,jb=dt.ERR_STREAM_NULL_VALUES,Fb=dt.ERR_STREAM_WRITE_AFTER_END,Gb=dt.ERR_UNKNOWN_ENCODING,dr=hr.errorOrDestroy;Nr(ie,Ft);function Lb(){}function Ur(e,t,r){fr=fr||it,e=e||{},typeof r!="boolean"&&(r=t instanceof fr),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=Sb(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Db(t,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new cu(this)}Ur.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(Ur.prototype,"buffer",{get:Tb.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}})();var Dn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Dn=Function.prototype[Symbol.hasInstance],Object.defineProperty(ie,Symbol.hasInstance,{value:function(t){return Dn.call(this,t)?!0:this!==ie?!1:t&&t._writableState instanceof Ur}})):Dn=function(t){return t instanceof this};function ie(e){fr=fr||it;var t=this instanceof fr;if(!t&&!Dn.call(ie,this))return new ie(e);this._writableState=new Ur(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Ft.call(this)}ie.prototype.pipe=function(){dr(this,new Cb)};function $b(e,t){var r=new Fb;dr(e,r),z.nextTick(t,r)}function Nb(e,t,r,n){var i;return r===null?i=new jb:typeof r!="string"&&!t.objectMode&&(i=new Rb("chunk",["string","Buffer"],r)),i?(dr(e,i),z.nextTick(n,i),!1):!0}ie.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&Ab(e);return s&&!Ln.isBuffer(e)&&(e=kb(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Lb),n.ending?$b(this,r):(s||Nb(this,n,e,r))&&(n.pendingcb++,i=Ub(this,n,s,e,t,r)),i};ie.prototype.cork=function(){this._writableState.corked++};ie.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&hu(this,e))};ie.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new Gb(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Mb(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Ln.from(t,r)),t}Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ub(e,t,r,n,i,s){if(!r){var o=Mb(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Vi(e,t,!1,a,n,i,s);return l}function Vi(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Ib("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function Bb(e,t,r,n,i){--t.pendingcb,r?(z.nextTick(i,n),z.nextTick(Mr,e,t),e._writableState.errorEmitted=!0,dr(e,n)):(i(n),e._writableState.errorEmitted=!0,dr(e,n),Mr(e,t))}function qb(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Db(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Ob;if(qb(r),t)Bb(e,r,n,t,i);else{var s=fu(r)||e.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&hu(e,r),n?z.nextTick(pu,e,r,s,i):pu(e,r,s,i)}}function pu(e,t,r,n){r||Hb(e,t),t.pendingcb--,n(),Mr(e,t)}function Hb(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function hu(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,Vi(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new cu(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,c=r.callback,h=t.objectMode?1:l.length;if(Vi(e,t,!1,h,l,u,c),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}ie.prototype._write=function(e,t,r){r(new Pb("_write()"))};ie.prototype._writev=null;ie.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||Wb(this,n,r),this};Object.defineProperty(ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function fu(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function zb(e,t){e._final(function(r){t.pendingcb--,r&&dr(e,r),t.prefinished=!0,e.emit("prefinish"),Mr(e,t)})}function Yb(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,z.nextTick(zb,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Mr(e,t){var r=fu(t);if(r&&(Yb(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function Wb(e,t,r){t.ending=!0,Mr(e,t),r&&(t.finished?z.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Eb(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});ie.prototype.destroy=hr.destroy;ie.prototype._undestroy=hr.undestroy;ie.prototype._destroy=function(e,t){t(e)};var Kb=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},it=Ke;Nr(Ke,Qi);for(Ji=Kb(Gn.prototype),$n=0;$n<Ji.length;$n++)Nn=Ji[$n],Ke.prototype[Nn]||(Ke.prototype[Nn]=Gn.prototype[Nn]);var Ji,Nn,$n;function Ke(e){if(!(this instanceof Ke))return new Ke(e);Qi.call(this,e),Gn.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Vb)))}Object.defineProperty(Ke.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ke.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ke.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Vb(){this._writableState.ended||z.nextTick(Qb,this)}function Qb(e){e.end()}Object.defineProperty(Ke.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var Jb=Qe(function(e,t){var r=Gt.Buffer;function n(s,o){for(var a in s)o[a]=s[a]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=Gt:(n(Gt,t),t.Buffer=i);function i(s,o,a){return r(s,o,a)}i.prototype=Object.create(r.prototype),n(r,i),i.from=function(s,o,a){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,o,a)},i.alloc=function(s,o,a){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=r(s);return o!==void 0?typeof a=="string"?l.fill(o,a):l.fill(o):l.fill(0),l},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return Gt.SlowBuffer(s)}}),Xi=Jb.Buffer,du=Xi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Xb(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Zb(e){var t=Xb(e);if(typeof t!="string"&&(Xi.isEncoding===du||!du(e)))throw new Error("Unknown encoding: "+e);return t||e}var e0=Br;function Br(e){this.encoding=Zb(e);var t;switch(this.encoding){case"utf16le":this.text=r0,this.end=n0,t=4;break;case"utf8":this.fillLast=t0,t=4;break;case"base64":this.text=i0,this.end=s0,t=3;break;default:this.write=o0,this.end=a0;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Xi.allocUnsafe(t)}Br.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Br.prototype.end=l0;Br.prototype.text=u0;Br.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Zi(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c0(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Zi(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=Zi(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=Zi(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function h0(e,t,r){if((t[0]&192)!=128)return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!=128)return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!=128)return e.lastNeed=2,"ï¿½"}}function t0(e){var t=this.lastTotal-this.lastNeed,r=h0(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function u0(e,t){var r=c0(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function l0(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t}function r0(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function n0(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function i0(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function s0(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function o0(e){return e.toString(this.encoding)}function a0(e){return e&&e.length?this.write(e):""}var gu={StringDecoder:e0},mu=pr.codes.ERR_STREAM_PREMATURE_CLOSE;function p0(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function f0(){}function d0(e){return e.setHeader&&typeof e.abort=="function"}function _u(e,t,r){if(typeof t=="function")return _u(e,null,t);t||(t={}),r=p0(r||f0);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,s=function(){e.writable||a()},o=e._writableState&&e._writableState.finished,a=function(){i=!1,o=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,u=function(){n=!1,l=!0,i||r.call(e)},c=function(T){r.call(e,T)},h=function(){var T;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(T=new mu),r.call(e,T);if(i&&!o)return(!e._writableState||!e._writableState.ended)&&(T=new mu),r.call(e,T)},d=function(){e.req.on("finish",a)};return d0(e)?(e.on("complete",a),e.on("abort",h),e.req?d():e.on("request",d)):i&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",u),e.on("finish",a),t.error!==!1&&e.on("error",c),e.on("close",h),function(){e.removeListener("complete",a),e.removeListener("abort",h),e.removeListener("request",d),e.req&&e.req.removeListener("finish",a),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",a),e.removeListener("end",u),e.removeListener("error",c),e.removeListener("close",h)}}var es=_u,Un;function gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mt=Symbol("lastResolve"),Lt=Symbol("lastReject"),qr=Symbol("error"),Mn=Symbol("ended"),Dt=Symbol("lastPromise"),ts=Symbol("handlePromise"),$t=Symbol("stream");function _t(e,t){return{value:e,done:t}}function g0(e){var t=e[mt];if(t!==null){var r=e[$t].read();r!==null&&(e[Dt]=null,e[mt]=null,e[Lt]=null,t(_t(r,!1)))}}function m0(e){z.nextTick(g0,e)}function _0(e,t){return function(r,n){e.then(function(){if(t[Mn]){r(_t(void 0,!0));return}t[ts](r,n)},n)}}var b0=Object.getPrototypeOf(function(){}),v0=Object.setPrototypeOf((Un={get stream(){return this[$t]},next:function(){var t=this,r=this[qr];if(r!==null)return Promise.reject(r);if(this[Mn])return Promise.resolve(_t(void 0,!0));if(this[$t].destroyed)return new Promise(function(o,a){z.nextTick(function(){t[qr]?a(t[qr]):o(_t(void 0,!0))})});var n=this[Dt],i;if(n)i=new Promise(_0(n,this));else{var s=this[$t].read();if(s!==null)return Promise.resolve(_t(s,!1));i=new Promise(this[ts])}return this[Dt]=i,i}},gt(Un,Symbol.asyncIterator,function(){return this}),gt(Un,"return",function(){var t=this;return new Promise(function(r,n){t[$t].destroy(null,function(i){if(i){n(i);return}r(_t(void 0,!0))})})}),Un),b0),w0=function(t){var r,n=Object.create(v0,(r={},gt(r,$t,{value:t,writable:!0}),gt(r,mt,{value:null,writable:!0}),gt(r,Lt,{value:null,writable:!0}),gt(r,qr,{value:null,writable:!0}),gt(r,Mn,{value:t._readableState.endEmitted,writable:!0}),gt(r,ts,{value:function(s,o){var a=n[$t].read();a?(n[Dt]=null,n[mt]=null,n[Lt]=null,s(_t(a,!1))):(n[mt]=s,n[Lt]=o)},writable:!0}),r));return n[Dt]=null,es(t,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Lt];s!==null&&(n[Dt]=null,n[mt]=null,n[Lt]=null,s(i)),n[qr]=i;return}var o=n[mt];o!==null&&(n[Dt]=null,n[mt]=null,n[Lt]=null,o(_t(void 0,!0))),n[Mn]=!0}),t.on("readable",m0.bind(null,n)),n},y0=w0,E0=function(){throw new Error("Readable.from is not available in the browser")},Qi=V,gr;V.ReadableState=bu;var Wv=nu.EventEmitter,vu=function(t,r){return t.listeners(r).length},Bn=Gt.Buffer,T0=Be.Uint8Array||function(){};function x0(e){return Bn.from(e)}function k0(e){return Bn.isBuffer(e)||e instanceof T0}var q;ct&&ct.debuglog?q=ct.debuglog("stream"):q=function(){};var A0=uu.getHighWaterMark,qn=pr.codes,S0=qn.ERR_INVALID_ARG_TYPE,R0=qn.ERR_STREAM_PUSH_AFTER_EOF,P0=qn.ERR_METHOD_NOT_IMPLEMENTED,O0=qn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,mr,rs,ns;Nr(V,Ft);var Hr=hr.errorOrDestroy,is=["error","close","destroy","pause","resume"];function C0(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function bu(e,t,r){gr=gr||it,e=e||{},typeof r!="boolean"&&(r=t instanceof gr),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=A0(this,e,"readableHighWaterMark",r),this.buffer=new lb,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(mr||(mr=gu.StringDecoder),this.decoder=new mr(e.encoding),this.encoding=e.encoding)}function V(e){if(gr=gr||it,!(this instanceof V))return new V(e);var t=this instanceof gr;this._readableState=new bu(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Ft.call(this)}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});V.prototype.destroy=hr.destroy;V.prototype._undestroy=hr.undestroy;V.prototype._destroy=function(e,t){t(e)};V.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Bn.from(e,t),t=""),n=!0),wu(this,e,t,!1,n)};V.prototype.unshift=function(e){return wu(this,e,null,!0,!1)};function wu(e,t,r,n,i){q("readableAddChunk",t);var s=e._readableState;if(t===null)s.reading=!1,j0(e,s);else{var o;if(i||(o=I0(s,t)),o)Hr(e,o);else if(s.objectMode||t&&t.length>0)if(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==Bn.prototype&&(t=x0(t)),n)s.endEmitted?Hr(e,new O0):ss(e,s,t,!0);else if(s.ended)Hr(e,new R0);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?ss(e,s,t,!1):os(e,s)):ss(e,s,t,!1)}else n||(s.reading=!1,os(e,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function ss(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Hn(e)),os(e,t)}function I0(e,t){var r;return!k0(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new S0("chunk",["string","Buffer","Uint8Array"],t)),r}V.prototype.isPaused=function(){return this._readableState.flowing===!1};V.prototype.setEncoding=function(e){mr||(mr=gu.StringDecoder);var t=new mr(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var yu=1073741824;function F0(e){return e>=yu?e=yu:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Eu(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=F0(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}V.prototype.read=function(e){q("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return q("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?as(this):Hn(this),null;if(e=Eu(e,t),e===0&&t.ended)return t.length===0&&as(this),null;var n=t.needReadable;q("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,q("length less than watermark",n)),t.ended||t.reading?(n=!1,q("reading or ended",n)):n&&(q("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Eu(r,t)));var i;return e>0?i=Tu(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&as(this)),i!==null&&this.emit("data",i),i};function j0(e,t){if(q("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Hn(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,xu(e)))}}function Hn(e){var t=e._readableState;q("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(q("emitReadable",t.flowing),t.emittedReadable=!0,z.nextTick(xu,e))}function xu(e){var t=e._readableState;q("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ls(e)}function os(e,t){t.readingMore||(t.readingMore=!0,z.nextTick(G0,e,t))}function G0(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(q("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}V.prototype._read=function(e){Hr(this,new P0("_read()"))};V.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,q("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==z.stdout&&e!==z.stderr,s=i?a:R;n.endEmitted?z.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(v,$){q("onunpipe"),v===r&&$&&$.hasUnpiped===!1&&($.hasUnpiped=!0,c())}function a(){q("onend"),e.end()}var l=L0(r);e.on("drain",l);var u=!1;function c(){q("cleanup"),e.removeListener("close",f),e.removeListener("finish",T),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",R),r.removeListener("data",h),u=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}r.on("data",h);function h(v){q("ondata");var $=e.write(v);q("dest.write",$),$===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&ku(n.pipes,e)!==-1)&&!u&&(q("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(v){q("onerror",v),R(),e.removeListener("error",d),vu(e,"error")===0&&Hr(e,v)}C0(e,"error",d);function f(){e.removeListener("finish",T),R()}e.once("close",f);function T(){q("onfinish"),e.removeListener("close",f),R()}e.once("finish",T);function R(){q("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(q("pipe resume"),r.resume()),e};function L0(e){return function(){var r=e._readableState;q("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&vu(e,"data")&&(r.flowing=!0,ls(e))}}V.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=ku(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};V.prototype.on=function(e,t){var r=Ft.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,q("on readable",n.length,n.reading),n.length?Hn(this):n.reading||z.nextTick(D0,this)),r};V.prototype.addListener=V.prototype.on;V.prototype.removeListener=function(e,t){var r=Ft.prototype.removeListener.call(this,e,t);return e==="readable"&&z.nextTick(Au,this),r};V.prototype.removeAllListeners=function(e){var t=Ft.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&z.nextTick(Au,this),t};function Au(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D0(e){q("readable nexttick read 0"),e.read(0)}V.prototype.resume=function(){var e=this._readableState;return e.flowing||(q("resume"),e.flowing=!e.readableListening,$0(this,e)),e.paused=!1,this};function $0(e,t){t.resumeScheduled||(t.resumeScheduled=!0,z.nextTick(N0,e,t))}function N0(e,t){q("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ls(e),t.flowing&&!t.reading&&e.read(0)}V.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ls(e){var t=e._readableState;for(q("flow",t.flowing);t.flowing&&e.read()!==null;);}V.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(q("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(q("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=t.push(o);a||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(a){return function(){return e[a].apply(e,arguments)}}(i));for(var s=0;s<is.length;s++)e.on(is[s],this.emit.bind(this,is[s]));return this._read=function(o){q("wrapped _read",o),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return rs===void 0&&(rs=y0),rs(this)});Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});V._fromList=Tu;Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Tu(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function as(e){var t=e._readableState;q("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,z.nextTick(U0,t,e))}function U0(e,t){if(q("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(V.from=function(e,t){return ns===void 0&&(ns=E0),ns(V,e,t)});function ku(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var us=st,Wn=pr.codes,M0=Wn.ERR_METHOD_NOT_IMPLEMENTED,B0=Wn.ERR_MULTIPLE_CALLBACK,q0=Wn.ERR_TRANSFORM_ALREADY_TRANSFORMING,H0=Wn.ERR_TRANSFORM_WITH_LENGTH_0;Nr(st,it);function W0(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new B0);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function st(e){if(!(this instanceof st))return new st(e);it.call(this,e),this._transformState={afterTransform:W0.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",z0)}function z0(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Su(e,t,r)}):Su(this,null,null)}st.prototype.push=function(e,t){return this._transformState.needTransform=!1,it.prototype.push.call(this,e,t)};st.prototype._transform=function(e,t,r){r(new M0("_transform()"))};st.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};st.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};st.prototype._destroy=function(e,t){it.prototype._destroy.call(this,e,function(r){t(r)})};function Su(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new H0;if(e._transformState.transforming)throw new q0;return e.push(null)}var Y0=Wr;Nr(Wr,us);function Wr(e){if(!(this instanceof Wr))return new Wr(e);us.call(this,e)}Wr.prototype._transform=function(e,t,r){r(null,e)};var cs;function K0(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Ru=pr.codes,V0=Ru.ERR_MISSING_ARGS,Q0=Ru.ERR_STREAM_DESTROYED;function Pu(e){if(e)throw e}function J0(e){return e.setHeader&&typeof e.abort=="function"}function X0(e,t,r,n){n=K0(n);var i=!1;e.on("close",function(){i=!0}),cs===void 0&&(cs=es),cs(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,J0(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new Q0("pipe"))}}}function Ou(e){e()}function Z0(e,t){return e.pipe(t)}function ev(e){return!e.length||typeof e[e.length-1]!="function"?Pu:e.pop()}function tv(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=ev(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new V0("streams");var i,s=t.map(function(o,a){var l=a<t.length-1,u=a>0;return X0(o,l,u,function(c){i||(i=c),c&&s.forEach(Ou),!l&&(s.forEach(Ou),n(i))})});return t.reduce(Z0)}var rv=tv,Cu=Qe(function(e,t){t=e.exports=Qi,t.Stream=t,t.Readable=t,t.Writable=Gn,t.Duplex=it,t.Transform=us,t.PassThrough=Y0,t.finished=es,t.pipeline=rv}),zn=class{constructor(t,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,!r&&t&&!t[0]&&(r=t,t=null),r=r||{},this._factory=r.factory||On,t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;let r=this._graphs,n,i;for(let s in r)for(let o in n=r[s].subjects)for(let a in i=n[o])t+=Object.keys(i[a]).length;return this._size=t}_addToIndex(t,r,n,i){let s=t[r]||(t[r]={}),o=s[n]||(s[n]={}),a=i in o;return a||(o[i]=null),!a}_removeFromIndex(t,r,n,i){let s=t[r],o=s[n];delete o[i];for(let a in o)return;delete s[n];for(let a in s)return;delete t[r]}_findInIndex(t,r,n,i,s,o,a,l,u,c){let h,d,f,T=!r+!n+!i,R=T>1?Object.keys(this._ids):this._entities;r&&((h=t,t={})[r]=h[r]);for(let v in t){let $=R[v];if(d=t[v]){n&&((h=d,d={})[n]=h[n]);for(let M in d){let ee=R[M];if(f=d[M]){let H=i?i in f?[i]:[]:Object.keys(f);for(let re=0;re<H.length;re++){let J={subject:null,predicate:null,object:null};J[s]=nt($,this._factory),J[o]=nt(ee,this._factory),J[a]=nt(R[H[re]],this._factory);let se=this._factory.quad(J.subject,J.predicate,J.object,nt(l,this._factory));if(c)c.push(se);else if(u(se))return!0}}}}}return c}_loop(t,r){for(let n in t)r(n)}_loopByKey0(t,r,n){let i,s;if(i=t[r])for(s in i)n(s)}_loopByKey1(t,r,n){let i,s;for(i in t)s=t[i],s[r]&&n(i)}_loopBy2Keys(t,r,n,i){let s,o,a;if((s=t[r])&&(o=s[n]))for(a in o)i(a)}_countInIndex(t,r,n,i){let s=0,o,a,l;r&&((o=t,t={})[r]=o[r]);for(let u in t)if(a=t[u]){n&&((o=a,a={})[n]=o[n]);for(let c in a)(l=a[c])&&(i?i in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(t){if(!ke(t))return this._graphs;let r={};return r[t]=this._graphs[t],r}_uniqueEntities(t){let r=Object.create(null);return n=>{n in r||(r[n]=!0,t(nt(this._entities[n],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,r,n,i){r||(i=t.graph,n=t.object,r=t.predicate,t=t.subject),t=K(t),r=K(r),n=K(n),i=K(i);let s=this._graphs[i];s||(s=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(s));let o=this._ids,a=this._entities;t=o[t]||(o[a[++this._id]=t]=this._id),r=o[r]||(o[a[++this._id]=r]=this._id),n=o[n]||(o[a[++this._id]=n]=this._id);let l=this._addToIndex(s.subjects,t,r,n);return this._addToIndex(s.predicates,r,n,t),this._addToIndex(s.objects,n,t,r),this._size=null,l}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}delete(t){return this.removeQuad(t),this}has(t){return this.getQuads(t.subject,t.predicate,t.object,t.graph).length!==0}import(t){return t.on("data",r=>{this.addQuad(r)}),t}removeQuad(t,r,n,i){r||(i=t.graph,n=t.object,r=t.predicate,t=t.subject),t=K(t),r=K(r),n=K(n),i=K(i);let s=this._ids,o=this._graphs,a,l,u;if(!(t=s[t])||!(r=s[r])||!(n=s[n])||!(a=o[i])||!(l=a.subjects[t])||!(u=l[r])||!(n in u))return!1;this._removeFromIndex(a.subjects,t,r,n),this._removeFromIndex(a.predicates,r,n,t),this._removeFromIndex(a.objects,n,t,r),this._size!==null&&this._size--;for(t in a.subjects)return!0;return delete o[i],!0}removeQuads(t){for(let r=0;r<t.length;r++)this.removeQuad(t[r])}remove(t){return t.on("data",r=>{this.removeQuad(r)}),t}removeMatches(t,r,n,i){let s=new Cu.Readable({objectMode:!0});return s._read=()=>{for(let o of this.getQuads(t,r,n,i))s.push(o);s.push(null)},this.remove(s)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,r,n,i){t=t&&K(t),r=r&&K(r),n=n&&K(n),i=i&&K(i);let s=[],o=this._getGraphs(i),a=this._ids,l,u,c,h;if(ke(t)&&!(u=a[t])||ke(r)&&!(c=a[r])||ke(n)&&!(h=a[n]))return s;for(let d in o)(l=o[d])&&(u?h?this._findInIndex(l.objects,h,u,c,"object","subject","predicate",d,null,s):this._findInIndex(l.subjects,u,c,null,"subject","predicate","object",d,null,s):c?this._findInIndex(l.predicates,c,h,null,"predicate","object","subject",d,null,s):h?this._findInIndex(l.objects,h,null,null,"object","subject","predicate",d,null,s):this._findInIndex(l.subjects,null,null,null,"subject","predicate","object",d,null,s));return s}match(t,r,n,i){return new Yn(this,t,r,n,i)}countQuads(t,r,n,i){t=t&&K(t),r=r&&K(r),n=n&&K(n),i=i&&K(i);let s=this._getGraphs(i),o=this._ids,a=0,l,u,c,h;if(ke(t)&&!(u=o[t])||ke(r)&&!(c=o[r])||ke(n)&&!(h=o[n]))return 0;for(let d in s)(l=s[d])&&(t?n?a+=this._countInIndex(l.objects,h,u,c):a+=this._countInIndex(l.subjects,u,c,h):r?a+=this._countInIndex(l.predicates,c,h,u):a+=this._countInIndex(l.objects,h,u,c));return a}forEach(t,r,n,i,s){this.some(o=>(t(o),!1),r,n,i,s)}every(t,r,n,i,s){let o=!1,a=!this.some(l=>(o=!0,!t(l)),r,n,i,s);return o&&a}some(t,r,n,i,s){r=r&&K(r),n=n&&K(n),i=i&&K(i),s=s&&K(s);let o=this._getGraphs(s),a=this._ids,l,u,c,h;if(ke(r)&&!(u=a[r])||ke(n)&&!(c=a[n])||ke(i)&&!(h=a[i]))return!1;for(let d in o)if(l=o[d]){if(u){if(h){if(this._findInIndex(l.objects,h,u,c,"object","subject","predicate",d,t,null))return!0}else if(this._findInIndex(l.subjects,u,c,null,"subject","predicate","object",d,t,null))return!0}else if(c){if(this._findInIndex(l.predicates,c,h,null,"predicate","object","subject",d,t,null))return!0}else if(h){if(this._findInIndex(l.objects,h,null,null,"object","subject","predicate",d,t,null))return!0}else if(this._findInIndex(l.subjects,null,null,null,"subject","predicate","object",d,t,null))return!0}return!1}getSubjects(t,r,n){let i=[];return this.forSubjects(s=>{i.push(s)},t,r,n),i}forSubjects(t,r,n,i){r=r&&K(r),n=n&&K(n),i=i&&K(i);let s=this._ids,o=this._getGraphs(i),a,l,u;if(t=this._uniqueEntities(t),!(ke(r)&&!(l=s[r])||ke(n)&&!(u=s[n])))for(i in o)(a=o[i])&&(l?u?this._loopBy2Keys(a.predicates,l,u,t):this._loopByKey1(a.subjects,l,t):u?this._loopByKey0(a.objects,u,t):this._loop(a.subjects,t))}getPredicates(t,r,n){let i=[];return this.forPredicates(s=>{i.push(s)},t,r,n),i}forPredicates(t,r,n,i){r=r&&K(r),n=n&&K(n),i=i&&K(i);let s=this._ids,o=this._getGraphs(i),a,l,u;if(t=this._uniqueEntities(t),!(ke(r)&&!(l=s[r])||ke(n)&&!(u=s[n])))for(i in o)(a=o[i])&&(l?u?this._loopBy2Keys(a.objects,u,l,t):this._loopByKey0(a.subjects,l,t):u?this._loopByKey1(a.predicates,u,t):this._loop(a.predicates,t))}getObjects(t,r,n){let i=[];return this.forObjects(s=>{i.push(s)},t,r,n),i}forObjects(t,r,n,i){r=r&&K(r),n=n&&K(n),i=i&&K(i);let s=this._ids,o=this._getGraphs(i),a,l,u;if(t=this._uniqueEntities(t),!(ke(r)&&!(l=s[r])||ke(n)&&!(u=s[n])))for(i in o)(a=o[i])&&(l?u?this._loopBy2Keys(a.subjects,l,u,t):this._loopByKey1(a.objects,l,t):u?this._loopByKey0(a.predicates,u,t):this._loop(a.objects,t))}getGraphs(t,r,n){let i=[];return this.forGraphs(s=>{i.push(s)},t,r,n),i}forGraphs(t,r,n,i){for(let s in this._graphs)this.some(o=>(t(o.graph),!0),r,n,i,s)}createBlankNode(t){let r,n;if(t)for(r=t=`_:${t}`,n=1;this._ids[r];)r=t+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:t=!1,ignoreErrors:r=!1}={}){let n={},i=r?()=>!0:(a,l)=>{throw new Error(`${a.value} ${l}`)},s=this.getQuads(null,Ae.rdf.rest,Ae.rdf.nil,null),o=t?[...s]:[];return s.forEach(a=>{let l=[],u=!1,c,h,d=a.graph,f=a.subject;for(;f&&!u;){let T=this.getQuads(null,null,f,null),R=this.getQuads(f,null,null,null),v,$=null,M=null,ee=null;for(let H=0;H<R.length&&!u;H++)v=R[H],v.graph.equals(d)?c?u=i(f,"has non-list arcs out"):v.predicate.value===Ae.rdf.first?$?u=i(f,"has multiple rdf:first arcs"):o.push($=v):v.predicate.value===Ae.rdf.rest?M?u=i(f,"has multiple rdf:rest arcs"):o.push(M=v):T.length?u=i(f,"can't be subject and object"):(c=v,h="subject"):u=i(f,"not confined to single graph");for(let H=0;H<T.length&&!u;++H)v=T[H],c?u=i(f,"can't have coreferences"):v.predicate.value===Ae.rdf.rest?ee?u=i(f,"has incoming rdf:rest arcs"):ee=v:(c=v,h="object");$?l.unshift($.object):u=i(f,"has no list head"),f=ee&&ee.subject}u?t=!1:c&&(n[c[h].value]=l)}),t&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.getQuads()}};function ke(e){return typeof e=="string"||e instanceof String}var Yn=class extends Cu.Readable{constructor(t,r,n,i,s){super({objectMode:!0});Object.assign(this,{n3Store:t,subject:r,predicate:n,object:i,graph:s})}get filtered(){if(!this._filtered){let{n3Store:t,graph:r,object:n,predicate:i,subject:s}=this,o=t.getQuads(s,i,n,r);this._filtered=new zn(o,{factory:t._factory})}return this._filtered}get size(){return this.filtered.size}_read(){for(let t of this.filtered.getQuads())this.push(t);this.push(null)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,r,n,i){return new Yn(this.filtered,t,r,n,i)}*[Symbol.iterator](){yield*this.filtered.getQuads()}};var Iu=async(e,t)=>new Promise(r=>{let n=document.createElement("script");n.src=e,n.onload=()=>{r(window[t])},document.head.appendChild(n)});var hs=e=>e.map(t=>parseInt(t).toString()===t?parseInt(t):t);var ps=class{#e;constructor(t){this.#e=t;let[r,n]=t.split(":"),[i,s,o,a]=hs(r.split("."));Object.assign(this,{startBook:i,startChapter:s,startVerse:o,startWord:a});let[u,c,h,d]=hs(n.split("."));Object.assign(this,{endBook:u,endChapter:c,endVerse:h,endWord:d}),this.startNumber=this.toNumber(s,o,a),this.endNumber=this.toNumber(c,h,d)}toNumber(t,r,n){return t*1e4+r*1e3+n}includes(t,r,n,i){if(t!==this.startBook&&t!==this.endBook)return;let s=this.toNumber(r,n,i);return s>=this.startNumber&&s<=this.endNumber}get isShort(){return this.startVerse+4>this.endVerse}get length(){return this.endNumber-this.startNumber}toString(){return this.#e}};var ju=e=>{let t=new EventTarget;return[new Proxy(e,{get:function(r,n,i){return["addQuad","removeQuad"].includes(n.toString())?s=>(t.dispatchEvent(new CustomEvent(n.toString(),{detail:s})),e[n](s)):Reflect.get(r,n,i)}}),t]};var Fu=`${location.protocol}//${location.hostname}:${location.port}/ttl/ontology.ttl`,fs=class extends EventTarget{constructor(t,r){super();this.changes=[];let[n,i]=ju(t);this.#e=n,this.#r=r,i.addEventListener("removeQuad",s=>{this.changes.push(["removed",s.detail,new Date])}),i.addEventListener("addQuad",s=>{this.changes.push(["added",s.detail,new Date])})}#e;#t;#r;get bookAbbreviation(){return this.#r}async query(t,r,n=!1){if(n&&console.log(t),!this.#t){let{newEngine:a}=await Iu("http://rdf.js.org/comunica-browser/versions/latest/packages/actor-init-sparql/comunica-browser.js","Comunica");this.#t=a()}let i=await this.#t.query(t,{sources:r});if(i.type==="update")return i.updateResult;if(i.type==="boolean")return i.booleanResult;let s=await i.bindings(),o=[];for(let a of s){let l={};for(let u of i.variables)i.variables.length===1?l=a.get(u)?.value:l[u.substr(1)]=a.get(u)?.value;o.push(l)}return o}async getMarkings(t){let r=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>

        SELECT ?subject ?reference ?name (COALESCE(?class_predicate, ?property_predicate) as ?predicate) ?comment {
            ?subject biblogos:reference ?reference .
            OPTIONAL { ?subject biblogos:name ?name . }
            OPTIONAL { ?subject biblogos:comment ?comment . }
            OPTIONAL { ?subject a ?class_predicate . }
            OPTIONAL { ?subject biblogos:predicate ?property_predicate . }
            FILTER strstarts(?reference, """${`${this.#r}.${t}"""`})
        }
        `,[this.#e]);for(let n of r)n.reference=new ps(n.reference);return r}async searchSubject(t,r,n=null){return t.length===0||t.length===1&&t[0].trim()===""?[]:this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        SELECT * { 
            ?predicate a <${r}> .
            ?predicate biblogos:name ?name .
            ?predicate a/a rdfs:Class .
            OPTIONAL { ?predicate biblogos:comment ?comment . }
            FILTER regex(?name, """${t.join("|")}""", "i")
        }
        LIMIT 10
    `,[this.#e,Fu])}async getFactPredicates(){return this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        SELECT * { 
            { ?predicate a rdfs:Class } UNION { ?predicate a rdfs:Property } .
            ?predicate rdfs:label ?label .
            ?predicate biblogos:predicateType ?type .
        }
        `,[Fu])}async insertFact(t){return await this.deleteFact(t.uri),await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        INSERT DATA { 
            <${t.uri}> a <${t.predicate}> .
            <${t.uri}> biblogos:name """${t.name}""" .

            ${t.references.map(r=>`
                <${t.uri}> biblogos:reference """${r}""" .
            `).join(`
`)}
            
            ${t.subject?`
                <${t.uri}> biblogos:subject <${t.subject}> .
            `:""}
            ${t.comment?`
                <${t.uri}> biblogos:comment """${t.comment}""" .
            `:""}
        } 
        `,[this.#e])}async appendFactReferences(t,r){return this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        
        INSERT DATA { 
            ${r.map(n=>`
                <${t}> biblogos:reference """${n}""" .
            `)}
        }
        `,[this.#e])}async removeFactReferences(t,r){return this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        
        DELETE DATA { 
            ${r.map(n=>`
                <${t}> biblogos:reference """${n}""" .
            `)}
        }
        `,[this.#e])}async deleteFact(t){return this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        DELETE { 
            <${t}> a ?type .
            <${t}> biblogos:name ?name .
            <${t}> biblogos:subject ?subject .
            <${t}> biblogos:reference ?reference .
            <${t}> biblogos:comment ?comment . 
        } WHERE { 
            <${t}> a ?type .
            <${t}> biblogos:name ?name .
            <${t}> biblogos:reference ?reference .
            OPTIONAL { <${t}> biblogos:comment ?comment . }
            OPTIONAL { <${t}> biblogos:subject ?subject . }
        }        
        `,[this.#e])}async getReferencesCountForFact(t){let r=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        
        SELECT (count(?reference) as ?count) {
            <${t}> biblogos:reference ?reference .
        }
        `,[this.#e]);return parseInt(r[0])}};var ds=class{constructor(t,r){this.#t=new Map,this.#e=t,this.settings=r}#e;#t;#r;get name(){return this.settings.name}async getMarkingsStore(){if(this.#r)return this.#r;let t=new zn,r=new In,{slug:n,branch:i}=this.#e,s=await Promise.all(this.settings.files.map(async a=>{let l=`https://raw.githubusercontent.com/${n}/${i}/${a.file}`;if(this.#t.has(l))return this.#t.get(l);let c=await(await fetch(l)).text();return this.#t.set(l,c),c})),o={};for(let a of s)await r.parse(a,(l,u,c)=>{l&&console.error(l),u?t.addQuad(u):Object.assign(o,c)});return this.#r=new fs(t,this.settings.book),this.#r}};var nv=Object.defineProperty,iv=Object.getOwnPropertyDescriptor,Gu=(e,t,r,n)=>{for(var i=n>1?void 0:n?iv(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&nv(t,r,i),i},zr=class extends ds{async getChapters(){let{bible:t,book:r}=this.settings;try{let n=await fetch(`${Fr.API}/plugins/api.bible/bibles/${t}/books/${r}/chapters`),{data:i}=await n.json();return i.filter(({number:s})=>s!=="intro").map(({number:s})=>{let o=s==="intro"?"Intro":s;return[parseInt(s),o]})}catch(n){throw new Error("Could not fetch chapters from api.bible")}}async getText(t){let{bible:r,book:n}=this.settings;try{let i=await fetch(`${Fr.API}/plugins/api.bible/bibles/${r}/chapters/${`${n}.${t}?content-type=text`}`),{data:s}=await i.json(),o=/\[(\d+)\]([^[]*)/g,a=[...s.content.matchAll(o)];return a.length===0?[[1,s.content]]:a.map(l=>{let u=/\r|\n/.exec(l[2]),c=parseInt(l[1]),h=l[2].trim();return[c,h,f=>j`<span class="verse-number word">${c}${f} </span>`,u?.length??0]})}catch(i){throw console.error(i),new Error("Could not fetch verses from api.bible")}}};Gu([cr()],zr.prototype,"getChapters",1);Gu([cr()],zr.prototype,"getText",1);var sv={ApiBible:zr},gs=class{#e;async init(t){this.#e=t;let r=await ot.getBooks(this.#e.owner.login,this.#e.name,this.#e.default_branch);return this.books=r.map(n=>new sv[n.type](this,n)),this}get name(){return this.#e.name.replace("biblogos-","").replaceAll("-"," ")}get description(){return this.#e.description}get owner(){return this.#e.owner.name??this.#e.owner.login}get avatar(){return this.#e.owner.avatar_url}get slug(){return this.#e.full_name}get branch(){return this.#e.default_branch}get editorLink(){return`/editor/${this.slug}`}};var ov=Object.defineProperty,av=Object.getOwnPropertyDescriptor,Lu=(e,t,r,n)=>{for(var i=n>1?void 0:n?av(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&ov(t,r,i),i},Kn=class{#e;async init(){if(!this.#e){let t=await fetch(`${Fr.API}/token`),{token:r}=await t.json();this.#e=new vn({auth:r})}}async getProjects(){await this.init();let r=(await this.#e.rest.search.repos({q:"topic:biblogos"})).data.items;return await Promise.all(r.map(n=>new gs().init(n)))}async getProject(t,r){return await this.init(),(await this.getProjects()).find(n=>n.slug===`${t}/${r}`)}async getBooks(t,r,n){await this.init();let s=(await this.#e.rest.git.getTree({owner:t,repo:r,tree_sha:n})).data.tree;return await Promise.all(s.filter(a=>a.path.endsWith(".biblogos")).map(async a=>{let l=await ot.#e.rest.git.getBlob({owner:t,repo:r,file_sha:a.sha});return Ml.load(atob(l.data.content))}))}};Lu([cr()],Kn.prototype,"getProjects",1);Lu([cr()],Kn.prototype,"getProject",1);var ot=new Kn;var te=e=>e;var ms=class extends ye.Div{async upgradedCallback(){this.draw(),this.classList.add("project"),this.classList.add("teaser")}draw(){ue(this,j`
        <h3 class="title">${this.project.name}<em>, by ${this.project.owner}</em></h3>
        <p class="description">${this.project.description}</p>

        <div class="actions">
            <a class="button medium secondary edit" href=${this.project.editorLink}>${te`Edit`}</a>
            <a class="button medium primary" href=${this.project.editorLink}>${te`View`}</a>
        </div>
        
        `)}};var _s=class extends ye.Div{constructor(){super(...arguments);this.projects=[]}async upgradedCallback(){this.draw(),this.classList.add("projects-overview"),this.classList.add("route"),this.projects=await ot.getProjects(),this.draw()}draw(){ue(this,j`
        <h2 class="page-title">${te`Projects overview`}</h2>

        ${this.projects?j`
            ${this.projects.map(t=>j`<${ms} .project=${t} />`)}
        `:j`Loading...`}
        `)}};var bs=class extends ye.Div{async upgradedCallback(){this.draw(),this.classList.add("menu")}draw(){ue(this,j`

        ${this["menu-items"]}

        <div class="menu-toggle">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
        `)}};var Yr=class extends ye.Div{async upgradedCallback(){this.draw(),this.classList.add("site-header")}draw(){ue(this,j`
            <a class="site-logo-link" href="/">
                <img class="favicon" src="/assets/favicon.svg">
                ${location.pathname==="/"?j`<h1 class="logo-text">BibLogos</h1>`:null}
            </a>

            ${this.extra}

            <${bs} />
        `)}};var Du={name:"home",template:()=>j`
            <${Yr} />
            <${_s} />
        `};var Le=e=>{if(!e)debugger;return e.substr(0,4)!=="http"?e:e.split(/\/|#/).pop()};"use strict";var lv=typeof window=="object"?window:{},B="0123456789abcdef".split(""),uv=[-2147483648,8388608,32768,128],Ne=[24,16,8,0];var _e=[];function De(e=null){e?(_e[0]=_e[16]=_e[1]=_e[2]=_e[3]=_e[4]=_e[5]=_e[6]=_e[7]=_e[8]=_e[9]=_e[10]=_e[11]=_e[12]=_e[13]=_e[14]=_e[15]=0,this.blocks=_e):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}De.prototype.update=function(e){if(!this.finalized){var t=typeof e!="string";t&&e.constructor===lv.ArrayBuffer&&(e=new Uint8Array(e));for(var r,n=0,i,s=e.length||0,o=this.blocks;n<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(i=this.start;n<s&&i<64;++n)o[i>>2]|=e[n]<<Ne[i++&3];else for(i=this.start;n<s&&i<64;++n)r=e.charCodeAt(n),r<128?o[i>>2]|=r<<Ne[i++&3]:r<2048?(o[i>>2]|=(192|r>>6)<<Ne[i++&3],o[i>>2]|=(128|r&63)<<Ne[i++&3]):r<55296||r>=57344?(o[i>>2]|=(224|r>>12)<<Ne[i++&3],o[i>>2]|=(128|r>>6&63)<<Ne[i++&3],o[i>>2]|=(128|r&63)<<Ne[i++&3]):(r=65536+((r&1023)<<10|e.charCodeAt(++n)&1023),o[i>>2]|=(240|r>>18)<<Ne[i++&3],o[i>>2]|=(128|r>>12&63)<<Ne[i++&3],o[i>>2]|=(128|r>>6&63)<<Ne[i++&3],o[i>>2]|=(128|r&63)<<Ne[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=o[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};De.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=uv[t&3],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}};De.prototype.hash=function(){var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,s,o,a,l=this.blocks;for(o=16;o<80;++o)a=l[o-3]^l[o-8]^l[o-14]^l[o-16],l[o]=a<<1|a>>>31;for(o=0;o<20;o+=5)s=t&r|~t&n,a=e<<5|e>>>27,i=a+s+i+1518500249+l[o]<<0,t=t<<30|t>>>2,s=e&t|~e&r,a=i<<5|i>>>27,n=a+s+n+1518500249+l[o+1]<<0,e=e<<30|e>>>2,s=i&e|~i&t,a=n<<5|n>>>27,r=a+s+r+1518500249+l[o+2]<<0,i=i<<30|i>>>2,s=n&i|~n&e,a=r<<5|r>>>27,t=a+s+t+1518500249+l[o+3]<<0,n=n<<30|n>>>2,s=r&n|~r&i,a=t<<5|t>>>27,e=a+s+e+1518500249+l[o+4]<<0,r=r<<30|r>>>2;for(;o<40;o+=5)s=t^r^n,a=e<<5|e>>>27,i=a+s+i+1859775393+l[o]<<0,t=t<<30|t>>>2,s=e^t^r,a=i<<5|i>>>27,n=a+s+n+1859775393+l[o+1]<<0,e=e<<30|e>>>2,s=i^e^t,a=n<<5|n>>>27,r=a+s+r+1859775393+l[o+2]<<0,i=i<<30|i>>>2,s=n^i^e,a=r<<5|r>>>27,t=a+s+t+1859775393+l[o+3]<<0,n=n<<30|n>>>2,s=r^n^i,a=t<<5|t>>>27,e=a+s+e+1859775393+l[o+4]<<0,r=r<<30|r>>>2;for(;o<60;o+=5)s=t&r|t&n|r&n,a=e<<5|e>>>27,i=a+s+i-1894007588+l[o]<<0,t=t<<30|t>>>2,s=e&t|e&r|t&r,a=i<<5|i>>>27,n=a+s+n-1894007588+l[o+1]<<0,e=e<<30|e>>>2,s=i&e|i&t|e&t,a=n<<5|n>>>27,r=a+s+r-1894007588+l[o+2]<<0,i=i<<30|i>>>2,s=n&i|n&e|i&e,a=r<<5|r>>>27,t=a+s+t-1894007588+l[o+3]<<0,n=n<<30|n>>>2,s=r&n|r&i|n&i,a=t<<5|t>>>27,e=a+s+e-1894007588+l[o+4]<<0,r=r<<30|r>>>2;for(;o<80;o+=5)s=t^r^n,a=e<<5|e>>>27,i=a+s+i-899497514+l[o]<<0,t=t<<30|t>>>2,s=e^t^r,a=i<<5|i>>>27,n=a+s+n-899497514+l[o+1]<<0,e=e<<30|e>>>2,s=i^e^t,a=n<<5|n>>>27,r=a+s+r-899497514+l[o+2]<<0,i=i<<30|i>>>2,s=n^i^e,a=r<<5|r>>>27,t=a+s+t-899497514+l[o+3]<<0,n=n<<30|n>>>2,s=r^n^i,a=t<<5|t>>>27,e=a+s+e-899497514+l[o+4]<<0,r=r<<30|r>>>2;this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0};De.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4;return B[e>>28&15]+B[e>>24&15]+B[e>>20&15]+B[e>>16&15]+B[e>>12&15]+B[e>>8&15]+B[e>>4&15]+B[e&15]+B[t>>28&15]+B[t>>24&15]+B[t>>20&15]+B[t>>16&15]+B[t>>12&15]+B[t>>8&15]+B[t>>4&15]+B[t&15]+B[r>>28&15]+B[r>>24&15]+B[r>>20&15]+B[r>>16&15]+B[r>>12&15]+B[r>>8&15]+B[r>>4&15]+B[r&15]+B[n>>28&15]+B[n>>24&15]+B[n>>20&15]+B[n>>16&15]+B[n>>12&15]+B[n>>8&15]+B[n>>4&15]+B[n&15]+B[i>>28&15]+B[i>>24&15]+B[i>>20&15]+B[i>>16&15]+B[i>>12&15]+B[i>>8&15]+B[i>>4&15]+B[i&15]};De.prototype.toString=De.prototype.hex;De.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4;return[e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255]};De.prototype.array=De.prototype.digest;De.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var vs=new Map;function ws(e,t=20,r=80,n=20,i=90){let s=JSON.stringify(arguments);if(vs.has(s))return vs.get(s);let o=new De;o.update(e);let a=new TextEncoder,l=new Uint8Array(a.encode(o.hex())).join("").slice(16),u="hsl("+l%360+", "+(l%(i-n)+n)+"%, "+(l%(r-t)+t)+"%)";return vs.set(s,u),u}var $u=(e,t="px")=>typeof e=="number"?e+t:e;function bt({style:e},t,r){if(typeof t=="object")for(let[n,i]of Object.entries(t))e[n]=$u(i);else r!==void 0&&(e[t]=$u(r))}function Nu(e){return(t,r,n,i={})=>{t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);for(let s of t)for(let o of r)s[e](o,n,{capture:!1,...i});return[t,r,n,i]}}var _r=Nu("addEventListener"),vt=Nu("removeEventListener"),Vn=e=>{let t=e.touches&&e.touches[0]||e;return{tap:t,x:t.clientX,y:t.clientY,target:t.target}};function cv(e){let t=e.path||e.composedPath&&e.composedPath();if(t)return t;let r=e.target.parentElement;for(t=[e.target,r];r=r.parentElement;)t.push(r);return t.push(document,window),t}function Uu(e,t,r="touch"){switch(r){case"center":{let n=t.left+t.width/2,i=t.top+t.height/2;return n>=e.left&&n<=e.right&&i>=e.top&&i<=e.bottom}case"cover":return t.left>=e.left&&t.top>=e.top&&t.right<=e.right&&t.bottom<=e.bottom;case"touch":return e.right>=t.left&&e.left<=t.right&&e.bottom>=t.top&&e.top<=t.bottom;default:throw new Error(`Unkown intersection mode: ${r}`)}}function Mu(e,t){let r=e.indexOf(t);~r&&e.splice(r,1)}function Kr(e,t=document){let r=Array.isArray(e)?e:[e],n=[];for(let i=0,s=r.length;i<s;i++){let o=r[i];typeof o=="string"?n.push(...Array.from(t.querySelectorAll(o))):o instanceof Element&&n.push(o)}return n}var Bu=()=>matchMedia("(hover: none), (pointer: coarse)").matches,qu=(e,t)=>{for(let[r,n]of Object.entries(e)){let i=t[r];e[r]=i===void 0?e[r]:typeof i!="object"||typeof n!="object"||n===null||Array.isArray(n)?i:qu(n,i)}return e},{abs:Nt,max:Hu,min:Wu,ceil:zu}=Math,ys=class extends class{constructor(){this.t=new Map,this.on=this.addEventListener,this.off=this.removeEventListener,this.emit=this.dispatchEvent}addEventListener(t,r){let n=this.t.get(t)||new Set;return this.t.set(t,n),n.add(r),this}removeEventListener(t,r){return this.t.get(t)?.delete(r),this}dispatchEvent(t,...r){let n=!0;for(let i of this.t.get(t)||[])n=i(...r)!==!1&&n;return n}unbindAllListeners(){this.t.clear()}}{constructor(t){super(),this.i={touched:[],stored:[],selected:[],changed:{added:[],removed:[]}},this.o=[],this.h=new DOMRect,this.l={y1:0,x2:0,y2:0,x1:0},this.u=!0,this.p=!0,this.m={x:0,y:0},this.v={x:0,y:0},this.disable=this.g.bind(this,!1),this.enable=this.g,this._=qu({selectionAreaClass:"selection-area",selectionContainerClass:void 0,selectables:[],document:window.document,behaviour:{overlap:"invert",intersect:"touch",startThreshold:{x:10,y:10},scrolling:{speedDivider:10,manualSpeed:750,startScrollMargins:{x:0,y:0}}},features:{range:!0,touch:!0,singleTap:{allow:!0,intersect:"native"}},startAreas:["html"],boundaries:["html"],container:"body"},t);for(let s of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))typeof this[s]=="function"&&(this[s]=this[s].bind(this));let{document:r,selectionAreaClass:n,selectionContainerClass:i}=this._;this.S=r.createElement("div"),this.A=r.createElement("div"),this.A.appendChild(this.S),this.S.classList.add(n),i&&this.A.classList.add(i),bt(this.S,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),bt(this.A,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"1"}),this.T=(s=>{let o,a=-1,l=!1;return{next(...u){o=u,l||(l=!0,a=requestAnimationFrame(()=>{s(...o),l=!1}))},cancel(){cancelAnimationFrame(a),l=!1}}})(s=>{this.L(),this.C(),this.M("move",s),this.j()}),this.enable()}g(t=!0){let{document:r,features:n}=this._,i=t?_r:vt;i(r,"mousedown",this.k),n.touch&&i(r,"touchstart",this.k,{passive:!1})}k(t,r=!1){let{x:n,y:i,target:s}=Vn(t),{_:o}=this,{document:a}=this._,l=s.getBoundingClientRect(),u=Kr(o.startAreas,o.document),c=Kr(o.boundaries,o.document);this.O=c.find(f=>Uu(f.getBoundingClientRect(),l));let h=cv(t);if(!this.O||!u.find(f=>h.includes(f))||!c.find(f=>h.includes(f))||!r&&this.M("beforestart",t)===!1)return;this.l={x1:n,y1:i,x2:0,y2:0};let d=a.scrollingElement||a.body;this.v={x:d.scrollLeft,y:d.scrollTop},this.u=!0,this.clearSelection(!1),_r(a,["touchmove","mousemove"],this.R,{passive:!1}),_r(a,["mouseup","touchcancel","touchend"],this.$),_r(a,"scroll",this.D)}F(t){let{singleTap:{intersect:r},range:n}=this._.features,i=Vn(t),s=null;if(r==="native")s=i.target;else if(r==="touch"){this.resolveSelectables();let{x:a,y:l}=i;s=this.o.find(u=>{let{right:c,left:h,top:d,bottom:f}=u.getBoundingClientRect();return a<c&&a>h&&l<f&&l>d})}if(!s)return;for(this.resolveSelectables();!this.o.includes(s);){if(!s.parentElement)return;s=s.parentElement}let{stored:o}=this.i;if(this.M("start",t),t.shiftKey&&o.length&&n){let a=this.q??o[0],[l,u]=4&a.compareDocumentPosition(s)?[s,a]:[a,s],c=[...this.o.filter(h=>4&h.compareDocumentPosition(l)&&2&h.compareDocumentPosition(u)),l,u];this.select(c)}else o.includes(s)&&(o.length===1||t.ctrlKey||o.every(a=>this.i.stored.includes(a)))?this.deselect(s):(this.q=s,this.select(s));this.M("stop",t)}R(t){let{container:r,document:n,features:i,behaviour:{startThreshold:s}}=this._,{x1:o,y1:a}=this.l,{x:l,y:u}=Vn(t),c=typeof s;if(c==="number"&&Nt(l+u-(o+a))>=s||c==="object"&&Nt(l-o)>=s.x||Nt(u-a)>=s.y){if(vt(n,["mousemove","touchmove"],this.R,{passive:!1}),this.M("beforedrag",t)===!1)return void vt(n,["mouseup","touchcancel","touchend"],this.$);_r(n,["mousemove","touchmove"],this.H,{passive:!1}),bt(this.S,"display","block"),Kr(r,n)[0].appendChild(this.A),this.resolveSelectables(),this.u=!1,this.W=this.O.getBoundingClientRect(),this.p=this.O.scrollHeight!==this.O.clientHeight||this.O.scrollWidth!==this.O.clientWidth,this.p&&(_r(n,"wheel",this.I,{passive:!1}),this.o=this.o.filter(h=>this.O.contains(h))),this.N(),this.M("start",t),this.H(t)}i.touch&&Bu()&&t.preventDefault()}N(){let{A:t,O:r,S:n}=this,i=this.W=r.getBoundingClientRect();this.p?(bt(t,{top:i.top,left:i.left,width:i.width,height:i.height}),bt(n,{marginTop:-i.top,marginLeft:-i.left})):(bt(t,{top:0,left:0,width:"100%",height:"100%"}),bt(n,{marginTop:0,marginLeft:0}))}H(t){let{x:r,y:n}=Vn(t),{m:i,l:s,_:o,T:a}=this,{features:l}=o,{speedDivider:u}=o.behaviour.scrolling,c=this.O;if(s.x2=r,s.y2=n,this.p&&(i.y||i.x)){let h=()=>{if(!i.x&&!i.y)return;let{scrollTop:d,scrollLeft:f}=c;i.y&&(c.scrollTop+=zu(i.y/u),s.y1-=c.scrollTop-d),i.x&&(c.scrollLeft+=zu(i.x/u),s.x1-=c.scrollLeft-f),a.next(t),requestAnimationFrame(h)};requestAnimationFrame(h)}else a.next(t);l.touch&&Bu()&&t.preventDefault()}D(){let{v:t,_:{document:r}}=this,{scrollTop:n,scrollLeft:i}=r.scrollingElement||r.body;this.l.x1+=t.x-i,this.l.y1+=t.y-n,t.x=i,t.y=n,this.N(),this.T.next(null)}I(t){let{manualSpeed:r}=this._.behaviour.scrolling,n=t.deltaY?t.deltaY>0?1:-1:0,i=t.deltaX?t.deltaX>0?1:-1:0;this.m.y+=n*r,this.m.x+=i*r,this.H(t),t.preventDefault()}L(){let{m:t,l:r,h:n,O:i,W:s,_:o}=this,{scrollTop:a,scrollHeight:l,clientHeight:u,scrollLeft:c,scrollWidth:h,clientWidth:d}=i,f=s,{x1:T,y1:R}=r,{x2:v,y2:$}=r,{behaviour:{scrolling:{startScrollMargins:M}}}=o;v<f.left+M.x?(t.x=c?-Nt(f.left-v+M.x):0,v=v<f.left?f.left:v):v>f.right-M.x?(t.x=h-c-d?Nt(f.left+f.width-v-M.x):0,v=v>f.right?f.right:v):t.x=0,$<f.top+M.y?(t.y=a?-Nt(f.top-$+M.y):0,$=$<f.top?f.top:$):$>f.bottom-M.y?(t.y=l-a-u?Nt(f.top+f.height-$-M.y):0,$=$>f.bottom?f.bottom:$):t.y=0;let ee=Wu(T,v),H=Wu(R,$),re=Hu(T,v),J=Hu(R,$);n.x=ee,n.y=H,n.width=re-ee,n.height=J-H}j(){let{x:t,y:r,width:n,height:i}=this.h,{style:s}=this.S;s.left=`${t}px`,s.top=`${r}px`,s.width=`${n}px`,s.height=`${i}px`}$(t,r){let{document:n,features:i}=this._,{u:s}=this;vt(n,["mousemove","touchmove"],this.R),vt(n,["touchmove","mousemove"],this.H),vt(n,["mouseup","touchcancel","touchend"],this.$),vt(n,"scroll",this.D),t&&s&&i.singleTap.allow?this.F(t):s||r||(this.C(),this.M("stop",t)),this.m.x=0,this.m.y=0,this.p&&vt(n,"wheel",this.I,{passive:!0}),this.A.remove(),this.T?.cancel(),bt(this.S,"display","none"),this.U()}C(){let{o:t,_:r,i:n,h:i}=this,{stored:s,selected:o,touched:a}=n,{intersect:l,overlap:u}=r.behaviour,c=u==="invert",h=[],d=[],f=[];for(let R=0;R<t.length;R++){let v=t[R];if(Uu(i,v.getBoundingClientRect(),l)){if(o.includes(v))s.includes(v)&&!a.includes(v)&&a.push(v);else{if(c&&s.includes(v)){f.push(v);continue}d.push(v)}h.push(v)}}c&&d.push(...s.filter(R=>!o.includes(R)));let T=u==="keep";for(let R=0;R<o.length;R++){let v=o[R];h.includes(v)||T&&s.includes(v)||f.push(v)}n.selected=h,n.changed={added:d,removed:f},this.q=h[h.length-1]}M(t,r){return this.emit(t,{event:r,store:this.i,selection:this})}U(){let{_:t,i:r}=this,{selected:n,changed:i,touched:s,stored:o}=r,a=n.filter(l=>!o.includes(l));switch(t.behaviour.overlap){case"drop":r.stored=[...a,...o.filter(l=>!s.includes(l))];break;case"invert":r.stored=[...a,...o.filter(l=>!i.removed.includes(l))];break;case"keep":r.stored=[...o,...n.filter(l=>!o.includes(l))]}}trigger(t,r=!0){this.k(t,r)}resolveSelectables(){this.o=Kr(this._.selectables,this._.document)}clearSelection(t=!0){this.i={stored:t?[]:this.i.stored,selected:[],touched:[],changed:{added:[],removed:[]}}}getSelection(){return this.i.stored}getSelectionArea(){return this.S}cancel(t=!1){this.$(null,!t)}destroy(){this.cancel(),this.disable(),this.A.remove(),super.unbindAllListeners()}select(t,r=!1){let{changed:n,selected:i,stored:s}=this.i,o=Kr(t,this._.document).filter(a=>!i.includes(a)&&!s.includes(a));return s.push(...o),i.push(...o),n.added.push(...o),!r&&this.M("move",null),o}deselect(t,r=!1){let{selected:n,stored:i,changed:s}=this.i;return!(!n.includes(t)&&!i.includes(t))&&(s.removed.push(t),Mu(i,t),Mu(n,t),!r&&this.M("move",null),!0)}};ys.version="3.0.0-beta.13";var Yu=ys;var Es=class extends ye.Div{async upgradedCallback(){this.draw(),this.classList.add("markings-editor-change")}draw(){ue(this,j`
        <ul class="changes">

        </ul>
        `)}};var hv={bin:'<path d="M0 0h24v24H0z" fill="none"/><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"/>',add:'<path d="M0 0h24v24H0z" fill="none"/><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>',remove:'<path d="M0 0h24v24H0z" fill="none"/><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>',edit:'<path d="M0 0h24v24H0z" fill="none"/><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>',close:'<path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>',menu_book_black:'<g><rect fill="none" height="24" width="24"/></g><g><g/><path d="M21,5c-1.11-0.35-2.33-0.5-3.5-0.5c-1.95,0-4.05,0.4-5.5,1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45,4.9,1,6v15.5 C2.45,20.4,4.55,20,6.5,20s4.05,0.4,5.5,1.5c1.45-1.1,3.55-1.5,5.5-1.5c1.17,0,2.39,0.15,3.5,0.5c0.75,0.25,1.4,0.55,2,1V6 C22.4,5.55,21.75,5.25,21,5z M21,18.5c-1.1-0.35-2.3-0.5-3.5-0.5c-1.7,0-4.15,0.65-5.5,1.5V8c1.35-0.85,3.8-1.5,5.5-1.5 c1.2,0,2.4,0.15,3.5,0.5V18.5z"/><g><path d="M17.5,10.5c0.88,0,1.73,0.09,2.5,0.26V9.24C19.21,9.09,18.36,9,17.5,9c-1.7,0-3.24,0.29-4.5,0.83v1.66 C14.13,10.85,15.7,10.5,17.5,10.5z"/><path d="M13,12.49v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26V11.9c-0.79-0.15-1.64-0.24-2.5-0.24 C15.8,11.66,14.26,11.96,13,12.49z"/><path d="M17.5,14.33c-1.7,0-3.24,0.29-4.5,0.83v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26v-1.52 C19.21,14.41,18.36,14.33,17.5,14.33z"/></g></g>',next:'<path d="M0 0h24v24H0z" fill="none"/><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>',prev:'<path d="M0 0h24v24H0z" fill="none"/><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>'},Ww=new Map,je=e=>j`<svg class=${e.replace(/_/g,"-")+" icon"} viewBox="0 0 24 24" ref=${t=>t.innerHTML=hv[e]}></svg>`;var Ts=class extends ye.Div{async upgradedCallback(){await this.draw(),await this.loadData(),Se.addEventListener("params-change",()=>this.loadData())}async loadData(){let{ownerId:t,repoId:r,bookId:n,chapterId:i}=be,s=await ot.getProject(t,r);if(this.book=n?s.books.find(o=>o.name===n):s.books[0],this.chapters=await this.book.getChapters(),!n||!i){if(n||(n=this.book.name),!i){let[o,a]=this.chapters[0];i=o}Ut(`/editor/${t}/${r}/${n}/${i}`,!0)}this.text=await this.book.getText(i),this.markingsStore=await this.book.getMarkingsStore(),this.markings=await this.markingsStore.getMarkings(i),this.bigMarkings=this.markings.filter(o=>!o.reference.isShort),await this.draw(),this.createSelectionArea()}clear(){for(let t of[...this.querySelectorAll(".selected")])t.classList.remove("selected");this.selection.clearSelection()}createSelectionArea(){let t=this.book.settings.book,{chapterId:r}=be;this.selection&&this.selection.destroy(),this.selection=new Yu({selectables:[".word"],boundaries:[".markings-editor"]}).on("beforedrag",()=>!1).on("start",({store:n,event:i})=>{if(!i.ctrlKey&&!i.metaKey){for(let s of n.stored)s.classList.remove("selected");this.selection.clearSelection()}}).on("move",({store:{changed:{added:n,removed:i}}})=>{for(let s of n)s.classList.add("selected");for(let s of i)s.classList.remove("selected")}).on("stop",n=>{let i=[...this.element.querySelectorAll(".word.selected")].filter(a=>a.hasAttribute("line-number")).map(a=>{let l=parseInt(a.getAttribute("line-number")),u=parseInt(a.getAttribute("word-number")),c=this.markings.filter(({reference:f})=>f.includes(t,parseInt(r),l,u)),h=a.querySelector(".selection-popup");h&&h.remove();let d=a.innerText.replace(/[\p{P}$+<=>^`|~]/gu,"").trim();return h&&a.appendChild(h),{lineNumber:l,wordNumber:u,text:d,markings:c,element:a}}),s=new Set,o=[];for(let a of i){if(o.length===0){o.push(a);continue}let l=o.at(-1),u=a.element.previousElementSibling.previousElementSibling;u.classList.contains("space")&&(u=u.previousElementSibling),u!==l.element&&(o.length&&s.add(o),o=[]),o.push(a)}s.add(o),this.dispatchEvent(new CustomEvent("selection",{detail:[...s.values()]}))})}wordMarkings(t,r=!1,n=[]){return t=t.filter(i=>i.reference.isShort).sort((i,s)=>s.reference.length-i.reference.length),j`<span class="markings">${t.map(i=>{let s=n.find(o=>o.predicate===i.predicate);return r&&!s?j``:j`
                <span class=${`marking ${Le(i.predicate).toLowerCase()}`} 
                    style=${`--color: ${ws(Le(i.predicate).toLowerCase())};`} 
                    title=${i?.comment}>
                </span>`})}</span>`}wordTemplate(t,r,n,i){let s=this.book.settings.book,o=this.markings.filter(({reference:c})=>c.includes(s,parseInt(t),r,n)),a=this.markings.filter(({reference:c})=>c.includes(s,parseInt(t),r,n+1)),l=o.find(c=>Le(c.predicate)==="Person"),u=o.map(c=>{let h=c.comment,d=Le(c.predicate);return h?h+", "+d:d}).join(`
`);return j`<span 
            title=${u} 
            person=${l?.subject} 
            chapter-id=${t}
            class="word" 
            word-number=${n} 
            line-number=${r}>${this.wordMarkings(o,!1,a)}${i}</span><span 
            class="word space">${this.wordMarkings(o,!0,a)} </span>`}async draw(){let{chapterId:t}=be,r=this.book?.settings.book,n=this.chapters?.find(([s])=>s.toString()===t.toString()),i=this.chapters?.indexOf(n);return ue(this,this.text?j`

        <${Es} ref=${s=>s.draw?s.draw():null} .changes=${this.markingsStore.changes} />

        ${i!==void 0&&i>0?j`
            <a class="prev-chapter" href=${this.chapters[i-1][0]}>${je("prev")}</a>
        `:null}
        
        ${i!==void 0&&i!==this.chapters.length-1?j`
            <a class="next-chapter" href=${this.chapters[i+1][0]}>${je("next")}</a>
        `:null}

        <div params=${JSON.stringify(be)} ref=${s=>this.element=s} class=${`markings-editor ${this.bigMarkings.length?"has-big-marking":""}`}>
            ${this.text.map(([s,o,a,l],u)=>{let c=this.markings.filter(({reference:R})=>R.includes(r,parseInt(t),s,1)&&(s===1||R.includes(r,parseInt(t),s-1,this.text[u-1].length))),h=this.wordMarkings(c),d=[],f=new Array(l);for(let R of f)d.push(j`<br><br>`);let T=o.split(" ").map((R,v)=>this.wordTemplate(t,s,v+1,R));return j.for(T)`${a?a(h):null}${T}${d}`})}

            ${this.bigMarkings.map(s=>{let o=Le(s.predicate);return j`<div ref=${a=>{setTimeout(()=>{let l=this.querySelector(`[chapter-id="${t}"][line-number="${s.reference.startVerse}"][word-number="${s.reference.startWord}"]`),u=this.querySelector(`[chapter-id="${t}"][line-number="${s.reference.endVerse}"][word-number="${s.reference.endWord}"]`);l.classList.add("start-of-big-marking"),a.style.setProperty("--y1",l.offsetTop-6+"px"),a.style.setProperty("--y2",u.offsetTop+50+"px"),a.style.setProperty("--color",ws(o.toLowerCase()))})}} class="big-marking">
                    <span class="text">${s.name}</span>
                </div>`})}

        </div>

        `:j`<span class="markings-editor">${te`Loading...`}</span>`)}};var he=class{constructor(t){this.selectionPopup=t}toString(){return this.constructor.name}};var xs=class extends he{applies(){return!this.selectionPopup.form}template(){return j`
        <button onclick=${()=>{this.selectionPopup.form="search",this.selectionPopup.draw()}} class="button nowrap">
            ${je("add")} ${te`Create marking`}
        </button>`}};function Ku(e,t,r){return r.indexOf(e)===t}function Vu(e,t,r=!1){let n;return function(){let i=this,s=arguments,o=function(){n=null,r||e.apply(i,s)},a=r&&!n;clearTimeout(n),n=setTimeout(o,t),a&&e.apply(i,s)}}var ks=class extends he{constructor(){super(...arguments);this.searchResults=null}applies(){return this.selectionPopup.predicate&&this.selectionPopup.form==="search"}template(){let t=this.selectionPopup.predicate&&this.searchResults===null,r=this.selectionPopup.predicateType!=="predicate",n=this.selectionPopup.predicate&&this.searchResults===null&&this.selectionPopup.predicateType==="predicate"&&this.selectionPopup.subject;if(t&&(r||n)){let i=this.selectionPopup.selections.flatMap(s=>s.map(o=>o.text.replace(/[\p{P}$+<=>^`|~]/gu,"").trim()).join(" ")).filter(Ku);this.selectionPopup.markingsStore.searchSubject(i,this.selectionPopup.predicate).then(s=>{this.searchResults=s,this.selectionPopup.draw()})}return j`
            <input type="search" onkeyup=${Vu(i=>{this.selectionPopup.markingsStore.searchSubject(i.target.value.split(" "),this.selectionPopup.predicate).then(s=>{this.searchResults=s,this.selectionPopup.draw()})},100)} placeholder=${te`Search existing`}>

            <!--uhtml crashes without this-->
            ${this.searchResults!==null?this.searchResults.length?j`${this.searchResults.map(i=>j`
            <span class="search-result">
                <span class="label" onclick=${async()=>{let{chapterId:s}=be,o=this.selectionPopup.markingsStore.bookAbbreviation,a=this.selectionPopup.selections.map(l=>{let u=l.at(0),c=l.at(-1),h=`${o}.${s}.${u.lineNumber}.${u.wordNumber}`,d=`${o}.${s}.${c.lineNumber}.${c.wordNumber}`;return h+":"+d});await this.selectionPopup.markingsStore.appendFactReferences(i.predicate,a),this.selectionPopup.remove(),Se.render()}}>${i.name}${i.comment?j`, ${i.comment}`:j``}</span>
            </span>
            `)}`:j``:j``}
        `}};var Qu=e=>function(t,r,n){return n.indexOf(n.find(i=>i[e]===t[e]))===r};var As=class extends he{applies(){return this.selectionPopup.markings.length&&!this.selectionPopup.form}template(){return j`
        <!--uhtml crashes without this-->
        ${this.selectionPopup.markings.filter(Qu("subject")).map(t=>{let r=Le(t.predicate).toLowerCase();return j`
            <span class="search-result">
                <span class="label">${r}: ${t.name}</span>
                <button class="button mini" onclick=${()=>{this.selectionPopup.form="delete",this.selectionPopup.subject=t.subject,this.selectionPopup.draw()}}>${je("remove")}</button>
                <button class="button mini" onclick=${()=>{this.selectionPopup.form="edit",this.selectionPopup.subject=t.subject,this.selectionPopup.name=t.name,this.selectionPopup.comment=t.comment,this.selectionPopup.draw()}}>${je("edit")}</button>
            </span>`})}`}};var Ss=class extends he{constructor(){super(...arguments);this.count=null}applies(){return this.selectionPopup.form==="delete"}template(){this.count===null&&this.selectionPopup.markingsStore.getReferencesCountForFact(this.selectionPopup.subject).then(s=>{this.count=s,this.selectionPopup.draw()});let t=this.selectionPopup.markings.filter(s=>s.subject===this.selectionPopup.subject),r=t[0],n=t.map(s=>s.reference.toString()),i=Le(r.predicate);return j`
            <span class="search-result">
            <span class="label">
            ${i}: ${r.name}
            </span>
            </span>

            ${this.count>1?j`
                <button class="button nowrap" onclick=${async()=>{await this.selectionPopup.markingsStore.removeFactReferences(r.subject,n),this.selectionPopup.remove(),Se.render()}}>${je("remove")}${te`Remove only this marking`}</button>
            `:j``}

            <button class="button nowrap" onclick=${async()=>{await this.selectionPopup.markingsStore.deleteFact(r.subject),this.selectionPopup.remove(),Se.render()}}>${je("bin")}${te`Remove every marking`}</button>
        `}};var Rs=class extends he{applies(){return["edit","create"].includes(this.selectionPopup.form)}template(){return j`
        <form class="predicate-part" onsubmit=${async t=>{t.preventDefault();let{ownerId:r,repoId:n,chapterId:i}=be,s=this.selectionPopup.markingsStore.bookAbbreviation,o=this.selectionPopup.selections.map(a=>{let l=a.at(0),u=a.at(-1),c=`${s}.${i}.${l.lineNumber}.${l.wordNumber}`,h=`${s}.${i}.${u.lineNumber}.${u.wordNumber}`;return c+":"+h});await this.selectionPopup.markingsStore.insertFact({uri:`https://biblogos.info/${r}/${n}/${this.selectionPopup.identifier}`,name:this.selectionPopup.name,predicate:this.selectionPopup.predicate,subject:this.selectionPopup.subject,references:o,comment:this.selectionPopup.comment}),this.selectionPopup.remove(),Se.render()}}>
            <div class="field">
                <label>${te`Text`}</label>
                <input required type="text" 
                    onchange=${t=>this.selectionPopup.name=t.target.value} 
                    .value=${this.selectionPopup.name} />
            </div>

            <div class="field">
                <label>${te`Identifier`}</label>
                <input required type="text" 
                    onchange=${t=>this.selectionPopup.identifier=t.target.value} 
                    .value=${this.selectionPopup.identifier} />
            </div>

            <div class="field">
                <label>${te`Optional comment`}</label>
                <textarea onchange=${t=>this.selectionPopup.comment=t.target.value}>${this.selectionPopup.comment}</textarea>
            </div>

            <button class="button primary">${te`Save`}</button>
        </form>`}};function Vr({title:e,values:t,onchange:r,currentValue:n="",extraCssClass:i=""}){return j`
    <div class="field">
        ${e?j`<label class="field-label">${e}</label>`:null}

        <div class=${`select ${i}`}>
            <select onchange=${r}>
                ${t.map(([s,o])=>j`<option ?disabled=${s===""} .selected=${s.toString()===n.toString()?!0:null} value=${s}>${o}</option>`)}
            </select>

            <div class="focus"></div>
        </div>

    </div>
    `}var Ps=class extends he{applies(){return this.selectionPopup.form==="search"}template(){return this.factPredicates||this.selectionPopup.markingsStore.getFactPredicates().then(t=>{this.factPredicates=t,this.selectionPopup.draw()}),this.factPredicates?Vr({title:te`Relation type`,currentValue:this.selectionPopup.predicate?this.selectionPopup.predicate+"|"+this.selectionPopup.predicateType:"",values:[["","- Select -"],...this.factPredicates.map(t=>[t.predicate+"|"+t.type,t.label])].filter(([t])=>!this.selectionPopup.markings.find(r=>r.predicate===t)),onchange:t=>{let[r,n]=t.target.value.split("|");this.selectionPopup.predicate=r,this.selectionPopup.predicateType=n,this.selectionPopup.draw()}}):j`
            <span>${te`Loading...`}</span>
        `}};function Ju(e){return e.trim().replaceAll("  "," ").toLowerCase().trim().split(/[ -_]/g).map(r=>r.replace(r?.[0],r[0]?.toString().toUpperCase())).join("")}var Os=class extends he{applies(){let t=this.selectionPopup.predicate&&this.selectionPopup.form==="search",r=this.selectionPopup.predicateType!=="predicate",n=this.selectionPopup.subject&&this.selectionPopup.predicateType==="predicate";return t&&(r||n)}buttonClick(){let t=this.selectionPopup.selections.flatMap(n=>n.map(i=>i.text).join(" ")).join(" "),r=this.selectionPopup.subject?Le(this.selectionPopup.subject):null;this.selectionPopup.name=t,this.selectionPopup.identifier=Ju((r??"")+" "+t),this.selectionPopup.form="create",this.selectionPopup.draw()}template(){return j`
        <button onclick=${this.buttonClick.bind(this)} class="button nowrap">
            ${je("add")} ${te`New marking`}
        </button>`}};var Cs=class extends he{applies(){return this.selectionPopup.predicate&&this.selectionPopup.form==="search"&&this.selectionPopup.predicateType==="predicate"&&!this.selectionPopup.subject}textClick(t){if(t.stopImmediatePropagation(),!t.target.classList?.contains("word"))return;let r=t.target.getAttribute("person");t.target.classList.add("selected"),this.selectionPopup.subject=r,this.selectionPopup.form="search",this.selectionPopup.draw()}template(){return document.querySelector(".markings-editor").addEventListener("mouseup",this.textClick.bind(this),{once:!0}),j`
        <span class="search-result">
            <span class="label">${te`Select the subject`}</span>
        </span>
        `}};var Is=class extends he{applies(){return!0}template(){return j`
        <button onclick=${()=>{this.selectionPopup.markingsEditor.clear(),this.selectionPopup.remove()}} class="button cancel-button secondary nowrap">
            ${te`Cancel`}
        </button>`}};var js=e=>e.stopImmediatePropagation(),Fs=class extends ye.Span{constructor(t,r,n){super();this.subject="",this.identifier="",this.predicate="",this.predicateType="",this.object="",this.name="",this.comment="",this.afterRenders=[],this.selections=t,this.markingsStore=r,this.markingsEditor=n,this.markings=t.flatMap(i=>i.flatMap(s=>s.markings)),this.draw(),this.addEventListener("mousedown",js),this.addEventListener("mouseup",js),this.addEventListener("click",js)}async upgradedCallback(){document.body.classList.add("has-selection-popup"),this.popupParts=[new Ps(this),new ks(this),new As(this),new Ss(this),new Rs(this),new Os(this),new xs(this),new Is(this),new Cs(this)],this.classList.add("selection-popup")}async draw(){let t=this.popupParts.filter(r=>r.applies());await ue(this,j`${t.map(r=>r.template())}`);for(let r of this.afterRenders)r();this.afterRenders=[]}addAfterRender(t){this.afterRenders.push(t)}remove(){document.body.classList.remove("has-selection-popup"),super.remove()}};var Gs=class extends ye.Div{async upgradedCallback(){let{ownerId:t,repoId:r,bookId:n}=be;if(this.project=await ot.getProject(t,r),this.book=this.project.books.find(i=>i.name===n),this.bookOptions=this.project.books.map(i=>[i.settings.name,i.settings.name]),this.chapters=await this.book?.getChapters(),this.classList.add("book-navigation"),!this.book){Se.addEventListener("params-change",()=>{this.upgradedCallback()},{once:!0});return}Se.addEventListener("params-change",()=>this.draw()),this.draw()}draw(){console.log(be.chapterId),!!this.book&&ue(this,j`

        <h2 class="project-title">${this.project.name}</h2>

        ${Vr({values:this.bookOptions,onchange:t=>{let r=location.pathname.split("/");r[4]=t.target.value,Ut(r.join("/"))},currentValue:be.bookId})}

        ${Vr({values:this.chapters,onchange:t=>{let r=location.pathname.split("/");r[5]=t.target.value,Ut(r.join("/"))},currentValue:be.chapterId})}
        
        `)}};var Xu={name:"editor",template:function(){let e;return j`
            <${Yr} .extra=${j`<${Gs} />`} />
            <${Ts} class="route" ref=${t=>e=t} onclick=${t=>{t.target.classList.contains("word")||(e.clear(),document.querySelector(".selection-popup")?.remove())}} class="route-editor" onselection=${t=>{let r=t.detail,n=r[0][0]?.element;if(document.querySelector(".selection-popup")?.remove(),n){let i=new Fs(r,e.markingsStore,e);n.appendChild(i)}}} />
        `}};var Zu={name:"oauth-callback",redirect:()=>{let t=new URLSearchParams(location.search).get("code");return localStorage.githubCode=t,"/editor"}};var ec={name:"login",redirect:()=>"https://biblogos.info/login"};var tc={name:"not-found",template:()=>j`Not found`};var pv,be,Qr=e=>(t,r)=>(pv=t,be=r,e),fv=[{path:"/",action:Qr(Du)},{path:"/editor/:ownerId/:repoId/:bookId?/:chapterId?",action:Qr(Xu)},{path:"/login",action:Qr(ec)},{path:"/oauth-callback",action:Qr(Zu)},{path:"(.*)",action:Qr(tc)}],rc=new bo(fv),Ut=(e,t=!1)=>(location.pathname!==e&&history[t?"replaceState":"pushState"]({},"",e),Se.render());var Mt=null,nc=class extends EventTarget{constructor(){super();document.body.addEventListener("click",t=>{let r=t.target.nodeName!=="A"?t.target.closest("a"):t.target;if(r){let n=r.getAttribute("href");n&&(n[0]==="/"||!n.startsWith("http"))&&(t.preventDefault(),setTimeout(()=>Ut(n)))}}),window.addEventListener("popstate",()=>this.render()),this.render()}async render(){try{let t=await rc.resolve({pathname:location.pathname});if(t.redirect){let r=t.redirect();r.startsWith("http")?location.replace(r):location.pathname=r}else{Mt?.unload&&Mt.unload();let r=t.params;t.params=be;let n=r===be;(Mt!==t||!n)&&t.load&&t.load(),document.body.dataset.route=t.name,await ue(document.body,t.template()),Mt!==t&&this.dispatchEvent(new CustomEvent("route-change")),Mt===t&&!n&&this.dispatchEvent(new CustomEvent("params-change")),Mt!==t&&t.afterTemplate&&t.afterTemplate(),Mt=t}}catch(t){ue(document.body,j`<h3>Exception: ${t.message}</h3>`)}}},Se=new nc;export{Se as app};
/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! (c) Andrea Giammarchi - ISC */
/*! @viselect/vanilla 3.0.0-beta.13 MIT | https://github.com/Simonwep/selection */
/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */
/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=app.js.map
