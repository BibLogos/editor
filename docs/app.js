"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}});var an=!0,pi=!1,oo="querySelectorAll";function Ic(t){this.observe(t,{subtree:an,childList:an})}var jc=(t,e,r)=>{let n=(s,o,a,l,u)=>{for(let c=0,{length:h}=s;c<h;c++){let d=s[c];(u||oo in d)&&(l?o.has(d)||(o.add(d),a.delete(d),t(d,l)):a.has(d)||(a.add(d),o.delete(d),t(d,l)),u||n(d[oo]("*"),o,a,l,an))}},i=new(r||MutationObserver)(s=>{for(let o=new Set,a=new Set,l=0,{length:u}=s;l<u;l++){let{addedNodes:c,removedNodes:h}=s[l];n(h,o,a,pi,pi),n(c,o,a,an,pi)}});return i.add=Ic,i.add(e||document),i},ln="Callback",fi="Element",di="constructor",un="prototype",gi="attributeChanged"+ln,Cr="connected"+ln,ao="dis"+Cr,lo="upgraded"+ln,uo="downgraded"+ln,Fc={Anchor:"A",DList:"DL",Directory:"Dir",Heading:["H6","H5","H4","H3","H2","H1"],Image:"Img",OList:"OL",Paragraph:"P",TableCaption:"Caption",TableCell:["TH","TD"],TableRow:"TR",UList:"UL",[fi]:["Article","Aside","Footer","Header","Main","Nav","Section",fi]};var{getOwnPropertyNames:Gc,setPrototypeOf:co}=Object,mi=new WeakMap,_i=new WeakMap,ho=new Set,po=(t,e)=>document.createElementNS(e?"http://www.w3.org/2000/svg":"",t),Lc=new MutationObserver(t=>{for(let e=0;e<t.length;e++){let{target:r,attributeName:n,oldValue:i}=t[e];mi.has(r)&&r[gi](n,i,r.getAttribute(n))}}),$c=t=>{ho.has(t[di])||(mi.delete(t),_i.delete(t),uo in t&&t[uo](),co(t,po(t.tagName,"ownerSVGElement"in t)[di][un]))},fo=(t,e)=>{if(!(t instanceof e)){$c(t),co(t,e[un]),lo in t&&t[lo]();let{observedAttributes:r}=e;if(r&&gi in t){mi.set(t,0),Lc.observe(t,{attributeFilter:r,attributeOldValue:!0,attributes:!0});for(let n=0;n<r.length;n++){let i=r[n],s=t.getAttribute(i);s!=null&&t[gi](i,null,s)}}(Cr in t||ao in t)&&(_i.set(t,0),t.isConnected&&Cr in t&&t[Cr]())}return t},Dc={},fe={};Gc(window).forEach(t=>{if(/^(HTML|SVG)/.test(t)){let{$1:e}=RegExp,r=e=="SVG",n=t.slice(e.length,-7)||fi,i=r?Dc:fe,s=window[t];ho.add(s),[].concat(Fc[n]||n).forEach(o=>{let a=o.toLowerCase();l.tagName=a,l[un]=s[un],i[n]=i[o]=l;function l(){return fo(po(a,r),this[di])}})}});var sy=jc((t,e)=>{if(_i.has(t)){let r=e?Cr:ao;r in t&&t[r]()}}),go=new WeakMap,Uc=(t,...e)=>{let{t:r,v:n}=Nc(t,e),i=go.get(t)||go.set(t,{}).get(t);return(i[r]||(i[r]=[r])).concat(n.map(s=>e[s]))},Nc=(t,e)=>{let r=[t[0]],n=[];for(let i=0,s=0,o=0,{length:a}=e;s<a;s++)e[s]instanceof mo?r[i]+=e[s].v+t[s+1]:(n[o++]=s,r[++i]=t[s+1]);return{t:r,v:n}},_o=t=>new mo(t);function mo(t){this.v=t}var bi=t=>({get:e=>t.get(e),set:(e,r)=>(t.set(e,r),r)}),bo=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,Mc=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,Bc=/<[a-z][^>]+$/i,qc=/>[^<>]*$/,Hc=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/ig,zc=/\s+$/,wo=(t,e)=>0<e--&&(Bc.test(t[e])||!qc.test(t[e])&&wo(t,e)),Wc=(t,e,r)=>Mc.test(e)?t:`<${e}${r.replace(zc,"")}></${e}>`,Yc=(t,e,r)=>{let n=[],{length:i}=t;for(let o=1;o<i;o++){let a=t[o-1];n.push(bo.test(a)&&wo(t,o)?a.replace(bo,(l,u,c)=>`${e}${o-1}=${c||'"'}${u}${c?"":'"'}`):`${a}<!--${e}${o-1}-->`)}n.push(t[i-1]);let s=n.join("").trim();return r?s:s.replace(Hc,Wc)},{isArray:wi}=Array,{indexOf:Kc,slice:yo}=[],Vc=1,vo=111,Qc=({firstChild:t,lastChild:e})=>{let r=document.createRange();return r.setStartAfter(t),r.setEndAfter(e),r.deleteContents(),t},Jc=(t,e)=>t.nodeType===vo?1/e<0?e?Qc(t):t.lastChild:e?t.valueOf():t.firstChild:t,Xc=t=>{let{childNodes:e}=t,{length:r}=e;if(r<2)return r?e[0]:t;let n=yo.call(e,0),i=n[0],s=n[r-1];return{ELEMENT_NODE:Vc,nodeType:vo,firstChild:i,lastChild:s,valueOf(){if(e.length!==r){let o=0;for(;o<r;)t.appendChild(n[o++])}return t}}},Zc=(t,e,r,n,i)=>{let s=r.length,o=e.length,a=s,l=0,u=0,c=null;for(;l<o||u<a;)if(o===l){let h=a<s?u?n(r[u-1],-0).nextSibling:n(r[a-u],0):i;for(;u<a;)t.insertBefore(n(r[u++],1),h)}else if(a===u)for(;l<o;)(!c||!c.has(e[l]))&&t.removeChild(n(e[l],-1)),l++;else if(e[l]===r[u])l++,u++;else if(e[o-1]===r[a-1])o--,a--;else if(e[l]===r[a-1]&&r[u]===e[o-1]){let h=n(e[--o],-1).nextSibling;t.insertBefore(n(r[u++],1),n(e[l++],-1).nextSibling),t.insertBefore(n(r[--a],1),h),e[o]=r[a]}else{if(!c){c=new Map;let h=u;for(;h<a;)c.set(r[h],h++)}if(c.has(e[l])){let h=c.get(e[l]);if(u<h&&h<a){let d=l,f=1;for(;++d<o&&d<a&&c.get(e[d])===h+f;)f++;if(f>h-u){let v=n(e[l],0);for(;u<h;)t.insertBefore(n(r[u++],1),v)}else t.replaceChild(n(r[u++],1),n(e[l++],-1))}else l++}else t.removeChild(n(e[l++],-1))}return r},eh=t=>e=>{for(let r in e){let n=r==="role"?r:`aria-${r}`,i=e[r];i==null?t.removeAttribute(n):t.setAttribute(n,i)}},th=(t,e)=>{let r,n=!0,i=document.createAttributeNS(null,e);return s=>{if(r!==s)if(r=s,r==null)n||(t.removeAttributeNode(i),n=!0);else{let o=s;o==null?(n||t.removeAttributeNode(i),n=!0):(i.value=o,n&&(t.setAttributeNodeNS(i),n=!1))}}},rh=(t,e,r)=>n=>{r!==!!n&&((r=!!n)?t.setAttribute(e,""):t.removeAttribute(e))},nh=({dataset:t})=>e=>{for(let r in e){let n=e[r];n==null?delete t[r]:t[r]=n}},Eo=(t,e)=>{let r,n,i=e.slice(2);return!(e in t)&&(n=e.toLowerCase())in t&&(i=n.slice(2)),s=>{let o=wi(s)?s:[s,!1];r!==o[0]&&(r&&t.removeEventListener(i,r,o[1]),(r=o[0])&&t.addEventListener(i,r,o[1]))}},ih=t=>{let e;return r=>{e!==r&&(e=r,typeof r=="function"?r(t):r.current=t)}},sh=(t,e)=>e==="dataset"?nh(t):r=>{t[e]=r},oh=t=>{let e;return r=>{e!=r&&(e=r,t.textContent=r??"")}},ah=({childNodes:t},e)=>t[e],Ir=(t,e,r)=>Zc(t.parentNode,e,r,Jc,t),lh=t=>{let e,r,n=[],i=s=>{switch(typeof s){case"string":case"number":case"boolean":e!==s&&(e=s,r||(r=document.createTextNode("")),r.data=s,n=Ir(t,n,[r]));break;case"object":case"undefined":if(s==null){e!=s&&(e=s,n=Ir(t,n,[]));break}if(wi(s)){e=s,s.length===0?n=Ir(t,n,[]):typeof s[0]=="object"?n=Ir(t,n,s):i(String(s));break}e!==s&&"ELEMENT_NODE"in s&&(e=s,n=Ir(t,n,s.nodeType===11?yo.call(s.childNodes):[s]));break;case"function":i(s(t));break}};return i},uh=(t,e)=>{switch(e[0]){case"?":return rh(t,e.slice(1),!1);case".":return sh(t,e.slice(1));case"@":return Eo(t,"on"+e.slice(1));case"o":if(e[1]==="n")return Eo(t,e)}switch(e){case"ref":return ih(t);case"aria":return eh(t)}return th(t,e)};function ch(t){let{type:e,path:r}=t,n=r.reduceRight(ah,this);return e==="node"?lh(n):e==="attr"?uh(n,t.name):oh(n)}var To=function(t){var e="fragment",r="template",n="content"in o(r),i=n?function(l){var u=o(r);return u.innerHTML=l,u.content}:function(l){var u=o(e),c=o(r),h=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(l)){var d=RegExp.$1;c.innerHTML="<table>"+l+"</table>",h=c.querySelectorAll(d)}else c.innerHTML=l,h=c.childNodes;return s(u,h),u};return function(u,c){return(c==="svg"?a:i)(u)};function s(l,u){for(var c=u.length;c--;)l.appendChild(u[0])}function o(l){return l===e?t.createDocumentFragment():t.createElementNS("http://www.w3.org/1999/xhtml",l)}function a(l){var u=o(e),c=o("div");return c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+l+"</svg>",s(u,c.firstChild.childNodes),u}}(document),ko=document.importNode.length!=1,hh=ko?(t,e,r)=>document.importNode(To(t,e,r),!0):To,ph=ko?t=>document.createTreeWalker(t,1|128,null,!1):t=>document.createTreeWalker(t,1|128),yi=t=>{let e=[],{parentNode:r}=t;for(;r;)e.push(Kc.call(r.childNodes,t)),t=r,r=t.parentNode;return e},jr="isÂµ",xo=bi(new WeakMap),fh=/^(?:plaintext|script|style|textarea|title|xmp)$/i,Fr=()=>({stack:[],entry:null,wire:null}),gh=(t,e)=>{let{content:r,updates:n}=dh(t,e);return{type:t,template:e,content:r,updates:n,wire:null}},mh=(t,e)=>{let r=Yc(e,jr,t==="svg"),n=hh(r,t),i=ph(n),s=[],o=e.length-1,a=0,l=`${jr}${a}`;for(;a<o;){let u=i.nextNode();if(!u)throw`bad template: ${r}`;if(u.nodeType===8)u.data===l&&(s.push({type:"node",path:yi(u)}),l=`${jr}${++a}`);else{for(;u.hasAttribute(l);)s.push({type:"attr",path:yi(u),name:u.getAttribute(l)}),u.removeAttribute(l),l=`${jr}${++a}`;fh.test(u.tagName)&&u.textContent.trim()===`<!--${l}-->`&&(u.textContent="",s.push({type:"text",path:yi(u)}),l=`${jr}${++a}`)}}return{content:n,nodes:s}},dh=(t,e)=>{let{content:r,nodes:n}=xo.get(e)||xo.set(e,mh(t,e)),i=document.importNode(r,!0),s=n.map(ch,i);return{content:i,updates:s}},cn=(t,{type:e,template:r,values:n})=>{let{length:i}=n;Ao(t,n,i);let{entry:s}=t;(!s||s.template!==r||s.type!==e)&&(t.entry=s=gh(e,r));let{content:o,updates:a,wire:l}=s;for(let u=0;u<i;u++)a[u](n[u]);return l||(s.wire=Xc(o))},Ao=({stack:t},e,r)=>{for(let n=0;n<r;n++){let i=e[n];i instanceof vi?e[n]=cn(t[n]||(t[n]=Fr()),i):wi(i)?Ao(t[n]||(t[n]=Fr()),i,i.length):t[n]=null}r<t.length&&t.splice(r)};function vi(t,e,r){this.type=t,this.template=e,this.values=r}var{create:_h,defineProperties:bh}=Object,So=t=>{let e=bi(new WeakMap),r=n=>(i,...s)=>cn(n,{type:t,template:i,values:s});return bh((n,...i)=>new vi(t,n,i),{for:{value(n,i){let s=e.get(n)||e.set(n,_h(null));return s[i]||(s[i]=r(Fr()))}},node:{value:(n,...i)=>cn(Fr(),{type:t,template:n,values:i}).valueOf()}})},Ro=bi(new WeakMap),wh=(t,e)=>{let r=typeof e=="function"?e():e,n=Ro.get(t)||Ro.set(t,Fr()),i=r instanceof vi?cn(n,r):r;return i!==n.wire&&(n.wire=i,t.textContent="",t.appendChild(i.valueOf())),t},yh=So("html"),vh=So("svg"),hn="data-ube",Po=new WeakMap,Ei=[],Eh=t=>{let e=Ei.indexOf(t);return e<0?Ei.push(t)-1:e},Co=t=>{function e(){return Oo.apply(t,arguments)}return e.for=(r,n)=>function(){return Oo.apply(t.for(r,n),arguments)},e};function de(t){let e=wh.apply(this,arguments),r=t.querySelectorAll(`[${hn}]`);for(let n=0,{length:i}=r;n<i;n++){let s=Ei[r[n].getAttribute(hn)];r[n].removeAttribute(hn),fo(r[n],s)}return e}var F=Co(yh),oy=Co(vh);function Oo(...t){let[e]=t,r=Po.get(e);if(r)for(let n=0,{length:i}=r;n<i;n++)t[r[n].i]=r[n].v;else{Po.set(e,r=[]);for(let n=1,{length:i}=t;n<i;n++){let s=t[n];if(typeof s=="function"&&"tagName"in s){let{tagName:o}=s,a=e[n-1];switch(a[a.length-1]){case"<":s=_o(`${o} ${hn}=${Eh(s)}`);break;case"/":s=_o(o);break}r.push({i:n,v:s}),t[n]=s}}}return this.apply(null,Uc.apply(null,t))}function Th(t){for(var e=[],r=0;r<t.length;){var n=t[r];if(n==="*"||n==="+"||n==="?"){e.push({type:"MODIFIER",index:r,value:t[r++]});continue}if(n==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});continue}if(n==="{"){e.push({type:"OPEN",index:r,value:t[r++]});continue}if(n==="}"){e.push({type:"CLOSE",index:r,value:t[r++]});continue}if(n===":"){for(var i="",s=r+1;s<t.length;){var o=t.charCodeAt(s);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o===95){i+=t[s++];continue}break}if(!i)throw new TypeError("Missing parameter name at "+r);e.push({type:"NAME",index:r,value:i}),r=s;continue}if(n==="("){var a=1,l="",s=r+1;if(t[s]==="?")throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<t.length;){if(t[s]==="\\"){l+=t[s++]+t[s++];continue}if(t[s]===")"){if(a--,a===0){s++;break}}else if(t[s]==="("&&(a++,t[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+s);l+=t[s++]}if(a)throw new TypeError("Unbalanced pattern at "+r);if(!l)throw new TypeError("Missing pattern at "+r);e.push({type:"PATTERN",index:r,value:l}),r=s;continue}e.push({type:"CHAR",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}function kh(t,e){e===void 0&&(e={});for(var r=Th(t),n=e.prefixes,i=n===void 0?"./":n,s="[^"+er(e.delimiter||"/#?")+"]+?",o=[],a=0,l=0,u="",c=function(V){if(l<r.length&&r[l].type===V)return r[l++].value},h=function(V){var ae=c(V);if(ae!==void 0)return ae;var xe=r[l],I=xe.type,O=xe.index;throw new TypeError("Unexpected "+I+" at "+O+", expected "+V)},d=function(){for(var V="",ae;ae=c("CHAR")||c("ESCAPED_CHAR");)V+=ae;return V};l<r.length;){var f=c("CHAR"),v=c("NAME"),A=c("PATTERN");if(v||A){var w=f||"";i.indexOf(w)===-1&&(u+=w,w=""),u&&(o.push(u),u=""),o.push({name:v||a++,prefix:w,suffix:"",pattern:A||s,modifier:c("MODIFIER")||""});continue}var j=f||c("ESCAPED_CHAR");if(j){u+=j;continue}u&&(o.push(u),u="");var D=c("OPEN");if(D){var w=d(),K=c("NAME")||"",H=c("PATTERN")||"",re=d();h("CLOSE"),o.push({name:K||(H?a++:""),pattern:K&&!H?s:H,prefix:w,suffix:re,modifier:c("MODIFIER")||""});continue}h("END")}return o}function Ah(t,e){var r=[],n=Io(t,r,e);return xh(n,r,e)}function xh(t,e,r){r===void 0&&(r={});var n=r.decode,i=n===void 0?function(s){return s}:n;return function(s){var o=t.exec(s);if(!o)return!1;for(var a=o[0],l=o.index,u=Object.create(null),c=function(d){if(o[d]===void 0)return"continue";var f=e[d-1];f.modifier==="*"||f.modifier==="+"?u[f.name]=o[d].split(f.prefix+f.suffix).map(function(v){return i(v,f)}):u[f.name]=i(o[d],f)},h=1;h<o.length;h++)c(h);return{path:a,index:l,params:u}}}function er(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function jo(t){return t&&t.sensitive?"":"i"}function Sh(t,e){if(!e)return t;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,i=r.exec(t.source);i;)e.push({name:i[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),i=r.exec(t.source);return t}function Rh(t,e,r){var n=t.map(function(i){return Io(i,e,r).source});return new RegExp("(?:"+n.join("|")+")",jo(r))}function Oh(t,e,r){return Ph(kh(t,r),e,r)}function Ph(t,e,r){r===void 0&&(r={});for(var n=r.strict,i=n===void 0?!1:n,s=r.start,o=s===void 0?!0:s,a=r.end,l=a===void 0?!0:a,u=r.encode,c=u===void 0?function(V){return V}:u,h="["+er(r.endsWith||"")+"]|$",d="["+er(r.delimiter||"/#?")+"]",f=o?"^":"",v=0,A=t;v<A.length;v++){var w=A[v];if(typeof w=="string")f+=er(c(w));else{var j=er(c(w.prefix)),D=er(c(w.suffix));if(w.pattern)if(e&&e.push(w),j||D)if(w.modifier==="+"||w.modifier==="*"){var K=w.modifier==="*"?"?":"";f+="(?:"+j+"((?:"+w.pattern+")(?:"+D+j+"(?:"+w.pattern+"))*)"+D+")"+K}else f+="(?:"+j+"("+w.pattern+")"+D+")"+w.modifier;else f+="("+w.pattern+")"+w.modifier;else f+="(?:"+j+D+")"+w.modifier}}if(l)i||(f+=d+"?"),f+=r.endsWith?"(?="+h+")":"$";else{var H=t[t.length-1],re=typeof H=="string"?d.indexOf(H[H.length-1])>-1:H===void 0;i||(f+="(?:"+d+"(?="+h+"))?"),re||(f+="(?="+d+"|"+h+")")}return new RegExp(f,jo(r))}function Io(t,e,r){return t instanceof RegExp?Sh(t,e):Array.isArray(t)?Rh(t,e,r):Oh(t,e,r)}function Ch(t){try{return decodeURIComponent(t)}catch(e){return t}}function Fo(t,e,r,n,i){var s,o,a=0;return{next:function(u){if(t===u)return{done:!0,value:!1};if(!s){var c=t,h=!c.children;if(c.match||(c.match=Ah(c.path||"",Object.assign({end:h},r))),s=c.match(n),s){var d=s,f=d.path;return s.path=!h&&f.charAt(f.length-1)==="/"?f.substr(1):f,s.params=Object.assign({},i,s.params),{done:!1,value:{route:t,baseUrl:e,path:s.path,params:s.params}}}}if(s&&t.children)for(;a<t.children.length;){if(!o){var v=t.children[a];v.parent=t,o=Fo(v,e+s.path,r,n.substr(s.path.length),s.params)}var A=o.next(u);if(!A.done)return{done:!1,value:A.value};o=null,a++}return{done:!0,value:!1}}}}function Ih(t,e){if(typeof t.route.action=="function")return t.route.action(t,e)}function jh(t,e){for(var r=e;r;)if(r=r.parent,r===t)return!0;return!1}var Fh=function(){function t(r,n){if(!r||typeof r!="object")throw new TypeError("Invalid routes");this.options=Object.assign({decode:Ch},n),this.baseUrl=this.options.baseUrl||"",this.root=Array.isArray(r)?{path:"",children:r,parent:null}:r,this.root.parent=null}var e=t.prototype;return e.resolve=function(n){var i=this,s=Object.assign({router:this},this.options.context,typeof n=="string"?{pathname:n}:n),o=Fo(this.root,this.baseUrl,this.options,s.pathname.substr(this.baseUrl.length)),a=this.options.resolveRoute||Ih,l,u,c=s;function h(d,f,v){f===void 0&&(f=!l.done&&l.value.route);var A=v===null&&!l.done&&l.value.route;if(l=u||o.next(A),u=null,!d&&(l.done||!jh(f,l.value.route)))return u=l,Promise.resolve(null);if(l.done){var w=new Error("Route not found");return w.status=404,Promise.reject(w)}return c=Object.assign({},s,l.value),Promise.resolve(a(c,l.value.params)).then(function(j){return j??h(d,f,j)})}return s.next=h,Promise.resolve().then(function(){return h(!0,i.root)}).catch(function(d){if(i.options.errorHandler)return i.options.errorHandler(d,c);throw d})},t}(),Go=Fh;var Ke=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function rt(t,e,r){return r={path:e,exports:{},require:function(n,i){return pn(n,i??r.path)}},t(r,r.exports),r.exports}function Gr(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")&&Object.keys(t).length===1?t.default:t}function pn(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var fn=typeof fn!="undefined"?fn:typeof self!="undefined"?self:typeof window!="undefined"?window:{},Ve=[],Ne=[],Gh=typeof Uint8Array!="undefined"?Uint8Array:Array,Ti=!1;function Lo(){Ti=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)Ve[e]=t[e],Ne[t.charCodeAt(e)]=e;Ne["-".charCodeAt(0)]=62,Ne["_".charCodeAt(0)]=63}function Lh(t){Ti||Lo();var e,r,n,i,s,o,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=t[a-2]==="="?2:t[a-1]==="="?1:0,o=new Gh(a*3/4-s),n=s>0?a-4:a;var l=0;for(e=0,r=0;e<n;e+=4,r+=3)i=Ne[t.charCodeAt(e)]<<18|Ne[t.charCodeAt(e+1)]<<12|Ne[t.charCodeAt(e+2)]<<6|Ne[t.charCodeAt(e+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=i&255;return s===2?(i=Ne[t.charCodeAt(e)]<<2|Ne[t.charCodeAt(e+1)]>>4,o[l++]=i&255):s===1&&(i=Ne[t.charCodeAt(e)]<<10|Ne[t.charCodeAt(e+1)]<<4|Ne[t.charCodeAt(e+2)]>>2,o[l++]=i>>8&255,o[l++]=i&255),o}function $h(t){return Ve[t>>18&63]+Ve[t>>12&63]+Ve[t>>6&63]+Ve[t&63]}function Dh(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push($h(n));return i.join("")}function $o(t){Ti||Lo();for(var e,r=t.length,n=r%3,i="",s=[],o=16383,a=0,l=r-n;a<l;a+=o)s.push(Dh(t,a,a+o>l?l:a+o));return n===1?(e=t[r-1],i+=Ve[e>>2],i+=Ve[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=Ve[e>>10],i+=Ve[e>>4&63],i+=Ve[e<<2&63],i+="="),s.push(i),s.join("")}function dn(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=s*256+t[e+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+t[e+h],h+=d,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(f?-1:1)*Infinity;o=o+Math.pow(2,n),s=s-u}return(f?-1:1)*o*Math.pow(2,s-n)}function Do(t,e,r,n,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,h=c>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,v=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=d/l:e+=d*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+f]=a&255,f+=v,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+f]=o&255,f+=v,o/=256,u-=8);t[r+f-v]|=A*128}var Nh={}.toString,No=Array.isArray||function(t){return Nh.call(t)=="[object Array]"};var Uo=50;E.TYPED_ARRAY_SUPPORT=fn.TYPED_ARRAY_SUPPORT!==void 0?fn.TYPED_ARRAY_SUPPORT:!0;var Uh=gn();function gn(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function nt(t,e){if(gn()<e)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=E.prototype):(t===null&&(t=new E(e)),t.length=e),t}function E(t,e,r){if(!E.TYPED_ARRAY_SUPPORT&&!(this instanceof E))return new E(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return ki(this,t)}return Mo(this,t,e,r)}E.poolSize=8192;E._augment=function(t){return t.__proto__=E.prototype,t};function Mo(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer?Bh(t,e,r,n):typeof e=="string"?Mh(t,e,r):qh(t,e)}E.from=function(t,e,r){return Mo(null,t,e,r)};E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array);function Bo(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Hh(t,e,r,n){return Bo(e),e<=0?nt(t,e):r!==void 0?typeof n=="string"?nt(t,e).fill(r,n):nt(t,e).fill(r):nt(t,e)}E.alloc=function(t,e,r){return Hh(null,t,e,r)};function ki(t,e){if(Bo(e),t=nt(t,e<0?0:xi(e)|0),!E.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}E.allocUnsafe=function(t){return ki(null,t)};E.allocUnsafeSlow=function(t){return ki(null,t)};function Mh(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!E.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=qo(e,r)|0;t=nt(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function Ai(t,e){var r=e.length<0?0:xi(e.length)|0;t=nt(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function Bh(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),E.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=E.prototype):t=Ai(t,e),t}function qh(t,e){if(Qe(e)){var r=xi(e.length)|0;return t=nt(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer!="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||zh(e.length)?nt(t,0):Ai(t,e);if(e.type==="Buffer"&&No(e.data))return Ai(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function xi(t){if(t>=gn())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+gn().toString(16)+" bytes");return t|0}function Wh(t){return+t!=t&&(t=0),E.alloc(+t)}E.isBuffer=Ho;function Qe(t){return!!(t!=null&&t._isBuffer)}E.compare=function(e,r){if(!Qe(e)||!Qe(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};E.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};E.concat=function(e,r){if(!No(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return E.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=E.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!Qe(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function qo(t,e){if(Qe(t))return t.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return mn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return zo(t).length;default:if(n)return mn(t).length;e=(""+e).toLowerCase(),n=!0}}E.byteLength=qo;function Xh(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Qh(this,e,r);case"utf8":case"utf-8":return Wo(this,e,r);case"ascii":return Kh(this,e,r);case"latin1":case"binary":return Vh(this,e,r);case"base64":return Yh(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jh(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}E.prototype._isBuffer=!0;function Rt(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}E.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Rt(this,r,r+1);return this};E.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Rt(this,r,r+3),Rt(this,r+1,r+2);return this};E.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Rt(this,r,r+7),Rt(this,r+1,r+6),Rt(this,r+2,r+5),Rt(this,r+3,r+4);return this};E.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Wo(this,0,e):Xh.apply(this,arguments)};E.prototype.equals=function(e){if(!Qe(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:E.compare(this,e)===0};E.prototype.inspect=function(){var e="",r=Uo;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};E.prototype.compare=function(e,r,n,i,s){if(!Qe(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=n-r,l=Math.min(o,a),u=this.slice(i,s),c=e.slice(r,n),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0};function Ko(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=E.from(e,n)),Qe(e))return e.length===0?-1:Yo(t,e,r,n,i);if(typeof e=="number")return e=e&255,E.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Yo(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Yo(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function l(f,v){return s===1?f[v]:f.readUInt16BE(v*s)}var u;if(i){var c=-1;for(u=r;u<o;u++)if(l(t,u)===l(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===a)return c*s}else c!==-1&&(u-=u-c),c=-1}else for(r+a>o&&(r=o-a),u=r;u>=0;u--){for(var h=!0,d=0;d<a;d++)if(l(t,u+d)!==l(e,d)){h=!1;break}if(h)return u}return-1}E.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};E.prototype.indexOf=function(e,r,n){return Ko(this,e,r,n,!0)};E.prototype.lastIndexOf=function(e,r,n){return Ko(this,e,r,n,!1)};function Zh(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(o*2,2),16);if(isNaN(a))return o;t[r+o]=a}return o}function ep(t,e,r,n){return _n(mn(e,t.length-r),t,r,n)}function Vo(t,e,r,n){return _n(tp(e),t,r,n)}function rp(t,e,r,n){return Vo(t,e,r,n)}function np(t,e,r,n){return _n(zo(e),t,r,n)}function sp(t,e,r,n){return _n(ip(e,t.length-r),t,r,n)}E.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return Zh(this,e,r,n);case"utf8":case"utf-8":return ep(this,e,r,n);case"ascii":return Vo(this,e,r,n);case"latin1":case"binary":return rp(this,e,r,n);case"base64":return np(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sp(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Yh(t,e,r){return e===0&&r===t.length?$o(t):$o(t.slice(e,r))}function Wo(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var l,u,c,h;switch(a){case 1:s<128&&(o=s);break;case 2:l=t[i+1],(l&192)==128&&(h=(s&31)<<6|l&63,h>127&&(o=h));break;case 3:l=t[i+1],u=t[i+2],(l&192)==128&&(u&192)==128&&(h=(s&15)<<12|(l&63)<<6|u&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],(l&192)==128&&(u&192)==128&&(c&192)==128&&(h=(s&15)<<18|(l&63)<<12|(u&63)<<6|c&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return op(n)}var Qo=4096;function op(t){var e=t.length;if(e<=Qo)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Qo));return r}function Kh(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Vh(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Qh(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=ap(t[s]);return i}function Jh(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}E.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(E.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=E.prototype;else{var s=r-e;i=new E(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i};function we(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||we(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return i};E.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||we(e,r,this.length);for(var i=this[e+--r],s=1;r>0&&(s*=256);)i+=this[e+--r]*s;return i};E.prototype.readUInt8=function(e,r){return r||we(e,1,this.length),this[e]};E.prototype.readUInt16LE=function(e,r){return r||we(e,2,this.length),this[e]|this[e+1]<<8};E.prototype.readUInt16BE=function(e,r){return r||we(e,2,this.length),this[e]<<8|this[e+1]};E.prototype.readUInt32LE=function(e,r){return r||we(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};E.prototype.readUInt32BE=function(e,r){return r||we(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};E.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||we(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};E.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||we(e,r,this.length);for(var i=r,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};E.prototype.readInt8=function(e,r){return r||we(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};E.prototype.readInt16LE=function(e,r){r||we(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};E.prototype.readInt16BE=function(e,r){r||we(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};E.prototype.readInt32LE=function(e,r){return r||we(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};E.prototype.readInt32BE=function(e,r){return r||we(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};E.prototype.readFloatLE=function(e,r){return r||we(e,4,this.length),dn(this,e,!0,23,4)};E.prototype.readFloatBE=function(e,r){return r||we(e,4,this.length),dn(this,e,!1,23,4)};E.prototype.readDoubleLE=function(e,r){return r||we(e,8,this.length),dn(this,e,!0,52,8)};E.prototype.readDoubleBE=function(e,r){return r||we(e,8,this.length),dn(this,e,!1,52,8)};function Fe(t,e,r,n,i,s){if(!Qe(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}E.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Fe(this,e,r,n,s,0)}var o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};E.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Fe(this,e,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};E.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,1,255,0),E.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};function bn(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}E.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):bn(this,e,r,!0),r+2};E.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):bn(this,e,r,!1),r+2};function wn(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>(n?i:3-i)*8&255}E.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):wn(this,e,r,!0),r+4};E.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):wn(this,e,r,!1),r+4};E.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var s=Math.pow(2,8*n-1);Fe(this,e,r,n,s-1,-s)}var o=0,a=1,l=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&l===0&&this[r+o-1]!==0&&(l=1),this[r+o]=(e/a>>0)-l&255;return r+n};E.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var s=Math.pow(2,8*n-1);Fe(this,e,r,n,s-1,-s)}var o=n-1,a=1,l=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&l===0&&this[r+o+1]!==0&&(l=1),this[r+o]=(e/a>>0)-l&255;return r+n};E.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,1,127,-128),E.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};E.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):bn(this,e,r,!0),r+2};E.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):bn(this,e,r,!1),r+2};E.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):wn(this,e,r,!0),r+4};E.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||Fe(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),E.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):wn(this,e,r,!1),r+4};function Jo(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Xo(t,e,r,n,i){return i||Jo(t,e,r,4),Do(t,e,r,n,23,4),r+4}E.prototype.writeFloatLE=function(e,r,n){return Xo(this,e,r,!0,n)};E.prototype.writeFloatBE=function(e,r,n){return Xo(this,e,r,!1,n)};function Zo(t,e,r,n,i){return i||Jo(t,e,r,8),Do(t,e,r,n,52,8),r+8}E.prototype.writeDoubleLE=function(e,r,n){return Zo(this,e,r,!0,n)};E.prototype.writeDoubleBE=function(e,r,n){return Zo(this,e,r,!1,n)};E.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n,o;if(this===e&&n<r&&r<i)for(o=s-1;o>=0;--o)e[o+r]=this[o+n];else if(s<1e3||!E.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),r);return s};E.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!E.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var a=Qe(e)?e:mn(new E(e,i).toString()),l=a.length;for(o=0;o<n-r;++o)this[o+r]=a[o%l]}return this};var lp=/[^+\/0-9A-Za-z-_]/g;function cp(t){if(t=up(t).replace(lp,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function up(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function ap(t){return t<16?"0"+t.toString(16):t.toString(16)}function mn(t,e){e=e||Infinity;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function tp(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function ip(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function zo(t){return Lh(cp(t))}function _n(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function zh(t){return t!==t}function Ho(t){return t!=null&&(!!t._isBuffer||ea(t)||hp(t))}function ea(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function hp(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&ea(t.slice(0,0))}var ta=Object.freeze({__proto__:null,Buffer:E,INSPECT_MAX_BYTES:Uo,SlowBuffer:Wh,isBuffer:Ho,kMaxLength:Uh});function ra(){throw new Error("setTimeout has not been defined")}function na(){throw new Error("clearTimeout has not been defined")}var mt=ra,_t=na,tr;typeof window!="undefined"?tr=window:typeof self!="undefined"?tr=self:tr={};typeof tr.setTimeout=="function"&&(mt=setTimeout);typeof tr.clearTimeout=="function"&&(_t=clearTimeout);function ia(t){if(mt===setTimeout)return setTimeout(t,0);if((mt===ra||!mt)&&setTimeout)return mt=setTimeout,setTimeout(t,0);try{return mt(t,0)}catch(e){try{return mt.call(null,t,0)}catch(r){return mt.call(this,t,0)}}}function pp(t){if(_t===clearTimeout)return clearTimeout(t);if((_t===na||!_t)&&clearTimeout)return _t=clearTimeout,clearTimeout(t);try{return _t(t)}catch(e){try{return _t.call(null,t)}catch(r){return _t.call(this,t)}}}var it=[],rr=!1,Pt,yn=-1;function fp(){!rr||!Pt||(rr=!1,Pt.length?it=Pt.concat(it):yn=-1,it.length&&sa())}function sa(){if(!rr){var t=ia(fp);rr=!0;for(var e=it.length;e;){for(Pt=it,it=[];++yn<e;)Pt&&Pt[yn].run();yn=-1,e=it.length}Pt=null,rr=!1,pp(t)}}function dp(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];it.push(new oa(t,e)),it.length===1&&!rr&&ia(sa)}function oa(t,e){this.fun=t,this.array=e}oa.prototype.run=function(){this.fun.apply(null,this.array)};var gp="browser",mp="browser",_p=!0,bp=[],wp="",yp={},vp={},Ep={};function Ot(){}var Tp=Ot,kp=Ot,xp=Ot,Ap=Ot,Sp=Ot,Rp=Ot,Pp=Ot;function Op(t){throw new Error("process.binding is not supported")}function Cp(){return"/"}function Ip(t){throw new Error("process.chdir is not supported")}function jp(){return 0}var nr=tr.performance||{},Fp=nr.now||nr.mozNow||nr.msNow||nr.oNow||nr.webkitNow||function(){return new Date().getTime()};function Gp(t){var e=Fp.call(nr)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}var Lp=new Date;function $p(){var t=new Date,e=t-Lp;return e/1e3}var J={nextTick:dp,title:gp,browser:_p,env:{NODE_ENV:"production"},argv:bp,version:wp,versions:yp,on:Tp,addListener:kp,once:xp,off:Ap,removeListener:Sp,removeAllListeners:Rp,emit:Pp,binding:Op,cwd:Cp,chdir:Ip,umask:jp,hrtime:Gp,platform:mp,release:vp,config:Ep,uptime:$p},Dp={},Np=Object.freeze({__proto__:null,default:Dp}),bt=Gr(Np);function st(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof J=="object"&&"version"in J?`Node.js/${J.version.substr(1)} (${J.platform}; ${J.arch})`:"<environment undetectable>"}var Up=Object.freeze({__proto__:null,getUserAgent:st}),la=aa;function aa(t,e,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(e)?e.reverse().reduce(function(i,s){return aa.bind(null,t,s,i,n)},r)():Promise.resolve().then(function(){return t.registry[e]?t.registry[e].reduce(function(i,s){return s.hook.bind(null,i,n)},r)():r(n)})}var Bp=Mp;function Mp(t,e,r,n){var i=n;t.registry[r]||(t.registry[r]=[]),e==="before"&&(n=function(s,o){return Promise.resolve().then(i.bind(null,o)).then(s.bind(null,o))}),e==="after"&&(n=function(s,o){var a;return Promise.resolve().then(s.bind(null,o)).then(function(l){return a=l,i(a,o)}).then(function(){return a})}),e==="error"&&(n=function(s,o){return Promise.resolve().then(s.bind(null,o)).catch(function(a){return i(a,o)})}),t.registry[r].push({hook:n,orig:i})}var Hp=qp;function qp(t,e,r){if(!!t.registry[e]){var n=t.registry[e].map(function(i){return i.orig}).indexOf(r);n!==-1&&t.registry[e].splice(n,1)}}var ua=Function.bind,ca=ua.bind(ua);function ha(t,e,r){var n=ca(Hp,null).apply(null,r?[e,r]:[e]);t.api={remove:n},t.remove=n,["before","error","after","wrap"].forEach(function(i){var s=r?[e,i,r]:[e,i];t[i]=t.api[i]=ca(Bp,null).apply(null,s)})}function zp(){var t="h",e={registry:{}},r=la.bind(null,e,t);return ha(r,e,t),r}function pa(){var t={registry:{}},e=la.bind(null,t);return ha(e,t),e}var fa=!1;function ir(){return fa||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),fa=!0),pa()}ir.Singular=zp.bind();ir.Collection=pa.bind();var Si=ir,Wp=ir,Yp=ir.Singular,da=ir.Collection;Si.Hook=Wp;Si.Singular=Yp;Si.Collection=da;function ga(t){return Object.prototype.toString.call(t)==="[object Object]"}function ma(t){var e,r;return ga(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(ga(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function Kp(t){return t?Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{}):{}}function _a(t,e){let r=Object.assign({},t);return Object.keys(e).forEach(n=>{ma(e[n])?n in t?r[n]=_a(t[n],e[n]):Object.assign(r,{[n]:e[n]}):Object.assign(r,{[n]:e[n]})}),r}function ba(t){for(let e in t)t[e]===void 0&&delete t[e];return t}function Ri(t,e,r){if(typeof e=="string"){let[i,s]=e.split(" ");r=Object.assign(s?{method:i,url:s}:{url:i},r)}else r=Object.assign({},e);r.headers=Kp(r.headers),ba(r),ba(r.headers);let n=_a(t||{},r);return t&&t.mediaType.previews.length&&(n.mediaType.previews=t.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}function Vp(t,e){let r=/\?/.test(t)?"&":"?",n=Object.keys(e);return n.length===0?t:t+r+n.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var Qp=/\{[^}]+\}/g;function Jp(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function Xp(t){let e=t.match(Qp);return e?e.map(Jp).reduce((r,n)=>r.concat(n),[]):[]}function wa(t,e){return Object.keys(t).filter(r=>!e.includes(r)).reduce((r,n)=>(r[n]=t[n],r),{})}function ya(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function sr(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Lr(t,e,r){return e=t==="+"||t==="#"?ya(e):sr(e),r?sr(r)+"="+e:e}function or(t){return t!=null}function Pi(t){return t===";"||t==="&"||t==="?"}function Zp(t,e,r,n){var i=t[r],s=[];if(or(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),s.push(Lr(e,i,Pi(e)?r:""));else if(n==="*")Array.isArray(i)?i.filter(or).forEach(function(o){s.push(Lr(e,o,Pi(e)?r:""))}):Object.keys(i).forEach(function(o){or(i[o])&&s.push(Lr(e,i[o],o))});else{let o=[];Array.isArray(i)?i.filter(or).forEach(function(a){o.push(Lr(e,a))}):Object.keys(i).forEach(function(a){or(i[a])&&(o.push(sr(a)),o.push(Lr(e,i[a].toString())))}),Pi(e)?s.push(sr(r)+"="+o.join(",")):o.length!==0&&s.push(o.join(","))}else e===";"?or(i)&&s.push(sr(r)):i===""&&(e==="&"||e==="?")?s.push(sr(r)+"="):i===""&&s.push("");return s}function tf(t){return{expand:ef.bind(null,t)}}function ef(t,e){var r=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,s){if(i){let a="",l=[];if(r.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(u){var c=/([^:\*]*)(?::(\d+)|(\*))?/.exec(u);l.push(Zp(e,a,c[1],c[2]||c[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return ya(s)})}function va(t){let e=t.method.toUpperCase(),r=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},t.headers),i,s=wa(t,["method","baseUrl","url","headers","request","mediaType"]),o=Xp(r);r=tf(r).expand(s),/^http/.test(r)||(r=t.baseUrl+r);let a=Object.keys(t).filter(c=>o.includes(c)).concat("baseUrl"),l=wa(s,a);if(!/application\/octet-stream/i.test(n.accept)&&(t.mediaType.format&&(n.accept=n.accept.split(/,/).map(c=>c.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){let c=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=c.concat(t.mediaType.previews).map(h=>{let d=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${h}-preview${d}`}).join(",")}return["GET","HEAD"].includes(e)?r=Vp(r,l):"data"in l?i=l.data:Object.keys(l).length?i=l:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:r,headers:n},typeof i!="undefined"?{body:i}:null,t.request?{request:t.request}:null)}function rf(t,e,r){return va(Ri(t,e,r))}function Ea(t,e){let r=Ri(t,e),n=rf.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:Ea.bind(null,r),merge:Ri.bind(null,r),parse:va})}var nf="6.0.12",sf=`octokit-endpoint.js/${nf} ${st()}`,of={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":sf},mediaType:{format:"",previews:[]}},af=Ea(null,of),lf=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof Ct!="undefined")return Ct;throw new Error("unable to locate global object")},Ct=lf(),uf=Ct.fetch.bind(Ct),dy=Ct.Headers,gy=Ct.Request,my=Ct.Response,vn=class extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}},ka=Ta;function Ta(t,e){if(t&&e)return Ta(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}var Oi=ka(En),cf=ka(xa);En.proto=En(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return En(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return xa(this)},configurable:!0})});function En(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function xa(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}Oi.strict=cf;var hf=Oi(t=>console.warn(t)),pf=Oi(t=>console.warn(t)),It=class extends Error{constructor(e,r,n){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let i;"headers"in n&&typeof n.headers!="undefined"&&(i=n.headers),"response"in n&&(this.response=n.response,i=n.response.headers);let s=Object.assign({},n.request);n.request.headers.authorization&&(s.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),s.url=s.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=s,Object.defineProperty(this,"code",{get(){return hf(new vn("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return pf(new vn("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}},ff=Object.freeze({__proto__:null,RequestError:It}),df="5.6.2";function gf(t){return t.arrayBuffer()}function Aa(t){let e=t.request&&t.request.log?t.request.log:console;(ma(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let r={},n,i;return(t.request&&t.request.fetch||uf)(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(async o=>{i=o.url,n=o.status;for(let a of o.headers)r[a[0]]=a[1];if("deprecation"in r){let a=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),l=a&&a.pop();e.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${l?`. See ${l}`:""}`)}if(!(n===204||n===205)){if(t.method==="HEAD"){if(n<400)return;throw new It(o.statusText,n,{response:{url:i,status:n,headers:r,data:void 0},request:t})}if(n===304)throw new It("Not modified",n,{response:{url:i,status:n,headers:r,data:await Ci(o)},request:t});if(n>=400){let a=await Ci(o);throw new It(mf(a),n,{response:{url:i,status:n,headers:r,data:a},request:t})}return Ci(o)}}).then(o=>({status:n,url:i,headers:r,data:o})).catch(o=>{throw o instanceof It?o:new It(o.message,500,{request:t})})}async function Ci(t){let e=t.headers.get("content-type");return/application\/json/.test(e)?t.json():!e||/^text\/|charset=utf-8$/.test(e)?t.text():gf(t)}function mf(t){return typeof t=="string"?t:"message"in t?Array.isArray(t.errors)?`${t.message}: ${t.errors.map(JSON.stringify).join(", ")}`:t.message:`Unknown error: ${JSON.stringify(t)}`}function Ii(t,e){let r=t.defaults(e);return Object.assign(function(i,s){let o=r.merge(i,s);if(!o.request||!o.request.hook)return Aa(r.parse(o));let a=(l,u)=>Aa(r.parse(r.merge(l,u)));return Object.assign(a,{endpoint:r,defaults:Ii.bind(null,r)}),o.request.hook(a,o)},{endpoint:r,defaults:Ii.bind(null,r)})}var ot=Ii(af,{headers:{"user-agent":`octokit-request.js/${df} ${st()}`}}),Je=Object.freeze({__proto__:null,request:ot}),_f="4.8.0";function bf(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}var Sa=class extends Error{constructor(e,r,n){super(bf(n));this.request=e,this.headers=r,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},wf=["method","baseUrl","url","headers","request","query","mediaType"],yf=["query","method","url"],Ra=/\/api\/v3\/?$/;function vf(t,e,r){if(r){if(typeof e=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let o in r)if(!!yf.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}let n=typeof e=="string"?Object.assign({query:e},r):e,i=Object.keys(n).reduce((o,a)=>wf.includes(a)?(o[a]=n[a],o):(o.variables||(o.variables={}),o.variables[a]=n[a],o),{}),s=n.baseUrl||t.endpoint.DEFAULTS.baseUrl;return Ra.test(s)&&(i.url=s.replace(Ra,"/api/graphql")),t(i).then(o=>{if(o.data.errors){let a={};for(let l of Object.keys(o.headers))a[l]=o.headers[l];throw new Sa(i,a,o.data)}return o.data.data})}function ji(t,e){let r=t.defaults(e);return Object.assign((i,s)=>vf(r,i,s),{defaults:ji.bind(null,r),endpoint:ot.endpoint})}var _y=ji(ot,{headers:{"user-agent":`octokit-graphql.js/${_f} ${st()}`},method:"POST",url:"/graphql"});function Ef(t){return ji(t,{method:"POST",url:"/graphql"})}var Tf=/^v1\./,kf=/^ghs_/,xf=/^ghu_/;async function Af(t){let e=t.split(/\./).length===3,r=Tf.test(t)||kf.test(t),n=xf.test(t);return{type:"token",token:t,tokenType:e?"app":r?"installation":n?"user-to-server":"oauth"}}function Sf(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function Rf(t,e,r,n){let i=e.endpoint.merge(r,n);return i.headers.authorization=Sf(t),e(i)}var Pf=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Af.bind(null,e),{hook:Rf.bind(null,e)})},Pa="3.5.1",$r=class{constructor(e={}){let r=new da,n={baseUrl:ot.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[e.userAgent,`octokit-core.js/${Pa} ${st()}`].filter(Boolean).join(" "),e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=ot.defaults(n),this.graphql=Ef(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=r,e.authStrategy){let{authStrategy:s,...o}=e,a=s(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));r.wrap("request",a.hook),this.auth=a}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{let s=Pf(e.auth);r.wrap("request",s.hook),this.auth=s}this.constructor.plugins.forEach(s=>{Object.assign(this,s(this,e))})}static defaults(e){return class extends this{constructor(...n){let i=n[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;let n=this.plugins;return r=class extends this{},r.plugins=n.concat(e.filter(s=>!n.includes(s))),r}};$r.VERSION=Pa;$r.plugins=[];var Oa=Object.freeze({__proto__:null,Octokit:$r}),Of="2.17.0";function Cf(t){if(!t.data)return{...t,data:[]};if(!("total_count"in t.data&&!("url"in t.data)))return t;let r=t.data.incomplete_results,n=t.data.repository_selection,i=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;let s=Object.keys(t.data)[0],o=t.data[s];return t.data=o,typeof r!="undefined"&&(t.data.incomplete_results=r),typeof n!="undefined"&&(t.data.repository_selection=n),t.data.total_count=i,t}function Fi(t,e,r){let n=typeof e=="function"?e.endpoint(r):t.request.endpoint(e,r),i=typeof e=="function"?e:t.request,s=n.method,o=n.headers,a=n.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:!0};try{let l=await i({method:s,url:a,headers:o}),u=Cf(l);return a=((u.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:u}}catch(l){if(l.status!==409)throw l;return a="",{value:{status:200,headers:{},data:[]}}}}})}}function Ia(t,e,r,n){return typeof r=="function"&&(n=r,r=void 0),Ca(t,[],Fi(t,e,r)[Symbol.asyncIterator](),n)}function Ca(t,e,r,n){return r.next().then(i=>{if(i.done)return e;let s=!1;function o(){s=!0}return e=e.concat(n?n(i.value,o):i.value.data),s?e:Ca(t,e,r,n)})}var If=Object.assign(Ia,{iterator:Fi}),ja=["GET /app/hook/deliveries","GET /app/installations","GET /applications/grants","GET /authorizations","GET /enterprises/{enterprise}/actions/permissions/organizations","GET /enterprises/{enterprise}/actions/runner-groups","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/organizations","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/runners","GET /enterprises/{enterprise}/actions/runners","GET /enterprises/{enterprise}/actions/runners/downloads","GET /events","GET /gists","GET /gists/public","GET /gists/starred","GET /gists/{gist_id}/comments","GET /gists/{gist_id}/commits","GET /gists/{gist_id}/forks","GET /installation/repositories","GET /issues","GET /marketplace_listing/plans","GET /marketplace_listing/plans/{plan_id}/accounts","GET /marketplace_listing/stubbed/plans","GET /marketplace_listing/stubbed/plans/{plan_id}/accounts","GET /networks/{owner}/{repo}/events","GET /notifications","GET /organizations","GET /orgs/{org}/actions/permissions/repositories","GET /orgs/{org}/actions/runner-groups","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/runners","GET /orgs/{org}/actions/runners","GET /orgs/{org}/actions/runners/downloads","GET /orgs/{org}/actions/secrets","GET /orgs/{org}/actions/secrets/{secret_name}/repositories","GET /orgs/{org}/blocks","GET /orgs/{org}/credential-authorizations","GET /orgs/{org}/events","GET /orgs/{org}/failed_invitations","GET /orgs/{org}/hooks","GET /orgs/{org}/hooks/{hook_id}/deliveries","GET /orgs/{org}/installations","GET /orgs/{org}/invitations","GET /orgs/{org}/invitations/{invitation_id}/teams","GET /orgs/{org}/issues","GET /orgs/{org}/members","GET /orgs/{org}/migrations","GET /orgs/{org}/migrations/{migration_id}/repositories","GET /orgs/{org}/outside_collaborators","GET /orgs/{org}/packages","GET /orgs/{org}/projects","GET /orgs/{org}/public_members","GET /orgs/{org}/repos","GET /orgs/{org}/secret-scanning/alerts","GET /orgs/{org}/team-sync/groups","GET /orgs/{org}/teams","GET /orgs/{org}/teams/{team_slug}/discussions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions","GET /orgs/{org}/teams/{team_slug}/invitations","GET /orgs/{org}/teams/{team_slug}/members","GET /orgs/{org}/teams/{team_slug}/projects","GET /orgs/{org}/teams/{team_slug}/repos","GET /orgs/{org}/teams/{team_slug}/team-sync/group-mappings","GET /orgs/{org}/teams/{team_slug}/teams","GET /projects/columns/{column_id}/cards","GET /projects/{project_id}/collaborators","GET /projects/{project_id}/columns","GET /repos/{owner}/{repo}/actions/artifacts","GET /repos/{owner}/{repo}/actions/runners","GET /repos/{owner}/{repo}/actions/runners/downloads","GET /repos/{owner}/{repo}/actions/runs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts","GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs","GET /repos/{owner}/{repo}/actions/secrets","GET /repos/{owner}/{repo}/actions/workflows","GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs","GET /repos/{owner}/{repo}/assignees","GET /repos/{owner}/{repo}/autolinks","GET /repos/{owner}/{repo}/branches","GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations","GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs","GET /repos/{owner}/{repo}/code-scanning/alerts","GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances","GET /repos/{owner}/{repo}/code-scanning/analyses","GET /repos/{owner}/{repo}/collaborators","GET /repos/{owner}/{repo}/comments","GET /repos/{owner}/{repo}/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/commits","GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head","GET /repos/{owner}/{repo}/commits/{commit_sha}/comments","GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls","GET /repos/{owner}/{repo}/commits/{ref}/check-runs","GET /repos/{owner}/{repo}/commits/{ref}/check-suites","GET /repos/{owner}/{repo}/commits/{ref}/statuses","GET /repos/{owner}/{repo}/contributors","GET /repos/{owner}/{repo}/deployments","GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses","GET /repos/{owner}/{repo}/events","GET /repos/{owner}/{repo}/forks","GET /repos/{owner}/{repo}/git/matching-refs/{ref}","GET /repos/{owner}/{repo}/hooks","GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries","GET /repos/{owner}/{repo}/invitations","GET /repos/{owner}/{repo}/issues","GET /repos/{owner}/{repo}/issues/comments","GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/issues/events","GET /repos/{owner}/{repo}/issues/{issue_number}/comments","GET /repos/{owner}/{repo}/issues/{issue_number}/events","GET /repos/{owner}/{repo}/issues/{issue_number}/labels","GET /repos/{owner}/{repo}/issues/{issue_number}/reactions","GET /repos/{owner}/{repo}/issues/{issue_number}/timeline","GET /repos/{owner}/{repo}/keys","GET /repos/{owner}/{repo}/labels","GET /repos/{owner}/{repo}/milestones","GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels","GET /repos/{owner}/{repo}/notifications","GET /repos/{owner}/{repo}/pages/builds","GET /repos/{owner}/{repo}/projects","GET /repos/{owner}/{repo}/pulls","GET /repos/{owner}/{repo}/pulls/comments","GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/pulls/{pull_number}/comments","GET /repos/{owner}/{repo}/pulls/{pull_number}/commits","GET /repos/{owner}/{repo}/pulls/{pull_number}/files","GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments","GET /repos/{owner}/{repo}/releases","GET /repos/{owner}/{repo}/releases/{release_id}/assets","GET /repos/{owner}/{repo}/secret-scanning/alerts","GET /repos/{owner}/{repo}/stargazers","GET /repos/{owner}/{repo}/subscribers","GET /repos/{owner}/{repo}/tags","GET /repos/{owner}/{repo}/teams","GET /repositories","GET /repositories/{repository_id}/environments/{environment_name}/secrets","GET /scim/v2/enterprises/{enterprise}/Groups","GET /scim/v2/enterprises/{enterprise}/Users","GET /scim/v2/organizations/{org}/Users","GET /search/code","GET /search/commits","GET /search/issues","GET /search/labels","GET /search/repositories","GET /search/topics","GET /search/users","GET /teams/{team_id}/discussions","GET /teams/{team_id}/discussions/{discussion_number}/comments","GET /teams/{team_id}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /teams/{team_id}/discussions/{discussion_number}/reactions","GET /teams/{team_id}/invitations","GET /teams/{team_id}/members","GET /teams/{team_id}/projects","GET /teams/{team_id}/repos","GET /teams/{team_id}/team-sync/group-mappings","GET /teams/{team_id}/teams","GET /user/blocks","GET /user/emails","GET /user/followers","GET /user/following","GET /user/gpg_keys","GET /user/installations","GET /user/installations/{installation_id}/repositories","GET /user/issues","GET /user/keys","GET /user/marketplace_purchases","GET /user/marketplace_purchases/stubbed","GET /user/memberships/orgs","GET /user/migrations","GET /user/migrations/{migration_id}/repositories","GET /user/orgs","GET /user/packages","GET /user/public_emails","GET /user/repos","GET /user/repository_invitations","GET /user/starred","GET /user/subscriptions","GET /user/teams","GET /users","GET /users/{username}/events","GET /users/{username}/events/orgs/{org}","GET /users/{username}/events/public","GET /users/{username}/followers","GET /users/{username}/following","GET /users/{username}/gists","GET /users/{username}/gpg_keys","GET /users/{username}/keys","GET /users/{username}/orgs","GET /users/{username}/packages","GET /users/{username}/projects","GET /users/{username}/received_events","GET /users/{username}/received_events/public","GET /users/{username}/repos","GET /users/{username}/starred","GET /users/{username}/subscriptions"];function jf(t){return typeof t=="string"?ja.includes(t):!1}function Gi(t){return{paginate:Object.assign(Ia.bind(null,t),{iterator:Fi.bind(null,t)})}}Gi.VERSION=Of;var Fa=Object.freeze({__proto__:null,composePaginateRest:If,isPaginatingEndpoint:jf,paginateRest:Gi,paginatingEndpoints:ja}),Ff={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createContentAttachmentForRepo:["POST /repos/{owner}/{repo}/content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableLfsForRepo:["DELETE /repos/{owner}/{repo}/lfs"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enableLfsForRepo:["PUT /repos/{owner}/{repo}/lfs"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Gf="5.13.0";function $f(t,e){let r={};for(let[n,i]of Object.entries(e))for(let[s,o]of Object.entries(i)){let[a,l,u]=o,[c,h]=a.split(/ /),d=Object.assign({method:c,url:h},l);r[n]||(r[n]={});let f=r[n];if(u){f[s]=Lf(t,n,s,d,u);continue}f[s]=t.request.defaults(d)}return r}function Lf(t,e,r,n,i){let s=t.request.defaults(n);function o(...a){let l=s.endpoint.merge(...a);if(i.mapToData)return l=Object.assign({},l,{data:l[i.mapToData],[i.mapToData]:void 0}),s(l);if(i.renamed){let[u,c]=i.renamed;t.log.warn(`octokit.${e}.${r}() has been renamed to octokit.${u}.${c}()`)}if(i.deprecated&&t.log.warn(i.deprecated),i.renamedParameters){let u=s.endpoint.merge(...a);for(let[c,h]of Object.entries(i.renamedParameters))c in u&&(t.log.warn(`"${c}" parameter is deprecated for "octokit.${e}.${r}()". Use "${h}" instead`),h in u||(u[h]=u[c]),delete u[c]);return s(u)}return s(...a)}return Object.assign(o,s)}function Ga(t){return{rest:$f(t,Ff)}}Ga.VERSION=Gf;var Df=rt(function(t,e){(function(r,n){t.exports=n()})(Ke,function(){var r=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Ke!="undefined"?Ke:typeof self!="undefined"?self:{};function n(U){return U&&U.default||U}var i=function(U,_,p={}){var b,y,T;for(b in _)T=_[b],p[b]=(y=U[b])!=null?y:T;return p},s=function(U,_,p={}){var b,y;for(b in U)y=U[b],_[b]!==void 0&&(p[b]=y);return p},o={load:i,overwrite:s},a;a=class{constructor(_,p){this.incr=_,this.decr=p,this._first=null,this._last=null,this.length=0}push(_){var p;this.length++,typeof this.incr=="function"&&this.incr(),p={value:_,prev:this._last,next:null},this._last!=null?(this._last.next=p,this._last=p):this._first=this._last=p}shift(){var _;if(this._first!=null)return this.length--,typeof this.decr=="function"&&this.decr(),_=this._first.value,(this._first=this._first.next)!=null?this._first.prev=null:this._last=null,_}first(){if(this._first!=null)return this._first.value}getArray(){var _,p,b;for(_=this._first,b=[];_!=null;)b.push((p=_,_=_.next,p.value));return b}forEachShift(_){var p;for(p=this.shift();p!=null;)_(p),p=this.shift()}debug(){var _,p,b,y,T;for(_=this._first,T=[];_!=null;)T.push((p=_,_=_.next,{value:p.value,prev:(b=p.prev)!=null?b.value:void 0,next:(y=p.next)!=null?y.value:void 0}));return T}};var l=a,u;u=class{constructor(_){if(this.instance=_,this._events={},this.instance.on!=null||this.instance.once!=null||this.instance.removeAllListeners!=null)throw new Error("An Emitter already exists for this object");this.instance.on=(p,b)=>this._addListener(p,"many",b),this.instance.once=(p,b)=>this._addListener(p,"once",b),this.instance.removeAllListeners=(p=null)=>p!=null?delete this._events[p]:this._events={}}_addListener(_,p,b){var y;return(y=this._events)[_]==null&&(y[_]=[]),this._events[_].push({cb:b,status:p}),this.instance}listenerCount(_){return this._events[_]!=null?this._events[_].length:0}async trigger(_,...p){var b,y;try{return _!=="debug"&&this.trigger("debug",`Event triggered: ${_}`,p),this._events[_]==null?void 0:(this._events[_]=this._events[_].filter(function(T){return T.status!=="none"}),y=this._events[_].map(async T=>{var P,$;if(T.status!=="none"){T.status==="once"&&(T.status="none");try{return $=typeof T.cb=="function"?T.cb(...p):void 0,typeof($!=null?$.then:void 0)=="function"?await $:$}catch(ne){return P=ne,this.trigger("error",P),null}}}),(await Promise.all(y)).find(function(T){return T!=null}))}catch(T){return b=T,this.trigger("error",b),null}}};var c=u,h,d,f;h=l,d=c,f=class{constructor(_){this.Events=new d(this),this._length=0,this._lists=function(){var p,b,y;for(y=[],p=1,b=_;1<=b?p<=b:p>=b;1<=b?++p:--p)y.push(new h(()=>this.incr(),()=>this.decr()));return y}.call(this)}incr(){if(this._length++==0)return this.Events.trigger("leftzero")}decr(){if(--this._length==0)return this.Events.trigger("zero")}push(_){return this._lists[_.options.priority].push(_)}queued(_){return _!=null?this._lists[_].length:this._length}shiftAll(_){return this._lists.forEach(function(p){return p.forEachShift(_)})}getFirst(_=this._lists){var p,b,y;for(p=0,b=_.length;p<b;p++)if(y=_[p],y.length>0)return y;return[]}shiftLastFrom(_){return this.getFirst(this._lists.slice(_).reverse()).shift()}};var v=f,A;A=class extends Error{};var w=A,j,D,K,H,re;H=10,D=5,re=o,j=w,K=class{constructor(_,p,b,y,T,P,$,ne){this.task=_,this.args=p,this.rejectOnDrop=T,this.Events=P,this._states=$,this.Promise=ne,this.options=re.load(b,y),this.options.priority=this._sanitizePriority(this.options.priority),this.options.id===y.id&&(this.options.id=`${this.options.id}-${this._randomIndex()}`),this.promise=new this.Promise((Se,Pe)=>{this._resolve=Se,this._reject=Pe}),this.retryCount=0}_sanitizePriority(_){var p;return p=~~_!==_?D:_,p<0?0:p>H-1?H-1:p}_randomIndex(){return Math.random().toString(36).slice(2)}doDrop({error:_,message:p="This job has been dropped by Bottleneck"}={}){return this._states.remove(this.options.id)?(this.rejectOnDrop&&this._reject(_??new j(p)),this.Events.trigger("dropped",{args:this.args,options:this.options,task:this.task,promise:this.promise}),!0):!1}_assertStatus(_){var p;if(p=this._states.jobStatus(this.options.id),!(p===_||_==="DONE"&&p===null))throw new j(`Invalid job status ${p}, expected ${_}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`)}doReceive(){return this._states.start(this.options.id),this.Events.trigger("received",{args:this.args,options:this.options})}doQueue(_,p){return this._assertStatus("RECEIVED"),this._states.next(this.options.id),this.Events.trigger("queued",{args:this.args,options:this.options,reachedHWM:_,blocked:p})}doRun(){return this.retryCount===0?(this._assertStatus("QUEUED"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),this.Events.trigger("scheduled",{args:this.args,options:this.options})}async doExecute(_,p,b,y){var T,P,$;this.retryCount===0?(this._assertStatus("RUNNING"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),P={args:this.args,options:this.options,retryCount:this.retryCount},this.Events.trigger("executing",P);try{if($=await(_!=null?_.schedule(this.options,this.task,...this.args):this.task(...this.args)),p())return this.doDone(P),await y(this.options,P),this._assertStatus("DONE"),this._resolve($)}catch(ne){return T=ne,this._onFailure(T,P,p,b,y)}}doExpire(_,p,b){var y,T;return this._states.jobStatus(this.options.id==="RUNNING")&&this._states.next(this.options.id),this._assertStatus("EXECUTING"),T={args:this.args,options:this.options,retryCount:this.retryCount},y=new j(`This job timed out after ${this.options.expiration} ms.`),this._onFailure(y,T,_,p,b)}async _onFailure(_,p,b,y,T){var P,$;if(b())return P=await this.Events.trigger("failed",_,p),P!=null?($=~~P,this.Events.trigger("retry",`Retrying ${this.options.id} after ${$} ms`,p),this.retryCount++,y($)):(this.doDone(p),await T(this.options,p),this._assertStatus("DONE"),this._reject(_))}doDone(_){return this._assertStatus("EXECUTING"),this._states.next(this.options.id),this.Events.trigger("done",_)}};var V=K,ae,xe,I;I=o,ae=w,xe=class{constructor(_,p,b){this.instance=_,this.storeOptions=p,this.clientId=this.instance._randomIndex(),I.load(b,b,this),this._nextRequest=this._lastReservoirRefresh=this._lastReservoirIncrease=Date.now(),this._running=0,this._done=0,this._unblockTime=0,this.ready=this.Promise.resolve(),this.clients={},this._startHeartbeat()}_startHeartbeat(){var _;return this.heartbeat==null&&(this.storeOptions.reservoirRefreshInterval!=null&&this.storeOptions.reservoirRefreshAmount!=null||this.storeOptions.reservoirIncreaseInterval!=null&&this.storeOptions.reservoirIncreaseAmount!=null)?typeof(_=this.heartbeat=setInterval(()=>{var p,b,y,T,P;if(T=Date.now(),this.storeOptions.reservoirRefreshInterval!=null&&T>=this._lastReservoirRefresh+this.storeOptions.reservoirRefreshInterval&&(this._lastReservoirRefresh=T,this.storeOptions.reservoir=this.storeOptions.reservoirRefreshAmount,this.instance._drainAll(this.computeCapacity())),this.storeOptions.reservoirIncreaseInterval!=null&&T>=this._lastReservoirIncrease+this.storeOptions.reservoirIncreaseInterval&&({reservoirIncreaseAmount:p,reservoirIncreaseMaximum:y,reservoir:P}=this.storeOptions,this._lastReservoirIncrease=T,b=y!=null?Math.min(p,y-P):p,b>0))return this.storeOptions.reservoir+=b,this.instance._drainAll(this.computeCapacity())},this.heartbeatInterval)).unref=="function"?_.unref():void 0:clearInterval(this.heartbeat)}async __publish__(_){return await this.yieldLoop(),this.instance.Events.trigger("message",_.toString())}async __disconnect__(_){return await this.yieldLoop(),clearInterval(this.heartbeat),this.Promise.resolve()}yieldLoop(_=0){return new this.Promise(function(p,b){return setTimeout(p,_)})}computePenalty(){var _;return(_=this.storeOptions.penalty)!=null?_:15*this.storeOptions.minTime||5e3}async __updateSettings__(_){return await this.yieldLoop(),I.overwrite(_,_,this.storeOptions),this._startHeartbeat(),this.instance._drainAll(this.computeCapacity()),!0}async __running__(){return await this.yieldLoop(),this._running}async __queued__(){return await this.yieldLoop(),this.instance.queued()}async __done__(){return await this.yieldLoop(),this._done}async __groupCheck__(_){return await this.yieldLoop(),this._nextRequest+this.timeout<_}computeCapacity(){var _,p;return{maxConcurrent:_,reservoir:p}=this.storeOptions,_!=null&&p!=null?Math.min(_-this._running,p):_!=null?_-this._running:p??null}conditionsCheck(_){var p;return p=this.computeCapacity(),p==null||_<=p}async __incrementReservoir__(_){var p;return await this.yieldLoop(),p=this.storeOptions.reservoir+=_,this.instance._drainAll(this.computeCapacity()),p}async __currentReservoir__(){return await this.yieldLoop(),this.storeOptions.reservoir}isBlocked(_){return this._unblockTime>=_}check(_,p){return this.conditionsCheck(_)&&this._nextRequest-p<=0}async __check__(_){var p;return await this.yieldLoop(),p=Date.now(),this.check(_,p)}async __register__(_,p,b){var y,T;return await this.yieldLoop(),y=Date.now(),this.conditionsCheck(p)?(this._running+=p,this.storeOptions.reservoir!=null&&(this.storeOptions.reservoir-=p),T=Math.max(this._nextRequest-y,0),this._nextRequest=y+T+this.storeOptions.minTime,{success:!0,wait:T,reservoir:this.storeOptions.reservoir}):{success:!1}}strategyIsBlock(){return this.storeOptions.strategy===3}async __submit__(_,p){var b,y,T;if(await this.yieldLoop(),this.storeOptions.maxConcurrent!=null&&p>this.storeOptions.maxConcurrent)throw new ae(`Impossible to add a job having a weight of ${p} to a limiter having a maxConcurrent setting of ${this.storeOptions.maxConcurrent}`);return y=Date.now(),T=this.storeOptions.highWater!=null&&_===this.storeOptions.highWater&&!this.check(p,y),b=this.strategyIsBlock()&&(T||this.isBlocked(y)),b&&(this._unblockTime=y+this.computePenalty(),this._nextRequest=this._unblockTime+this.storeOptions.minTime,this.instance._dropAllQueued()),{reachedHWM:T,blocked:b,strategy:this.storeOptions.strategy}}async __free__(_,p){return await this.yieldLoop(),this._running-=p,this._done+=p,this.instance._drainAll(this.computeCapacity()),{running:this._running}}};var O=xe,g,x;g=w,x=class{constructor(_){this.status=_,this._jobs={},this.counts=this.status.map(function(){return 0})}next(_){var p,b;if(p=this._jobs[_],b=p+1,p!=null&&b<this.status.length)return this.counts[p]--,this.counts[b]++,this._jobs[_]++;if(p!=null)return this.counts[p]--,delete this._jobs[_]}start(_){var p;return p=0,this._jobs[_]=p,this.counts[p]++}remove(_){var p;return p=this._jobs[_],p!=null&&(this.counts[p]--,delete this._jobs[_]),p!=null}jobStatus(_){var p;return(p=this.status[this._jobs[_]])!=null?p:null}statusJobs(_){var p,b,y,T,P;if(_!=null){if(b=this.status.indexOf(_),b<0)throw new g(`status must be one of ${this.status.join(", ")}`);y=this._jobs,T=[];for(p in y)P=y[p],P===b&&T.push(p);return T}else return Object.keys(this._jobs)}statusCounts(){return this.counts.reduce((_,p,b)=>(_[this.status[b]]=p,_),{})}};var S=x,C,N;C=l,N=class{constructor(_,p){this.schedule=this.schedule.bind(this),this.name=_,this.Promise=p,this._running=0,this._queue=new C}isEmpty(){return this._queue.length===0}async _tryToRun(){var _,p,b,y,T,P,$;if(this._running<1&&this._queue.length>0)return this._running++,{task:$,args:_,resolve:T,reject:y}=this._queue.shift(),p=await async function(){try{return P=await $(..._),function(){return T(P)}}catch(ne){return b=ne,function(){return y(b)}}}(),this._running--,this._tryToRun(),p()}schedule(_,...p){var b,y,T;return T=y=null,b=new this.Promise(function(P,$){return T=P,y=$}),this._queue.push({task:_,args:p,resolve:T,reject:y}),this._tryToRun(),b}};var X=N,_e="2.19.5",pe={version:_e},m=Object.freeze({version:_e,default:pe}),k=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),R=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),L=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),q,Q,Re,tt,be,$e;$e=o,q=c,tt=k,Re=R,be=L,Q=function(){class U{constructor(p={}){this.deleteKey=this.deleteKey.bind(this),this.limiterOptions=p,$e.load(this.limiterOptions,this.defaults,this),this.Events=new q(this),this.instances={},this.Bottleneck=io,this._startAutoCleanup(),this.sharedConnection=this.connection!=null,this.connection==null&&(this.limiterOptions.datastore==="redis"?this.connection=new tt(Object.assign({},this.limiterOptions,{Events:this.Events})):this.limiterOptions.datastore==="ioredis"&&(this.connection=new Re(Object.assign({},this.limiterOptions,{Events:this.Events}))))}key(p=""){var b;return(b=this.instances[p])!=null?b:(()=>{var y;return y=this.instances[p]=new this.Bottleneck(Object.assign(this.limiterOptions,{id:`${this.id}-${p}`,timeout:this.timeout,connection:this.connection})),this.Events.trigger("created",y,p),y})()}async deleteKey(p=""){var b,y;return y=this.instances[p],this.connection&&(b=await this.connection.__runCommand__(["del",...be.allKeys(`${this.id}-${p}`)])),y!=null&&(delete this.instances[p],await y.disconnect()),y!=null||b>0}limiters(){var p,b,y,T;b=this.instances,y=[];for(p in b)T=b[p],y.push({key:p,limiter:T});return y}keys(){return Object.keys(this.instances)}async clusterKeys(){var p,b,y,T,P,$,ne,Se,Pe;if(this.connection==null)return this.Promise.resolve(this.keys());for($=[],p=null,Pe=`b_${this.id}-`.length,b="_settings".length;p!==0;)for([Se,y]=await this.connection.__runCommand__(["scan",p??0,"match",`b_${this.id}-*_settings`,"count",1e4]),p=~~Se,T=0,ne=y.length;T<ne;T++)P=y[T],$.push(P.slice(Pe,-b));return $}_startAutoCleanup(){var p;return clearInterval(this.interval),typeof(p=this.interval=setInterval(async()=>{var b,y,T,P,$,ne;$=Date.now(),T=this.instances,P=[];for(y in T){ne=T[y];try{await ne._store.__groupCheck__($)?P.push(this.deleteKey(y)):P.push(void 0)}catch(Se){b=Se,P.push(ne.Events.trigger("error",b))}}return P},this.timeout/2)).unref=="function"?p.unref():void 0}updateSettings(p={}){if($e.overwrite(p,this.defaults,this),$e.overwrite(p,p,this.limiterOptions),p.timeout!=null)return this._startAutoCleanup()}disconnect(p=!0){var b;if(!this.sharedConnection)return(b=this.connection)!=null?b.disconnect(p):void 0}}return U.prototype.defaults={timeout:1e3*60*5,connection:null,Promise,id:"group-key"},U}.call(r);var Sr=Q,Qt,Jt,Xt;Xt=o,Jt=c,Qt=function(){class U{constructor(p={}){this.options=p,Xt.load(this.options,this.defaults,this),this.Events=new Jt(this),this._arr=[],this._resetPromise(),this._lastFlush=Date.now()}_resetPromise(){return this._promise=new this.Promise((p,b)=>this._resolve=p)}_flush(){return clearTimeout(this._timeout),this._lastFlush=Date.now(),this._resolve(),this.Events.trigger("batch",this._arr),this._arr=[],this._resetPromise()}add(p){var b;return this._arr.push(p),b=this._promise,this._arr.length===this.maxSize?this._flush():this.maxTime!=null&&this._arr.length===1&&(this._timeout=setTimeout(()=>this._flush(),this.maxTime)),b}}return U.prototype.defaults={maxTime:null,maxSize:null,Promise},U}.call(r);var Rr=Qt,Pr=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),We=n(m),le,Ae,gt,Zt,Zs,ci,eo,to,ro,hi,Ye,no=[].splice;ci=10,Ae=5,Ye=o,eo=v,Zt=V,Zs=O,to=Pr,gt=c,ro=S,hi=X,le=function(){class U{constructor(p={},...b){var y,T;this._addToQueue=this._addToQueue.bind(this),this._validateOptions(p,b),Ye.load(p,this.instanceDefaults,this),this._queues=new eo(ci),this._scheduled={},this._states=new ro(["RECEIVED","QUEUED","RUNNING","EXECUTING"].concat(this.trackDoneStatus?["DONE"]:[])),this._limiter=null,this.Events=new gt(this),this._submitLock=new hi("submit",this.Promise),this._registerLock=new hi("register",this.Promise),T=Ye.load(p,this.storeDefaults,{}),this._store=function(){if(this.datastore==="redis"||this.datastore==="ioredis"||this.connection!=null)return y=Ye.load(p,this.redisStoreDefaults,{}),new to(this,T,y);if(this.datastore==="local")return y=Ye.load(p,this.localStoreDefaults,{}),new Zs(this,T,y);throw new U.prototype.BottleneckError(`Invalid datastore type: ${this.datastore}`)}.call(this),this._queues.on("leftzero",()=>{var P;return(P=this._store.heartbeat)!=null&&typeof P.ref=="function"?P.ref():void 0}),this._queues.on("zero",()=>{var P;return(P=this._store.heartbeat)!=null&&typeof P.unref=="function"?P.unref():void 0})}_validateOptions(p,b){if(!(p!=null&&typeof p=="object"&&b.length===0))throw new U.prototype.BottleneckError("Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.")}ready(){return this._store.ready}clients(){return this._store.clients}channel(){return`b_${this.id}`}channel_client(){return`b_${this.id}_${this._store.clientId}`}publish(p){return this._store.__publish__(p)}disconnect(p=!0){return this._store.__disconnect__(p)}chain(p){return this._limiter=p,this}queued(p){return this._queues.queued(p)}clusterQueued(){return this._store.__queued__()}empty(){return this.queued()===0&&this._submitLock.isEmpty()}running(){return this._store.__running__()}done(){return this._store.__done__()}jobStatus(p){return this._states.jobStatus(p)}jobs(p){return this._states.statusJobs(p)}counts(){return this._states.statusCounts()}_randomIndex(){return Math.random().toString(36).slice(2)}check(p=1){return this._store.__check__(p)}_clearGlobalState(p){return this._scheduled[p]!=null?(clearTimeout(this._scheduled[p].expiration),delete this._scheduled[p],!0):!1}async _free(p,b,y,T){var P,$;try{if({running:$}=await this._store.__free__(p,y.weight),this.Events.trigger("debug",`Freed ${y.id}`,T),$===0&&this.empty())return this.Events.trigger("idle")}catch(ne){return P=ne,this.Events.trigger("error",P)}}_run(p,b,y){var T,P,$;return b.doRun(),T=this._clearGlobalState.bind(this,p),$=this._run.bind(this,p,b),P=this._free.bind(this,p,b),this._scheduled[p]={timeout:setTimeout(()=>b.doExecute(this._limiter,T,$,P),y),expiration:b.options.expiration!=null?setTimeout(function(){return b.doExpire(T,$,P)},y+b.options.expiration):void 0,job:b}}_drainOne(p){return this._registerLock.schedule(()=>{var b,y,T,P,$;return this.queued()===0?this.Promise.resolve(null):($=this._queues.getFirst(),{options:P,args:b}=T=$.first(),p!=null&&P.weight>p?this.Promise.resolve(null):(this.Events.trigger("debug",`Draining ${P.id}`,{args:b,options:P}),y=this._randomIndex(),this._store.__register__(y,P.weight,P.expiration).then(({success:ne,wait:Se,reservoir:Pe})=>{var Or;return this.Events.trigger("debug",`Drained ${P.id}`,{success:ne,args:b,options:P}),ne?($.shift(),Or=this.empty(),Or&&this.Events.trigger("empty"),Pe===0&&this.Events.trigger("depleted",Or),this._run(y,T,Se),this.Promise.resolve(P.weight)):this.Promise.resolve(null)})))})}_drainAll(p,b=0){return this._drainOne(p).then(y=>{var T;return y!=null?(T=p!=null?p-y:p,this._drainAll(T,b+y)):this.Promise.resolve(b)}).catch(y=>this.Events.trigger("error",y))}_dropAllQueued(p){return this._queues.shiftAll(function(b){return b.doDrop({message:p})})}stop(p={}){var b,y;return p=Ye.load(p,this.stopDefaults),y=T=>{var P;return P=()=>{var $;return $=this._states.counts,$[0]+$[1]+$[2]+$[3]===T},new this.Promise(($,ne)=>P()?$():this.on("done",()=>{if(P())return this.removeAllListeners("done"),$()}))},b=p.dropWaitingJobs?(this._run=function(T,P){return P.doDrop({message:p.dropErrorMessage})},this._drainOne=()=>this.Promise.resolve(null),this._registerLock.schedule(()=>this._submitLock.schedule(()=>{var T,P,$;P=this._scheduled;for(T in P)$=P[T],this.jobStatus($.job.options.id)==="RUNNING"&&(clearTimeout($.timeout),clearTimeout($.expiration),$.job.doDrop({message:p.dropErrorMessage}));return this._dropAllQueued(p.dropErrorMessage),y(0)}))):this.schedule({priority:ci-1,weight:0},()=>y(1)),this._receive=function(T){return T._reject(new U.prototype.BottleneckError(p.enqueueErrorMessage))},this.stop=()=>this.Promise.reject(new U.prototype.BottleneckError("stop() has already been called")),b}async _addToQueue(p){var b,y,T,P,$,ne,Se;({args:b,options:P}=p);try{({reachedHWM:$,blocked:y,strategy:Se}=await this._store.__submit__(this.queued(),P.weight))}catch(Pe){return T=Pe,this.Events.trigger("debug",`Could not queue ${P.id}`,{args:b,options:P,error:T}),p.doDrop({error:T}),!1}return y?(p.doDrop(),!0):$&&(ne=Se===U.prototype.strategy.LEAK?this._queues.shiftLastFrom(P.priority):Se===U.prototype.strategy.OVERFLOW_PRIORITY?this._queues.shiftLastFrom(P.priority+1):Se===U.prototype.strategy.OVERFLOW?p:void 0,ne!=null&&ne.doDrop(),ne==null||Se===U.prototype.strategy.OVERFLOW)?(ne==null&&p.doDrop(),$):(p.doQueue($,y),this._queues.push(p),await this._drainAll(),$)}_receive(p){return this._states.jobStatus(p.options.id)!=null?(p._reject(new U.prototype.BottleneckError(`A job with the same id already exists (id=${p.options.id})`)),!1):(p.doReceive(),this._submitLock.schedule(this._addToQueue,p))}submit(...p){var b,y,T,P,$,ne,Se;return typeof p[0]=="function"?($=p,[y,...p]=$,[b]=no.call(p,-1),P=Ye.load({},this.jobDefaults)):(ne=p,[P,y,...p]=ne,[b]=no.call(p,-1),P=Ye.load(P,this.jobDefaults)),Se=(...Pe)=>new this.Promise(function(Or,Cc){return y(...Pe,function(...so){return(so[0]!=null?Cc:Or)(so)})}),T=new Zt(Se,p,P,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),T.promise.then(function(Pe){return typeof b=="function"?b(...Pe):void 0}).catch(function(Pe){return Array.isArray(Pe)?typeof b=="function"?b(...Pe):void 0:typeof b=="function"?b(Pe):void 0}),this._receive(T)}schedule(...p){var b,y,T;return typeof p[0]=="function"?([T,...p]=p,y={}):[y,T,...p]=p,b=new Zt(T,p,y,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),this._receive(b),b.promise}wrap(p){var b,y;return b=this.schedule.bind(this),y=function(...T){return b(p.bind(this),...T)},y.withOptions=function(T,...P){return b(T,p,...P)},y}async updateSettings(p={}){return await this._store.__updateSettings__(Ye.overwrite(p,this.storeDefaults)),Ye.overwrite(p,this.instanceDefaults,this),this}currentReservoir(){return this._store.__currentReservoir__()}incrementReservoir(p=0){return this._store.__incrementReservoir__(p)}}return U.default=U,U.Events=gt,U.version=U.prototype.version=We.version,U.strategy=U.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},U.BottleneckError=U.prototype.BottleneckError=w,U.Group=U.prototype.Group=Sr,U.RedisConnection=U.prototype.RedisConnection=k,U.IORedisConnection=U.prototype.IORedisConnection=R,U.Batcher=U.prototype.Batcher=Rr,U.prototype.jobDefaults={priority:Ae,weight:1,expiration:null,id:"<no-id>"},U.prototype.storeDefaults={maxConcurrent:null,minTime:0,highWater:null,strategy:U.prototype.strategy.LEAK,penalty:null,reservoir:null,reservoirRefreshInterval:null,reservoirRefreshAmount:null,reservoirIncreaseInterval:null,reservoirIncreaseAmount:null,reservoirIncreaseMaximum:null},U.prototype.localStoreDefaults={Promise,timeout:null,heartbeatInterval:250},U.prototype.redisStoreDefaults={Promise,timeout:null,heartbeatInterval:5e3,clientTimeout:1e4,Redis:null,clientOptions:{},clusterNodes:null,clearDatastore:!1,connection:null},U.prototype.instanceDefaults={datastore:"local",connection:null,id:"<no-id>",rejectOnDrop:!0,trackDoneStatus:!1,Promise},U.prototype.stopDefaults={enqueueErrorMessage:"This limiter has been stopped and cannot accept new jobs.",dropWaitingJobs:!0,dropErrorMessage:"This limiter has been stopped."},U}.call(r);var io=le,Oc=io;return Oc})});async function Nf(t,e,r,n){if(!r.request||!r.request.request)throw r;if(r.status>=400&&!e.doNotRetry.includes(r.status)){let i=n.request.retries!=null?n.request.retries:e.retries,s=Math.pow((n.request.retryCount||0)+1,2);throw t.retry.retryRequest(r,i,s)}throw r}async function Uf(t,e,r){let n=new Df;return n.on("failed",function(i,s){let o=~~i.request.request.retries,a=~~i.request.request.retryAfter;if(r.request.retryCount=s.retryCount+1,o>s.retryCount)return a*t.retryAfterBaseValue}),n.schedule(e,r)}var Mf="3.0.9";function La(t,e){let r=Object.assign({enabled:!0,retryAfterBaseValue:1e3,doNotRetry:[400,401,403,404,422],retries:3},e.retry);return r.enabled&&(t.hook.error("request",Nf.bind(null,t,r)),t.hook.wrap("request",Uf.bind(null,r))),{retry:{retryRequest:(n,i,s)=>(n.request.request=Object.assign({},n.request.request,{retries:i,retryAfter:s}),n)}}}La.VERSION=Mf;var Tn=function(e){return btoa(e)};function qf(t){let e=t.clientType||"oauth-app",r=t.baseUrl||"https://github.com",n={clientType:e,allowSignup:t.allowSignup!==!1,clientId:t.clientId,login:t.login||null,redirectUrl:t.redirectUrl||null,state:t.state||Math.random().toString(36).substr(2),url:""};if(e==="oauth-app"){let i="scopes"in t?t.scopes:[];n.scopes=typeof i=="string"?i.split(/[,\s]+/).filter(Boolean):i}return n.url=Bf(`${r}/login/oauth/authorize`,n),n}function Bf(t,e){let r={allowSignup:"allow_signup",clientId:"client_id",login:"login",redirectUrl:"redirect_uri",scopes:"scope",state:"state"},n=t;return Object.keys(r).filter(i=>e[i]!==null).filter(i=>i!=="scopes"?!0:e.clientType==="github-app"?!1:!Array.isArray(e[i])||e[i].length>0).map(i=>[r[i],`${e[i]}`]).forEach(([i,s],o)=>{n+=o===0?"?":"&",n+=`${i}=${encodeURIComponent(s)}`}),n}var Hf=Object.freeze({__proto__:null,oauthAuthorizationUrl:qf}),ge=rt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function r(g){return g&&typeof g=="object"&&"default"in g?g.default:g}var n=r(Tn);let i="1.2.6";function s(g,x){var S=Object.keys(g);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(g);x&&(C=C.filter(function(N){return Object.getOwnPropertyDescriptor(g,N).enumerable})),S.push.apply(S,C)}return S}function o(g){for(var x=1;x<arguments.length;x++){var S=arguments[x]!=null?arguments[x]:{};x%2?s(Object(S),!0).forEach(function(C){a(g,C,S[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(S)):s(Object(S)).forEach(function(C){Object.defineProperty(g,C,Object.getOwnPropertyDescriptor(S,C))})}return g}function a(g,x,S){return x in g?Object.defineProperty(g,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):g[x]=S,g}function l(g,x){if(g==null)return{};var S={},C=Object.keys(g),N,X;for(X=0;X<C.length;X++)N=C[X],!(x.indexOf(N)>=0)&&(S[N]=g[N]);return S}function u(g,x){if(g==null)return{};var S=l(g,x),C,N;if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(g);for(N=0;N<X.length;N++)C=X[N],!(x.indexOf(C)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,C)||(S[C]=g[C]))}return S}function c(g){let x=g.endpoint.DEFAULTS;return/^https:\/\/(api\.)?github\.com$/.test(x.baseUrl)?"https://github.com":x.baseUrl.replace("/api/v3","")}async function h(g,x,S){let C=o({baseUrl:c(g),headers:{accept:"application/json"}},S),N=await g(x,C);if("error"in N.data){let X=new ff.RequestError(`${N.data.error_description} (${N.data.error}, ${N.data.error_uri})`,400,{request:g.endpoint.merge(x,C),headers:N.headers});throw X.response=N,X}return N}let d=["request"];function f(g){let{request:x=Je.request}=g,S=u(g,d),C=c(x);return Hf.oauthAuthorizationUrl(o(o({},S),{},{baseUrl:C}))}async function v(g){let x=g.request||Je.request,S=await h(x,"POST /login/oauth/access_token",{client_id:g.clientId,client_secret:g.clientSecret,code:g.code,redirect_uri:g.redirectUrl}),C={clientType:g.clientType,clientId:g.clientId,clientSecret:g.clientSecret,token:S.data.access_token,scopes:S.data.scope.split(/\s+/).filter(Boolean)};if(g.clientType==="github-app"){if("refresh_token"in S.data){let N=new Date(S.headers.date).getTime();C.refreshToken=S.data.refresh_token,C.expiresAt=A(N,S.data.expires_in),C.refreshTokenExpiresAt=A(N,S.data.refresh_token_expires_in)}delete C.scopes}return o(o({},S),{},{authentication:C})}function A(g,x){return new Date(g+x*1e3).toISOString()}async function w(g){let x=g.request||Je.request,S={client_id:g.clientId};return"scopes"in g&&Array.isArray(g.scopes)&&(S.scope=g.scopes.join(" ")),h(x,"POST /login/device/code",S)}async function j(g){let x=g.request||Je.request,S=await h(x,"POST /login/oauth/access_token",{client_id:g.clientId,device_code:g.code,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),C={clientType:g.clientType,clientId:g.clientId,token:S.data.access_token,scopes:S.data.scope.split(/\s+/).filter(Boolean)};if("clientSecret"in g&&(C.clientSecret=g.clientSecret),g.clientType==="github-app"){if("refresh_token"in S.data){let N=new Date(S.headers.date).getTime();C.refreshToken=S.data.refresh_token,C.expiresAt=D(N,S.data.expires_in),C.refreshTokenExpiresAt=D(N,S.data.refresh_token_expires_in)}delete C.scopes}return o(o({},S),{},{authentication:C})}function D(g,x){return new Date(g+x*1e3).toISOString()}async function K(g){let S=await(g.request||Je.request)("POST /applications/{client_id}/token",{headers:{authorization:`basic ${n(`${g.clientId}:${g.clientSecret}`)}`},client_id:g.clientId,access_token:g.token}),C={clientType:g.clientType,clientId:g.clientId,clientSecret:g.clientSecret,token:g.token,scopes:S.data.scopes};return S.data.expires_at&&(C.expiresAt=S.data.expires_at),g.clientType==="github-app"&&delete C.scopes,o(o({},S),{},{authentication:C})}async function H(g){let x=g.request||Je.request,S=await h(x,"POST /login/oauth/access_token",{client_id:g.clientId,client_secret:g.clientSecret,grant_type:"refresh_token",refresh_token:g.refreshToken}),C=new Date(S.headers.date).getTime(),N={clientType:"github-app",clientId:g.clientId,clientSecret:g.clientSecret,token:S.data.access_token,refreshToken:S.data.refresh_token,expiresAt:re(C,S.data.expires_in),refreshTokenExpiresAt:re(C,S.data.refresh_token_expires_in)};return o(o({},S),{},{authentication:N})}function re(g,x){return new Date(g+x*1e3).toISOString()}let V=["request","clientType","clientId","clientSecret","token"];async function ae(g){let{request:x,clientType:S,clientId:C,clientSecret:N,token:X}=g,_e=u(g,V),pe=await(x||Je.request)("POST /applications/{client_id}/token/scoped",o({headers:{authorization:`basic ${n(`${C}:${N}`)}`},client_id:C,access_token:X},_e)),m=Object.assign({clientType:S,clientId:C,clientSecret:N,token:pe.data.token},pe.data.expires_at?{expiresAt:pe.data.expires_at}:{});return o(o({},pe),{},{authentication:m})}async function xe(g){let x=g.request||Je.request,S=n(`${g.clientId}:${g.clientSecret}`),C=await x("PATCH /applications/{client_id}/token",{headers:{authorization:`basic ${S}`},client_id:g.clientId,access_token:g.token}),N={clientType:g.clientType,clientId:g.clientId,clientSecret:g.clientSecret,token:C.data.token,scopes:C.data.scopes};return C.data.expires_at&&(N.expiresAt=C.data.expires_at),g.clientType==="github-app"&&delete N.scopes,o(o({},C),{},{authentication:N})}async function I(g){let x=g.request||Je.request,S=n(`${g.clientId}:${g.clientSecret}`);return x("DELETE /applications/{client_id}/token",{headers:{authorization:`basic ${S}`},client_id:g.clientId,access_token:g.token})}async function O(g){let x=g.request||Je.request,S=n(`${g.clientId}:${g.clientSecret}`);return x("DELETE /applications/{client_id}/grant",{headers:{authorization:`basic ${S}`},client_id:g.clientId,access_token:g.token})}e.VERSION=i,e.checkToken=K,e.createDeviceCode=w,e.deleteAuthorization=O,e.deleteToken=I,e.exchangeDeviceCode=j,e.exchangeWebFlowCode=v,e.getWebFlowAuthorizationUrl=f,e.refreshToken=H,e.resetToken=xe,e.scopeToken=ae});async function $a(t,e){let r=zf(t,e.auth);if(r)return r;let{data:n}=await ge.createDeviceCode({clientType:t.clientType,clientId:t.clientId,request:e.request||t.request,scopes:e.auth.scopes||t.scopes});await t.onVerification(n);let i=await Li(e.request||t.request,t.clientId,t.clientType,n);return t.authentication=i,i}function zf(t,e){if(e.refresh===!0||!t.authentication)return!1;if(t.clientType==="github-app")return t.authentication;let r=t.authentication,n=("scopes"in e&&e.scopes||t.scopes).join(" "),i=r.scopes.join(" ");return n===i?r:!1}async function Da(t){await new Promise(e=>setTimeout(e,t*1e3))}async function Li(t,e,r,n){try{let i={clientId:e,request:t,code:n.device_code},{authentication:s}=r==="oauth-app"?await ge.exchangeDeviceCode({...i,clientType:"oauth-app"}):await ge.exchangeDeviceCode({...i,clientType:"github-app"});return{type:"token",tokenType:"oauth",...s}}catch(i){if(!i.response)throw i;let s=i.response.data.error;if(s==="authorization_pending")return await Da(n.interval),Li(t,e,r,n);if(s==="slow_down")return await Da(n.interval+5),Li(t,e,r,n);throw i}}async function Wf(t,e){return $a(t,{auth:e})}async function Yf(t,e,r,n){let i=e.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);let{token:s}=await $a(t,{request:e,auth:{type:"oauth"}});return i.headers.authorization=`token ${s}`,e(i)}var Kf="3.1.2";function Vf(t){let e=t.request||ot.defaults({headers:{"user-agent":`octokit-auth-oauth-device.js/${Kf} ${st()}`}}),{request:r=e,...n}=t,i=t.clientType==="github-app"?{...n,clientType:"github-app",request:r}:{...n,clientType:"oauth-app",request:r,scopes:t.scopes||[]};if(!t.clientId)throw new Error('[@octokit/auth-oauth-device] "clientId" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)');if(!t.onVerification)throw new Error('[@octokit/auth-oauth-device] "onVerification" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)');return Object.assign(Wf.bind(null,i),{hook:Yf.bind(null,i)})}var Na="1.3.0";async function Ua(t){if("code"in t.strategyOptions){let{authentication:e}=await ge.exchangeWebFlowCode({clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,...t.strategyOptions,request:t.request});return{type:"token",tokenType:"oauth",...e}}if("onVerification"in t.strategyOptions){let r=await Vf({clientType:t.clientType,clientId:t.clientId,...t.strategyOptions,request:t.request})({type:"oauth"});return{clientSecret:t.clientSecret,...r}}if("token"in t.strategyOptions)return{type:"token",tokenType:"oauth",clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,...t.strategyOptions};throw new Error("[@octokit/auth-oauth-user] Invalid strategy options")}async function $i(t,e={}){if(t.authentication||(t.authentication=t.clientType==="oauth-app"?await Ua(t):await Ua(t)),t.authentication.invalid)throw new Error("[@octokit/auth-oauth-user] Token is invalid");let r=t.authentication;if("expiresAt"in r&&(e.type==="refresh"||new Date(r.expiresAt)<new Date)){let{authentication:n}=await ge.refreshToken({clientType:"github-app",clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:r.refreshToken,request:t.request});t.authentication={tokenType:"oauth",type:"token",...n}}if(e.type==="refresh"){if(t.clientType==="oauth-app")throw new Error("[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens");if(!r.hasOwnProperty("expiresAt"))throw new Error("[@octokit/auth-oauth-user] Refresh token missing")}if(e.type==="check"||e.type==="reset"){let n=e.type==="check"?ge.checkToken:ge.resetToken;try{let{authentication:i}=await n({clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:t.authentication.token,request:t.request});return t.authentication={tokenType:"oauth",type:"token",...i},t.authentication}catch(i){throw i.status===404&&(i.message="[@octokit/auth-oauth-user] Token is invalid",t.authentication.invalid=!0),i}}if(e.type==="delete"||e.type==="deleteAuthorization"){let n=e.type==="delete"?ge.deleteToken:ge.deleteAuthorization;try{await n({clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:t.authentication.token,request:t.request})}catch(i){if(i.status!==404)throw i}return t.authentication.invalid=!0,t.authentication}return t.authentication}var Qf=/\/applications\/[^/]+\/(token|grant)s?/;function kn(t){return t&&Qf.test(t)}async function Jf(t,e,r,n={}){let i=e.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);if(kn(i.url)){let o=Tn(`${t.clientId}:${t.clientSecret}`);return i.headers.authorization=`basic ${o}`,e(i)}let{token:s}=t.clientType==="oauth-app"?await $i({...t,request:e}):await $i({...t,request:e});return i.headers.authorization="token "+s,e(i)}function ar({clientId:t,clientSecret:e,clientType:r="oauth-app",request:n=ot.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${Na} ${st()}`}}),...i}){let s=Object.assign({clientType:r,clientId:t,clientSecret:e,strategyOptions:i,request:n});return Object.assign($i.bind(null,s),{hook:Jf.bind(null,s)})}ar.VERSION=Na;var Dr=Object.freeze({__proto__:null,createOAuthUserAuth:ar,requiresBasicAuth:kn});async function Xf(t,e){if(e.type==="oauth-app")return{type:"oauth-app",clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,headers:{authorization:`basic ${Tn(`${t.clientId}:${t.clientSecret}`)}`}};if("factory"in e){let{type:i,...s}={...e,...t};return e.factory(s)}let r={clientId:t.clientId,clientSecret:t.clientSecret,request:t.request,...e};return(t.clientType==="oauth-app"?await ar({...r,clientType:t.clientType}):await ar({...r,clientType:t.clientType}))()}async function Zf(t,e,r,n){let i=e.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);if(t.clientType==="github-app"&&!kn(i.url))throw new Error(`[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than "/applications/{client_id}/**". "${i.method} ${i.url}" is not supported.`);let s=Tn(`${t.clientId}:${t.clientSecret}`);i.headers.authorization=`basic ${s}`;try{return await e(i)}catch(o){throw o.status!==401||(o.message=`[@octokit/auth-oauth-app] "${i.method} ${i.url}" does not support clientId/clientSecret basic authentication.`),o}}var ed="4.3.0";function Ma(t){let e=Object.assign({request:ot.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${ed} ${st()}`}}),clientType:"oauth-app"},t);return Object.assign(Xf.bind(null,e),{hook:Zf.bind(null,e)})}var Ba=Object.freeze({__proto__:null,createOAuthAppAuth:Ma,createOAuthUserAuth:ar});function qa(t){let e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0,i=t.length;n<i;n++)r[n]=t.charCodeAt(n);return e}function td(t){let e=t.trim().split(`
`).slice(1,-1).join(""),r=atob(e);return qa(r)}function rd(t,e){return`${Ha(t)}.${Ha(e)}`}function nd(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,i=0;i<n;i++)e+=String.fromCharCode(r[i]);return za(btoa(e))}function za(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ha(t){return za(btoa(JSON.stringify(t)))}var id=async({privateKey:t,payload:e})=>{if(/BEGIN RSA PRIVATE KEY/.test(t))throw new Error("[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#readme");let r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},n={alg:"RS256",typ:"JWT"},i=td(t),s=await crypto.subtle.importKey("pkcs8",i,r,!1,["sign"]),o=rd(n,e),a=qa(o),l=await crypto.subtle.sign(r.name,s,a),u=nd(l);return`${o}.${u}`};async function sd({id:t,privateKey:e,now:r=Math.floor(Date.now()/1e3)}){let n=r-30,i=n+60*10,o=await id({privateKey:e,payload:{iat:n,exp:i,iss:t}});return{appId:t,expiration:i,token:o}}var od=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}},ad=te;te.Node=jt;te.create=te;function te(t){var e=this;if(e instanceof te||(e=new te),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}te.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};te.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};te.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};te.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)ld(this,arguments[t]);return this.length};te.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)ud(this,arguments[t]);return this.length};te.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};te.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};te.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};te.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};te.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};te.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};te.prototype.map=function(t,e){e=e||this;for(var r=new te,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};te.prototype.mapReverse=function(t,e){e=e||this;for(var r=new te,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};te.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};te.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};te.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};te.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};te.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new te;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};te.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new te;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};te.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=cd(this,i,r[n]);return s};te.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function cd(t,e,r){var n=e===t.head?new jt(r,null,e,t):new jt(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function ld(t,e){t.tail=new jt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function ud(t,e){t.head=new jt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function jt(t,e,r,n){if(!(this instanceof jt))return new jt(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{od(te)}catch(t){}var Ft=Symbol("max"),at=Symbol("length"),lr=Symbol("lengthCalculator"),Nr=Symbol("allowStale"),Gt=Symbol("maxAge"),lt=Symbol("dispose"),Wa=Symbol("noDisposeOnSet"),ye=Symbol("lruList"),qe=Symbol("cache"),Ya=Symbol("updateAgeOnGet"),Di=()=>1,Ka=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Ft]=e.max||Infinity,n=e.length||Di;if(this[lr]=typeof n!="function"?Di:n,this[Nr]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Gt]=e.maxAge||0,this[lt]=e.dispose,this[Wa]=e.noDisposeOnSet||!1,this[Ya]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ft]=e||Infinity,Ur(this)}get max(){return this[Ft]}set allowStale(e){this[Nr]=!!e}get allowStale(){return this[Nr]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Gt]=e,Ur(this)}get maxAge(){return this[Gt]}set lengthCalculator(e){typeof e!="function"&&(e=Di),e!==this[lr]&&(this[lr]=e,this[at]=0,this[ye].forEach(r=>{r.length=this[lr](r.value,r.key),this[at]+=r.length})),Ur(this)}get lengthCalculator(){return this[lr]}get length(){return this[at]}get itemCount(){return this[ye].length}rforEach(e,r){r=r||this;for(let n=this[ye].tail;n!==null;){let i=n.prev;Qa(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ye].head;n!==null;){let i=n.next;Qa(this,e,n,r),n=i}}keys(){return this[ye].toArray().map(e=>e.key)}values(){return this[ye].toArray().map(e=>e.value)}reset(){this[lt]&&this[ye]&&this[ye].length&&this[ye].forEach(e=>this[lt](e.key,e.value)),this[qe]=new Map,this[ye]=new ad,this[at]=0}dump(){return this[ye].map(e=>xn(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ye]}set(e,r,n){if(n=n||this[Gt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[lr](r,e);if(this[qe].has(e)){if(s>this[Ft])return ur(this,this[qe].get(e)),!1;let l=this[qe].get(e).value;return this[lt]&&(this[Wa]||this[lt](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[at]+=s-l.length,l.length=s,this.get(e),Ur(this),!0}let o=new Va(e,r,s,i,n);return o.length>this[Ft]?(this[lt]&&this[lt](e,r),!1):(this[at]+=o.length,this[ye].unshift(o),this[qe].set(e,this[ye].head),Ur(this),!0)}has(e){if(!this[qe].has(e))return!1;let r=this[qe].get(e).value;return!xn(this,r)}get(e){return Ni(this,e,!0)}peek(e){return Ni(this,e,!1)}pop(){let e=this[ye].tail;return e?(ur(this,e),e.value):null}del(e){ur(this,this[qe].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[qe].forEach((e,r)=>Ni(this,r,!1))}},Ni=(t,e,r)=>{let n=t[qe].get(e);if(n){let i=n.value;if(xn(t,i)){if(ur(t,n),!t[Nr])return}else r&&(t[Ya]&&(n.value.now=Date.now()),t[ye].unshiftNode(n));return i.value}},xn=(t,e)=>{if(!e||!e.maxAge&&!t[Gt])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Gt]&&r>t[Gt]},Ur=t=>{if(t[at]>t[Ft])for(let e=t[ye].tail;t[at]>t[Ft]&&e!==null;){let r=e.prev;ur(t,e),e=r}},ur=(t,e)=>{if(e){let r=e.value;t[lt]&&t[lt](r.key,r.value),t[at]-=r.length,t[qe].delete(r.key),t[ye].removeNode(e)}},Va=class{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},Qa=(t,e,r,n)=>{let i=r.value;xn(t,i)&&(ur(t,r),t[Nr]||(i=void 0)),i&&e.call(n,i.value,i.key,t)},hd=Ka;async function An({appId:t,privateKey:e,timeDifference:r}){try{let n=await sd({id:+t,privateKey:e,now:r&&Math.floor(Date.now()/1e3)+r});return{type:"app",token:n.token,appId:n.appId,expiresAt:new Date(n.expiration*1e3).toISOString()}}catch(n){throw e==="-----BEGIN RSA PRIVATE KEY-----"?new Error("The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\n'"):n}}function pd(){return new hd({max:15e3,maxAge:1e3*60*59})}async function fd(t,e){let r=Ja(e),n=await t.get(r);if(!n)return;let[i,s,o,a,l,u]=n.split("|"),c=e.permissions||l.split(/,/).reduce((h,d)=>(/!$/.test(d)?h[d.slice(0,-1)]="write":h[d]="read",h),{});return{token:i,createdAt:s,expiresAt:o,permissions:c,repositoryIds:e.repositoryIds,repositoryNames:e.repositoryNames,singleFileName:u,repositorySelection:a}}async function dd(t,e,r){let n=Ja(e),i=e.permissions?"":Object.keys(r.permissions).map(o=>`${o}${r.permissions[o]==="write"?"!":""}`).join(","),s=[r.token,r.createdAt,r.expiresAt,r.repositorySelection,i,r.singleFileName].join("|");await t.set(n,s)}function Ja({installationId:t,permissions:e={},repositoryIds:r=[],repositoryNames:n=[]}){let i=Object.keys(e).sort().map(a=>e[a]==="read"?a:`${a}!`).join(","),s=r.sort().join(","),o=n.join(",");return[t,s,o,i].filter(Boolean).join("|")}function Xa({installationId:t,token:e,createdAt:r,expiresAt:n,repositorySelection:i,permissions:s,repositoryIds:o,repositoryNames:a,singleFileName:l}){return Object.assign({type:"token",tokenType:"installation",token:e,installationId:t,permissions:s,createdAt:r,expiresAt:n,repositorySelection:i},o?{repositoryIds:o}:null,a?{repositoryNames:a}:null,l?{singleFileName:l}:null)}async function Za(t,e,r){let n=Number(e.installationId||t.installationId);if(!n)throw new Error("[@octokit/auth-app] installationId option is required for installation authentication.");if(e.factory){let{type:D,factory:K,oauthApp:H,...re}={...t,...e};return K(re)}let i=Object.assign({installationId:n},e);if(!e.refresh){let D=await fd(t.cache,i);if(D){let{token:K,createdAt:H,expiresAt:re,permissions:V,repositoryIds:ae,repositoryNames:xe,singleFileName:I,repositorySelection:O}=D;return Xa({installationId:n,token:K,createdAt:H,expiresAt:re,permissions:V,repositorySelection:O,repositoryIds:ae,repositoryNames:xe,singleFileName:I})}}let s=await An(t),o=r||t.request,{data:{token:a,expires_at:l,repositories:u,permissions:c,repository_selection:h,single_file:d}}=await o("POST /app/installations/{installation_id}/access_tokens",{installation_id:n,repository_ids:e.repositoryIds,repositories:e.repositoryNames,permissions:e.permissions,mediaType:{previews:["machine-man"]},headers:{authorization:`bearer ${s.token}`}}),f=c||{},v=h||"all",A=u?u.map(D=>D.id):void 0,w=u?u.map(D=>D.name):void 0,j=new Date().toISOString();return await dd(t.cache,i,{token:a,createdAt:j,expiresAt:l,repositorySelection:v,permissions:f,repositoryIds:A,repositoryNames:w,singleFileName:d}),Xa({installationId:n,token:a,createdAt:j,expiresAt:l,repositorySelection:v,permissions:f,repositoryIds:A,repositoryNames:w,singleFileName:d})}async function gd(t,e){switch(e.type){case"app":return An(t);case"oauth":t.log.warn(new vn('[@octokit/auth-app] {type: "oauth"} is deprecated. Use {type: "oauth-app"} instead'));case"oauth-app":return t.oauthApp({type:"oauth-app"});case"installation":return Za(t,{...e,type:"installation"});case"oauth-user":return t.oauthApp(e);default:throw new Error(`Invalid auth type: ${e.type}`)}}var md=["/app","/app/hook/config","/app/hook/deliveries","/app/hook/deliveries/{delivery_id}","/app/hook/deliveries/{delivery_id}/attempts","/app/installations","/app/installations/{installation_id}","/app/installations/{installation_id}/access_tokens","/app/installations/{installation_id}/suspended","/marketplace_listing/accounts/{account_id}","/marketplace_listing/plan","/marketplace_listing/plans","/marketplace_listing/plans/{plan_id}/accounts","/marketplace_listing/stubbed/accounts/{account_id}","/marketplace_listing/stubbed/plan","/marketplace_listing/stubbed/plans","/marketplace_listing/stubbed/plans/{plan_id}/accounts","/orgs/{org}/installation","/repos/{owner}/{repo}/installation","/users/{username}/installation"];function _d(t){let r=`^(?:${t.map(n=>n.split("/").map(i=>i.startsWith("{")?"(?:.+?)":i).join("/")).map(n=>`(?:${n})`).join("|")})[^/]*$`;return new RegExp(r,"i")}var bd=_d(md);function wd(t){return!!t&&bd.test(t)}var yd=5*1e3;function vd(t){return!(t.message.match(/'Expiration time' claim \('exp'\) must be a numeric value representing the future time at which the assertion expires/)||t.message.match(/'Issued at' claim \('iat'\) must be an Integer representing the time that the assertion was issued/))}async function Ed(t,e,r,n){let i=e.endpoint.merge(r,n),s=i.url;if(/\/login\/oauth\/access_token$/.test(s))return e(i);if(wd(s.replace(e.endpoint.DEFAULTS.baseUrl,""))){let{token:l}=await An(t);i.headers.authorization=`bearer ${l}`;let u;try{u=await e(i)}catch(c){if(vd(c)||typeof c.response.headers.date=="undefined")throw c;let h=Math.floor((Date.parse(c.response.headers.date)-Date.parse(new Date().toString()))/1e3);t.log.warn(c.message),t.log.warn(`[@octokit/auth-app] GitHub API time and system time are different by ${h} seconds. Retrying request with the difference accounted for.`);let{token:d}=await An({...t,timeDifference:h});return i.headers.authorization=`bearer ${d}`,e(i)}return u}if(kn(s)){let l=await t.oauthApp({type:"oauth-app"});return i.headers.authorization=l.headers.authorization,e(i)}let{token:o,createdAt:a}=await Za(t,{},e);return i.headers.authorization=`token ${o}`,el(t,e,i,a)}async function el(t,e,r,n,i=0){let s=+new Date-+new Date(n);try{return await e(r)}catch(o){if(o.status!==401)throw o;if(s>=yd)throw i>0&&(o.message=`After ${i} retries within ${s/1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`),o;++i;let a=i*1e3;return t.log.warn(`[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${i}, wait: ${a/1e3}s)`),await new Promise(l=>setTimeout(l,a)),el(t,e,r,n,i)}}var Td="3.6.1";function kd(t){if(!t.appId)throw new Error("[@octokit/auth-app] appId option is required");if(!t.privateKey)throw new Error("[@octokit/auth-app] privateKey option is required");if("installationId"in t&&!t.installationId)throw new Error("[@octokit/auth-app] installationId is set to a falsy value");let e=Object.assign({warn:console.warn.bind(console)},t.log),r=t.request||ot.defaults({headers:{"user-agent":`octokit-auth-app.js/${Td} ${st()}`}}),n=Object.assign({request:r,cache:pd()},t,t.installationId?{installationId:Number(t.installationId)}:{},{log:e,oauthApp:Ma({clientType:"github-app",clientId:t.clientId||"",clientSecret:t.clientSecret||"",request:r})});return Object.assign(gd.bind(null,n),{hook:Ed.bind(null,n)})}var Ui=Object.freeze({__proto__:null,createAppAuth:kd,createOAuthUserAuth:ar});async function xd(t){return{type:"unauthenticated",reason:t}}function Ad(t){return t.status!==403||!t.response?!1:t.response.headers["x-ratelimit-remaining"]==="0"}var Sd=/\babuse\b/i;function Rd(t){return t.status!==403?!1:Sd.test(t.message)}async function Pd(t,e,r,n){let i=e.endpoint.merge(r,n);return e(i).catch(s=>{throw s.status===404?(s.message=`Not found. May be due to lack of authentication. Reason: ${t}`,s):Ad(s)?(s.message=`API rate limit exceeded. This maybe caused by the lack of authentication. Reason: ${t}`,s):Rd(s)?(s.message=`You have triggered an abuse detection mechanism. This maybe caused by the lack of authentication. Reason: ${t}`,s):s.status===401?(s.message=`Unauthorized. "${i.method} ${i.url}" failed most likely due to lack of authentication. Reason: ${t}`,s):(s.status>=400&&s.status<500&&(s.message=s.message.replace(/\.?$/,`. May be caused by lack of authentication (${t}).`)),s)})}var Od=function(e){if(!e||!e.reason)throw new Error("[@octokit/auth-unauthenticated] No reason passed to createUnauthenticatedAuth");return Object.assign(xd.bind(null,e.reason),{hook:Pd.bind(null,e.reason)})},Sn=Object.freeze({__proto__:null,createUnauthenticatedAuth:Od});var Cd=function(e){return[...e].reduce((r,[n,i])=>(r[n]=i,r),{})},Mi=rt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function r(m){return m&&typeof m=="object"&&"default"in m?m.default:m}var n=r(Cd);function i(m,k){var R=Object.keys(m);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(m);k&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(m,q).enumerable})),R.push.apply(R,L)}return R}function s(m){for(var k=1;k<arguments.length;k++){var R=arguments[k]!=null?arguments[k]:{};k%2?i(Object(R),!0).forEach(function(L){o(m,L,R[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(R)):i(Object(R)).forEach(function(L){Object.defineProperty(m,L,Object.getOwnPropertyDescriptor(R,L))})}return m}function o(m,k,R){return k in m?Object.defineProperty(m,k,{value:R,enumerable:!0,configurable:!0,writable:!0}):m[k]=R,m}let a="3.6.0";function l(m,k,R){if(Array.isArray(k)){for(let L of k)l(m,L,R);return}m.eventHandlers[k]||(m.eventHandlers[k]=[]),m.eventHandlers[k].push(R)}let u=Oa.Octokit.defaults({userAgent:`octokit-oauth-app.js/${a} ${Up.getUserAgent()}`});async function c(m,k){let{name:R,action:L}=k;if(m.eventHandlers[`${R}.${L}`])for(let q of m.eventHandlers[`${R}.${L}`])await q(k);if(m.eventHandlers[R])for(let q of m.eventHandlers[R])await q(k)}async function h(m,k){return m.octokit.auth(s(s({type:"oauth-user"},k),{},{async factory(R){let L=new m.Octokit({authStrategy:Dr.createOAuthUserAuth,auth:R}),q=await L.auth({type:"get"});return await c(m,{name:"token",action:"created",token:q.token,scopes:q.scopes,authentication:q,octokit:L}),L}}))}function d(m,k){let R=s(s({clientId:m.clientId,request:m.octokit.request},k),{},{allowSignup:k.allowSignup||m.allowSignup,scopes:k.scopes||m.defaultScopes});return ge.getWebFlowAuthorizationUrl(s({clientType:m.clientType},R))}async function f(m,k){let R=await m.octokit.auth(s({type:"oauth-user"},k));return await c(m,{name:"token",action:"created",token:R.token,scopes:R.scopes,authentication:R,octokit:new m.Octokit({authStrategy:Ba.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:R.token,scopes:R.scopes,refreshToken:R.refreshToken,expiresAt:R.expiresAt,refreshTokenExpiresAt:R.refreshTokenExpiresAt}})}),{authentication:R}}async function v(m,k){let R=await ge.checkToken(s({clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k));return Object.assign(R.authentication,{type:"token",tokenType:"oauth"}),R}async function A(m,k){let R=s({clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k);if(m.clientType==="oauth-app"){let Q=await ge.resetToken(s({clientType:"oauth-app"},R)),Re=Object.assign(Q.authentication,{type:"token",tokenType:"oauth"});return await c(m,{name:"token",action:"reset",token:Q.authentication.token,scopes:Q.authentication.scopes||void 0,authentication:Re,octokit:new m.Octokit({authStrategy:Dr.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:Q.authentication.token,scopes:Q.authentication.scopes}})}),s(s({},Q),{},{authentication:Re})}let L=await ge.resetToken(s({clientType:"github-app"},R)),q=Object.assign(L.authentication,{type:"token",tokenType:"oauth"});return await c(m,{name:"token",action:"reset",token:L.authentication.token,authentication:q,octokit:new m.Octokit({authStrategy:Dr.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:L.authentication.token}})}),s(s({},L),{},{authentication:q})}async function w(m,k){if(m.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.refreshToken() is not supported for OAuth Apps");let R=await ge.refreshToken({clientType:"github-app",clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request,refreshToken:k.refreshToken}),L=Object.assign(R.authentication,{type:"token",tokenType:"oauth"});return await c(m,{name:"token",action:"refreshed",token:R.authentication.token,authentication:L,octokit:new m.Octokit({authStrategy:Dr.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:R.authentication.token}})}),s(s({},R),{},{authentication:L})}async function j(m,k){if(m.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.scopeToken() is not supported for OAuth Apps");let R=await ge.scopeToken(s({clientType:"github-app",clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k)),L=Object.assign(R.authentication,{type:"token",tokenType:"oauth"});return await c(m,{name:"token",action:"scoped",token:R.authentication.token,authentication:L,octokit:new m.Octokit({authStrategy:Dr.createOAuthUserAuth,auth:{clientType:m.clientType,clientId:m.clientId,clientSecret:m.clientSecret,token:R.authentication.token}})}),s(s({},R),{},{authentication:L})}async function D(m,k){let R=s({clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k),L=m.clientType==="oauth-app"?await ge.deleteToken(s({clientType:"oauth-app"},R)):await ge.deleteToken(s({clientType:"github-app"},R));return await c(m,{name:"token",action:"deleted",token:k.token,octokit:new m.Octokit({authStrategy:Sn.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),L}async function K(m,k){let R=s({clientId:m.clientId,clientSecret:m.clientSecret,request:m.octokit.request},k),L=m.clientType==="oauth-app"?await ge.deleteAuthorization(s({clientType:"oauth-app"},R)):await ge.deleteAuthorization(s({clientType:"github-app"},R));return await c(m,{name:"token",action:"deleted",token:k.token,octokit:new m.Octokit({authStrategy:Sn.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),await c(m,{name:"authorization",action:"deleted",token:k.token,octokit:new m.Octokit({authStrategy:Sn.createUnauthenticatedAuth,auth:{reason:'Handling "authorization.deleted" event. The access for the app has been revoked.'}})}),L}function H(m){let{method:k,url:R,headers:L}=m;async function q(){return await new Promise((Re,tt)=>{let be=[];m.on("error",tt).on("data",$e=>be.push($e)).on("end",()=>Re(E.concat(be).toString()))})}return{method:k,url:R,headers:L,text:q}}function re(m,k){k.writeHead(m.status,m.headers),k.end(m.text)}function V(m){return{status:404,headers:{"content-type":"application/json"},text:JSON.stringify({error:`Unknown route: ${m.method} ${m.url}`})}}async function ae(m,{pathPrefix:k="/api/github/oauth"},R){if(R.method==="OPTIONS")return{status:200,headers:{"access-control-allow-origin":"*","access-control-allow-methods":"*","access-control-allow-headers":"Content-Type, User-Agent, Authorization"}};let{pathname:L}=new URL(R.url,"http://localhost"),q=[R.method,L].join(" "),Q={getLogin:`GET ${k}/login`,getCallback:`GET ${k}/callback`,createToken:`POST ${k}/token`,getToken:`GET ${k}/token`,patchToken:`PATCH ${k}/token`,patchRefreshToken:`PATCH ${k}/refresh-token`,scopeToken:`POST ${k}/token/scoped`,deleteToken:`DELETE ${k}/token`,deleteGrant:`DELETE ${k}/grant`};if(!Object.values(Q).includes(q))return null;let Re;try{let We=await R.text();Re=We?JSON.parse(We):{}}catch(We){return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:"[@octokit/oauth-app] request error"})}}let{searchParams:tt}=new URL(R.url,"http://localhost"),be=n(tt),$e=R.headers;try{var Sr;if(q===Q.getLogin){let{url:le}=m.getWebFlowAuthorizationUrl({state:be.state,scopes:be.scopes?be.scopes.split(","):void 0,allowSignup:be.allowSignup!=="false",redirectUrl:be.redirectUrl});return{status:302,headers:{location:le}}}if(q===Q.getCallback){if(be.error)throw new Error(`[@octokit/oauth-app] ${be.error} ${be.error_description}`);if(!be.state||!be.code)throw new Error('[@octokit/oauth-app] Both "code" & "state" parameters are required');let{authentication:{token:le}}=await m.createToken({state:be.state,code:be.code});return{status:200,headers:{"content-type":"text/html"},text:`<h1>Token created successfull</h1>
    
<p>Your token is: <strong>${le}</strong>. Copy it now as it cannot be shown again.</p>`}}if(q===Q.createToken){let{state:le,code:Ae,redirectUrl:gt}=Re;if(!le||!Ae)throw new Error('[@octokit/oauth-app] Both "code" & "state" parameters are required');let Zt=await m.createToken({state:le,code:Ae,redirectUrl:gt});return delete Zt.authentication.clientSecret,{status:201,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(Zt)}}if(q===Q.getToken){var Qt;let le=(Qt=$e.authorization)===null||Qt===void 0?void 0:Qt.substr("token ".length);if(!le)throw new Error('[@octokit/oauth-app] "Authorization" header is required');let Ae=await m.checkToken({token:le});return delete Ae.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(Ae)}}if(q===Q.patchToken){var Jt;let le=(Jt=$e.authorization)===null||Jt===void 0?void 0:Jt.substr("token ".length);if(!le)throw new Error('[@octokit/oauth-app] "Authorization" header is required');let Ae=await m.resetToken({token:le});return delete Ae.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(Ae)}}if(q===Q.patchRefreshToken){var Xt;if(!((Xt=$e.authorization)===null||Xt===void 0?void 0:Xt.substr("token ".length)))throw new Error('[@octokit/oauth-app] "Authorization" header is required');let{refreshToken:Ae}=Re;if(!Ae)throw new Error("[@octokit/oauth-app] refreshToken must be sent in request body");let gt=await m.refreshToken({refreshToken:Ae});return delete gt.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(gt)}}if(q===Q.scopeToken){var Rr;let le=(Rr=$e.authorization)===null||Rr===void 0?void 0:Rr.substr("token ".length);if(!le)throw new Error('[@octokit/oauth-app] "Authorization" header is required');let Ae=await m.scopeToken(s({token:le},Re));return delete Ae.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(Ae)}}if(q===Q.deleteToken){var Pr;let le=(Pr=$e.authorization)===null||Pr===void 0?void 0:Pr.substr("token ".length);if(!le)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await m.deleteToken({token:le}),{status:204,headers:{"access-control-allow-origin":"*"}}}let We=(Sr=$e.authorization)===null||Sr===void 0?void 0:Sr.substr("token ".length);if(!We)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await m.deleteAuthorization({token:We}),{status:204,headers:{"access-control-allow-origin":"*"}}}catch(We){return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:We.message})}}}function xe(m,k){let R=H(m),L=V(R);re(L,k)}function I(m,{pathPrefix:k,onUnhandledRequest:R=xe}={}){return async function(L,q,Q){let Re=H(L),tt=await ae(m,{pathPrefix:k},Re);tt?re(tt,q):typeof Q=="function"?Q():R(L,q)}}function O(m){let k=Object.fromEntries(m.headers.entries());return{method:m.method,url:m.url,headers:k,text:()=>m.text()}}function g(m){return new Response(m.text,{status:m.status,headers:m.headers})}async function x(m){let k=O(m),R=V(k);return g(R)}function S(m,{pathPrefix:k,onUnhandledRequest:R=x}={}){return async function(L){let q=O(L),Q=await ae(m,{pathPrefix:k},q);return Q?g(Q):await R(L)}}function C(m){let{method:k}=m.requestContext.http,R=m.rawPath,{stage:L}=m.requestContext;R.startsWith("/"+L)&&(R=R.substring(L.length+1)),m.rawQueryString&&(R+="?"+m.rawQueryString);let q=m.headers;return{method:k,url:R,headers:q,text:async()=>m.body||""}}function N(m){return{statusCode:m.status,headers:m.headers,body:m.text}}async function X(m){let k=C(m),R=V(k);return N(R)}function _e(m,{pathPrefix:k,onUnhandledRequest:R=X}={}){return async function(L){let q=C(L),Q=await ae(m,{pathPrefix:k},q);return Q?N(Q):R(L)}}class pe{constructor(k){let R=k.Octokit||u;this.type=k.clientType||"oauth-app";let L=new R({authStrategy:Ba.createOAuthAppAuth,auth:{clientType:this.type,clientId:k.clientId,clientSecret:k.clientSecret}}),q={clientType:this.type,clientId:k.clientId,clientSecret:k.clientSecret,defaultScopes:k.defaultScopes||[],allowSignup:k.allowSignup,baseUrl:k.baseUrl,log:k.log,Octokit:R,octokit:L,eventHandlers:{}};this.on=l.bind(null,q),this.octokit=L,this.getUserOctokit=h.bind(null,q),this.getWebFlowAuthorizationUrl=d.bind(null,q),this.createToken=f.bind(null,q),this.checkToken=v.bind(null,q),this.resetToken=A.bind(null,q),this.refreshToken=w.bind(null,q),this.scopeToken=j.bind(null,q),this.deleteToken=D.bind(null,q),this.deleteAuthorization=K.bind(null,q)}static defaults(k){return class extends this{constructor(...L){super(s(s({},k),L[0]))}}}}pe.VERSION=a,e.OAuthApp=pe,e.createAWSLambdaAPIGatewayV2Handler=_e,e.createCloudflareHandler=S,e.createNodeMiddleware=I}),Id=(t,e=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof t!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof t}\``);if(typeof e!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(e===0)return t;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return t.replace(n,r.indent.repeat(e))},tl=/\s+at.*(?:\(|\s)(.*)\)?/,jd=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,Fd=typeof bt.homedir=="undefined"?"":bt.homedir(),Gd=(t,e)=>(e=Object.assign({pretty:!1},e),t.replace(/\\/g,"/").split(`
`).filter(r=>{let n=r.match(tl);if(n===null||!n[1])return!0;let i=n[1];return i.includes(".app/Contents/Resources/electron.asar")||i.includes(".app/Contents/Resources/default_app.asar")?!1:!jd.test(i)}).filter(r=>r.trim()!=="").map(r=>e.pretty?r.replace(tl,(n,i)=>n.replace(i,i.replace(Fd,"~"))):r).join(`
`)),Ld=t=>t.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),rl=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);e=[...e].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=e.map(n=>typeof n.stack=="string"?Ld(Gd(n.stack)):String(n)).join(`
`);r=`
`+Id(r,4),super(r),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(let e of this._errors)yield e}},cr=rl,Bi=new TextEncoder;async function Dd(t,e){let r=await crypto.subtle.sign("HMAC",await nl(t),Bi.encode(e));return $d(r)}async function il(t,e,r){return await crypto.subtle.verify("HMAC",await nl(t),Nd(r),Bi.encode(e))}function Nd(t){let r=t.match(/[\dA-F]{2}/gi).map(function(n){return parseInt(n,16)});return new Uint8Array(r)}function $d(t){return Array.prototype.map.call(new Uint8Array(t),e=>e.toString(16).padStart(2,"0")).join("")}async function nl(t){return crypto.subtle.importKey("raw",Bi.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"])}var qi=t=>({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console),...t}),sl=["branch_protection_rule","branch_protection_rule.created","branch_protection_rule.deleted","branch_protection_rule.edited","check_run","check_run.completed","check_run.created","check_run.requested_action","check_run.rerequested","check_suite","check_suite.completed","check_suite.requested","check_suite.rerequested","code_scanning_alert","code_scanning_alert.appeared_in_branch","code_scanning_alert.closed_by_user","code_scanning_alert.created","code_scanning_alert.fixed","code_scanning_alert.reopened","code_scanning_alert.reopened_by_user","commit_comment","commit_comment.created","content_reference","content_reference.created","create","delete","deploy_key","deploy_key.created","deploy_key.deleted","deployment","deployment.created","deployment_status","deployment_status.created","discussion","discussion.answered","discussion.category_changed","discussion.created","discussion.deleted","discussion.edited","discussion.labeled","discussion.locked","discussion.pinned","discussion.transferred","discussion.unanswered","discussion.unlabeled","discussion.unlocked","discussion.unpinned","discussion_comment","discussion_comment.created","discussion_comment.deleted","discussion_comment.edited","fork","github_app_authorization","github_app_authorization.revoked","gollum","installation","installation.created","installation.deleted","installation.new_permissions_accepted","installation.suspend","installation.unsuspend","installation_repositories","installation_repositories.added","installation_repositories.removed","issue_comment","issue_comment.created","issue_comment.deleted","issue_comment.edited","issues","issues.assigned","issues.closed","issues.deleted","issues.demilestoned","issues.edited","issues.labeled","issues.locked","issues.milestoned","issues.opened","issues.pinned","issues.reopened","issues.transferred","issues.unassigned","issues.unlabeled","issues.unlocked","issues.unpinned","label","label.created","label.deleted","label.edited","marketplace_purchase","marketplace_purchase.cancelled","marketplace_purchase.changed","marketplace_purchase.pending_change","marketplace_purchase.pending_change_cancelled","marketplace_purchase.purchased","member","member.added","member.edited","member.removed","membership","membership.added","membership.removed","meta","meta.deleted","milestone","milestone.closed","milestone.created","milestone.deleted","milestone.edited","milestone.opened","org_block","org_block.blocked","org_block.unblocked","organization","organization.deleted","organization.member_added","organization.member_invited","organization.member_removed","organization.renamed","package","package.published","package.updated","page_build","ping","project","project.closed","project.created","project.deleted","project.edited","project.reopened","project_card","project_card.converted","project_card.created","project_card.deleted","project_card.edited","project_card.moved","project_column","project_column.created","project_column.deleted","project_column.edited","project_column.moved","public","pull_request","pull_request.assigned","pull_request.auto_merge_disabled","pull_request.auto_merge_enabled","pull_request.closed","pull_request.converted_to_draft","pull_request.edited","pull_request.labeled","pull_request.locked","pull_request.opened","pull_request.ready_for_review","pull_request.reopened","pull_request.review_request_removed","pull_request.review_requested","pull_request.synchronize","pull_request.unassigned","pull_request.unlabeled","pull_request.unlocked","pull_request_review","pull_request_review.dismissed","pull_request_review.edited","pull_request_review.submitted","pull_request_review_comment","pull_request_review_comment.created","pull_request_review_comment.deleted","pull_request_review_comment.edited","pull_request_review_thread","pull_request_review_thread.resolved","pull_request_review_thread.unresolved","push","release","release.created","release.deleted","release.edited","release.prereleased","release.published","release.released","release.unpublished","repository","repository.archived","repository.created","repository.deleted","repository.edited","repository.privatized","repository.publicized","repository.renamed","repository.transferred","repository.unarchived","repository_dispatch","repository_import","repository_vulnerability_alert","repository_vulnerability_alert.create","repository_vulnerability_alert.dismiss","repository_vulnerability_alert.resolve","secret_scanning_alert","secret_scanning_alert.created","secret_scanning_alert.reopened","secret_scanning_alert.resolved","security_advisory","security_advisory.performed","security_advisory.published","security_advisory.updated","security_advisory.withdrawn","sponsorship","sponsorship.cancelled","sponsorship.created","sponsorship.edited","sponsorship.pending_cancellation","sponsorship.pending_tier_change","sponsorship.tier_changed","star","star.created","star.deleted","status","team","team.added_to_repository","team.created","team.deleted","team.edited","team.removed_from_repository","team_add","watch","watch.started","workflow_dispatch","workflow_job","workflow_job.completed","workflow_job.in_progress","workflow_job.queued","workflow_job.started","workflow_run","workflow_run.completed","workflow_run.requested"];function Hi(t,e,r){t.hooks[e]||(t.hooks[e]=[]),t.hooks[e].push(r)}function ol(t,e,r){if(Array.isArray(e)){e.forEach(n=>ol(t,n,r));return}if(["*","error"].includes(e)){let n=e==="*"?"any":e,i=`Using the "${e}" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.on${n.charAt(0).toUpperCase()+n.slice(1)}() method instead`;throw new Error(i)}sl.includes(e)||t.log.warn(`"${e}" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`),Hi(t,e,r)}function Ud(t,e){Hi(t,"*",e)}function Md(t,e){Hi(t,"error",e)}function al(t,e){let r;try{r=t(e)}catch(n){console.log('FATAL: Error occurred in "error" event handler'),console.log(n)}r&&r.catch&&r.catch(n=>{console.log('FATAL: Error occurred in "error" event handler'),console.log(n)})}function Bd(t,e,r){let n=[t.hooks[r],t.hooks["*"]];return e&&n.unshift(t.hooks[`${r}.${e}`]),[].concat(...n.filter(Boolean))}function qd(t,e){let r=t.hooks.error||[];if(e instanceof Error){let o=Object.assign(new cr([e]),{event:e,errors:[e]});return r.forEach(a=>al(a,o)),Promise.reject(o)}if(!e||!e.name)throw new cr(["Event name not passed"]);if(!e.payload)throw new cr(["Event payload not passed"]);let n=Bd(t,"action"in e.payload?e.payload.action:null,e.name);if(n.length===0)return Promise.resolve();let i=[],s=n.map(o=>{let a=Promise.resolve(e);return t.transform&&(a=a.then(t.transform)),a.then(l=>o(l)).catch(l=>i.push(Object.assign(l,{event:e})))});return Promise.all(s).then(()=>{if(i.length===0)return;let o=new cr(i);throw Object.assign(o,{event:e,errors:i}),r.forEach(a=>al(a,o)),o})}function ll(t,e,r){if(Array.isArray(e)){e.forEach(n=>ll(t,n,r));return}if(!!t.hooks[e]){for(let n=t.hooks[e].length-1;n>=0;n--)if(t.hooks[e][n]===r){t.hooks[e].splice(n,1);return}}}function ul(t){let e={hooks:{},log:qi(t&&t.log)};return t&&t.transform&&(e.transform=t.transform),{on:ol.bind(null,e),onAny:Ud.bind(null,e),onError:Md.bind(null,e),removeListener:ll.bind(null,e),receive:qd.bind(null,e)}}function zi(t){return JSON.stringify(t).replace(/[^\\]\\u[\da-f]{4}/g,r=>r.substr(0,3)+r.substr(3).toUpperCase())}async function Hd(t,e){return Dd(t,typeof e=="string"?e:zi(e))}async function zd(t,e,r){return il(t,typeof e=="string"?e:zi(e),r)}async function Wd(t,e){if(!await il(t.secret,typeof e.payload=="object"?zi(e.payload):e.payload,e.signature)){let n=new Error("[@octokit/webhooks] signature does not match event payload and secret");return t.eventHandler.receive(Object.assign(n,{event:e,status:400}))}return t.eventHandler.receive({id:e.id,name:e.name,payload:typeof e.payload=="string"?JSON.parse(e.payload):e.payload})}var Yd=["x-github-event","x-hub-signature-256","x-github-delivery"];function Kd(t){return Yd.filter(e=>!(e in t.headers))}function Vd(t){return t.body?Promise.resolve(t.body):new Promise((e,r)=>{let n="";t.setEncoding("utf8"),t.on("error",i=>r(new cr([i]))),t.on("data",i=>n+=i),t.on("end",()=>{try{e(JSON.parse(n))}catch(i){i.message="Invalid JSON",i.status=400,r(new cr([i]))}})})}async function Qd(t,e,r,n,i){let s;try{s=new URL(r.url,"http://localhost").pathname}catch(v){n.writeHead(422,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Request URL could not be parsed: ${r.url}`}));return}let o=r.method!=="POST"||s!==e.path,a=typeof i=="function";if(o)return a?i():e.onUnhandledRequest(r,n);let l=Kd(r).join(", ");if(l){n.writeHead(400,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Required headers missing: ${l}`}));return}let u=r.headers["x-github-event"],c=r.headers["x-hub-signature-256"],h=r.headers["x-github-delivery"];e.log.debug(`${u} event received (id: ${h})`);let d=!1,f=setTimeout(()=>{d=!0,n.statusCode=202,n.end(`still processing
`)},9e3).unref();try{let v=await Vd(r);if(await t.verifyAndReceive({id:h,name:u,payload:v,signature:c}),clearTimeout(f),d)return;n.end(`ok
`)}catch(v){if(clearTimeout(f),d)return;let A=Array.from(v)[0].status;n.statusCode=typeof A!="undefined"?A:500,n.end(String(v))}}function Jd(t,e){e.writeHead(404,{"content-type":"application/json"}),e.end(JSON.stringify({error:`Unknown route: ${t.method} ${t.url}`}))}function Xd(t,{path:e="/api/github/webhooks",onUnhandledRequest:r=Jd,log:n=qi()}={}){return Qd.bind(null,t,{path:e,onUnhandledRequest:r,log:n})}var cl=class{constructor(e){if(!e||!e.secret)throw new Error("[@octokit/webhooks] options.secret required");let r={eventHandler:ul(e),secret:e.secret,hooks:{},log:qi(e.log)};this.sign=Hd.bind(null,e.secret),this.verify=zd.bind(null,e.secret),this.on=r.eventHandler.on,this.onAny=r.eventHandler.onAny,this.onError=r.eventHandler.onError,this.removeListener=r.eventHandler.removeListener,this.receive=r.eventHandler.receive,this.verifyAndReceive=Wd.bind(null,r)}},hl=Object.freeze({__proto__:null,Webhooks:cl,createEventHandler:ul,createNodeMiddleware:Xd,emitterEventNames:sl}),Zd=rt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function r(I,O){var g=Object.keys(I);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(I);O&&(x=x.filter(function(S){return Object.getOwnPropertyDescriptor(I,S).enumerable})),g.push.apply(g,x)}return g}function n(I){for(var O=1;O<arguments.length;O++){var g=arguments[O]!=null?arguments[O]:{};O%2?r(Object(g),!0).forEach(function(x){u(I,x,g[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(g)):r(Object(g)).forEach(function(x){Object.defineProperty(I,x,Object.getOwnPropertyDescriptor(g,x))})}return I}function i(I){var O;if(typeof Symbol!="undefined"&&(Symbol.asyncIterator&&(O=I[Symbol.asyncIterator]),O==null&&Symbol.iterator&&(O=I[Symbol.iterator])),O==null&&(O=I["@@asyncIterator"]),O==null&&(O=I["@@iterator"]),O==null)throw new TypeError("Object is not async iterable");return O.call(I)}function s(I){this.wrapped=I}function o(I){var O,g;function x(N,X){return new Promise(function(_e,pe){var m={key:N,arg:X,resolve:_e,reject:pe,next:null};g?g=g.next=m:(O=g=m,S(N,X))})}function S(N,X){try{var _e=I[N](X),pe=_e.value,m=pe instanceof s;Promise.resolve(m?pe.wrapped:pe).then(function(k){if(m){S(N==="return"?"return":"next",k);return}C(_e.done?"return":"normal",k)},function(k){S("throw",k)})}catch(k){C("throw",k)}}function C(N,X){switch(N){case"return":O.resolve({value:X,done:!0});break;case"throw":O.reject(X);break;default:O.resolve({value:X,done:!1});break}O=O.next,O?S(O.key,O.arg):g=null}this._invoke=x,typeof I.return!="function"&&(this.return=void 0)}o.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(I){return this._invoke("next",I)},o.prototype.throw=function(I){return this._invoke("throw",I)},o.prototype.return=function(I){return this._invoke("return",I)};function a(I){return function(){return new o(I.apply(this,arguments))}}function l(I){return new s(I)}function u(I,O,g){return O in I?Object.defineProperty(I,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):I[O]=g,I}let c="12.0.5";function h(I,O){return new hl.Webhooks({secret:O.secret,transform:async g=>{if(!("installation"in g.payload)||typeof g.payload.installation!="object"){let C=new I.constructor({authStrategy:Sn.createUnauthenticatedAuth,auth:{reason:'"installation" key missing in webhook event payload'}});return n(n({},g),{},{octokit:C})}let x=g.payload.installation.id,S=await I.auth({type:"installation",installationId:x,factory(C){return new C.octokit.constructor(n(n({},C.octokitOptions),{},{authStrategy:Ui.createAppAuth},{auth:n(n({},C),{},{installationId:x})}))}});return n(n({},g),{},{octokit:S})}})}async function d(I,O){return I.octokit.auth({type:"installation",installationId:O,factory(g){let x=n(n({},g.octokitOptions),{},{authStrategy:Ui.createAppAuth},{auth:n(n({},g),{},{installationId:O})});return new g.octokit.constructor(x)}})}function f(I){return Object.assign(v.bind(null,I),{iterator:A.bind(null,I)})}async function v(I,O){let g=A(I)[Symbol.asyncIterator](),x=await g.next();for(;!x.done;)await O(x.value),x=await g.next()}function A(I){return{[Symbol.asyncIterator](){return a(function*(){let O=Fa.composePaginateRest.iterator(I.octokit,"GET /app/installations");var g=!1,x=!1,S;try{for(var C=i(O),N;g=!(N=yield l(C.next())).done;g=!1){let{data:X}=N.value;for(let _e of X)yield{octokit:yield l(d(I,_e.id)),installation:_e}}}catch(X){x=!0,S=X}finally{try{g&&C.return!=null&&(yield l(C.return()))}finally{if(x)throw S}}})()}}}function w(I){return Object.assign(j.bind(null,I),{iterator:K.bind(null,I)})}async function j(I,O,g){let x=K(I,g?O:void 0)[Symbol.asyncIterator](),S=await x.next();for(;!S.done;)g?await g(S.value):await O(S.value),S=await x.next()}function D(I,O){return{[Symbol.asyncIterator](){return a(function*(){yield{octokit:yield l(I.getInstallationOctokit(O))}})()}}}function K(I,O){return{[Symbol.asyncIterator](){return a(function*(){let g=O?D(I,O.installationId):I.eachInstallation.iterator();var x=!1,S=!1,C;try{for(var N=i(g),X;x=!(X=yield l(N.next())).done;x=!1){let{octokit:L}=X.value,q=Fa.composePaginateRest.iterator(L,"GET /installation/repositories");var _e=!1,pe=!1,m;try{for(var k=i(q),R;_e=!(R=yield l(k.next())).done;_e=!1){let{data:Q}=R.value;for(let Re of Q)yield{octokit:L,repository:Re}}}catch(Q){pe=!0,m=Q}finally{try{_e&&k.return!=null&&(yield l(k.return()))}finally{if(pe)throw m}}}}catch(L){S=!0,C=L}finally{try{x&&N.return!=null&&(yield l(N.return()))}finally{if(S)throw C}}})()}}}function H(I,O){O.writeHead(404,{"content-type":"application/json"}),O.end(JSON.stringify({error:`Unknown route: ${I.method} ${I.url}`}))}function re(){}function V(I,O={}){let g=Object.assign({debug:re,info:re,warn:console.warn.bind(console),error:console.error.bind(console)},O.log),x=n(n({onUnhandledRequest:H,pathPrefix:"/api/github"},O),{},{log:g}),S=hl.createNodeMiddleware(I.webhooks,{path:x.pathPrefix+"/webhooks",log:g,onUnhandledRequest:x.onUnhandledRequest}),C=Mi.createNodeMiddleware(I.oauth,{pathPrefix:x.pathPrefix+"/oauth",onUnhandledRequest:x.onUnhandledRequest});return ae.bind(null,x,{webhooksMiddleware:S,oauthMiddleware:C})}async function ae(I,{webhooksMiddleware:O,oauthMiddleware:g},x,S,C){let{pathname:N}=new URL(x.url,"http://localhost");return N===`${I.pathPrefix}/webhooks`?O(x,S,C):N.startsWith(`${I.pathPrefix}/oauth/`)?g(x,S,C):typeof C=="function"?C():I.onUnhandledRequest(x,S)}class xe{constructor(O){let g=O.Octokit||Oa.Octokit,x=Object.assign({appId:O.appId,privateKey:O.privateKey},O.oauth?{clientId:O.oauth.clientId,clientSecret:O.oauth.clientSecret}:{});this.octokit=new g({authStrategy:Ui.createAppAuth,auth:x,log:O.log}),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},O.log),O.webhooks?this.webhooks=h(this.octokit,O.webhooks):Object.defineProperty(this,"webhooks",{get(){throw new Error("[@octokit/app] webhooks option not set")}}),O.oauth?this.oauth=new Mi.OAuthApp(n(n({},O.oauth),{},{clientType:"github-app",Octokit:g})):Object.defineProperty(this,"oauth",{get(){throw new Error("[@octokit/app] oauth.clientId / oauth.clientSecret options are not set")}}),this.getInstallationOctokit=d.bind(null,this),this.eachInstallation=f(this),this.eachRepository=w(this)}static defaults(O){return class extends this{constructor(...x){super(n(n({},O),x[0]))}}}}xe.VERSION=c,e.App=xe,e.createNodeMiddleware=V}),eg="1.7.1",Rn=$r.plugin(Ga,Gi,La).defaults({userAgent:`octokit-rest.js/${eg}`,throttle:{onRateLimit:tg,onAbuseLimit:rg}});function tg(t,e,r){if(r.log.warn(`Request quota exhausted for request ${e.method} ${e.url}`),e.request.retryCount===0)return r.log.info(`Retrying after ${t} seconds!`),!0}function rg(t,e,r){if(r.log.warn(`Abuse detected for request ${e.method} ${e.url}`),e.request.retryCount===0)return r.log.info(`Retrying after ${t} seconds!`),!0}var Ay=Zd.App.defaults({Octokit:Rn}),Sy=Mi.OAuthApp.defaults({Octokit:Rn});function pl(t){return typeof t=="undefined"||t===null}function ng(t){return typeof t=="object"&&t!==null}function ig(t){return Array.isArray(t)?t:pl(t)?[]:[t]}function sg(t,e){var r,n,i,s;if(e)for(s=Object.keys(e),r=0,n=s.length;r<n;r+=1)i=s[r],t[i]=e[i];return t}function og(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}function ag(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var lg=pl,ug=ng,cg=ig,hg=og,pg=ag,fg=sg,ce={isNothing:lg,isObject:ug,toArray:cg,repeat:hg,isNegativeZero:pg,extend:fg};function Mr(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Mr.prototype=Object.create(Error.prototype);Mr.prototype.constructor=Mr;Mr.prototype.toString=function(e){var r=this.name+": ";return r+=this.reason||"(unknown reason)",!e&&this.mark&&(r+=" "+this.mark.toString()),r};var Ge=Mr;function Wi(t,e,r,n,i){this.name=t,this.buffer=e,this.position=r,this.line=n,this.column=i}Wi.prototype.getSnippet=function(e,r){var n,i,s,o,a;if(!this.buffer)return null;for(e=e||4,r=r||75,n="",i=this.position;i>0&&`\0\r
Â\u2028\u2029`.indexOf(this.buffer.charAt(i-1))===-1;)if(i-=1,this.position-i>r/2-1){n=" ... ",i+=5;break}for(s="",o=this.position;o<this.buffer.length&&`\0\r
Â\u2028\u2029`.indexOf(this.buffer.charAt(o))===-1;)if(o+=1,o-this.position>r/2-1){s=" ... ",o-=5;break}return a=this.buffer.slice(i,o),ce.repeat(" ",e)+n+a+s+`
`+ce.repeat(" ",e+this.position-i+n.length)+"^"};Wi.prototype.toString=function(e){var r,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(r=this.getSnippet(),r&&(n+=`:
`+r)),n};var dg=Wi,gg=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],mg=["scalar","sequence","mapping"];function _g(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}function bg(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(gg.indexOf(r)===-1)throw new Ge('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=_g(e.styleAliases||null),mg.indexOf(this.kind)===-1)throw new Ge('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var ve=bg;function Yi(t,e,r){var n=[];return t.include.forEach(function(i){r=Yi(i,e,r)}),t[e].forEach(function(i){r.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&n.push(o)}),r.push(i)}),r.filter(function(i,s){return n.indexOf(s)===-1})}function wg(){var t={scalar:{},sequence:{},mapping:{},fallback:{}},e,r;function n(i){t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}function hr(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&e.loadKind!=="scalar")throw new Ge("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=Yi(this,"implicit",[]),this.compiledExplicit=Yi(this,"explicit",[]),this.compiledTypeMap=wg(this.compiledImplicit,this.compiledExplicit)}hr.DEFAULT=null;hr.create=function(){var e,r;switch(arguments.length){case 1:e=hr.DEFAULT,r=arguments[0];break;case 2:e=arguments[0],r=arguments[1];break;default:throw new Ge("Wrong number of arguments for Schema.create function")}if(e=ce.toArray(e),r=ce.toArray(r),!e.every(function(n){return n instanceof hr}))throw new Ge("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(n){return n instanceof ve}))throw new Ge("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new hr({include:e,explicit:r})};var Lt=hr,yg=new ve("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),vg=new ve("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),Eg=new ve("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Ki=new Lt({explicit:[yg,vg,Eg]});function Tg(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function kg(){return null}function xg(t){return t===null}var Ag=new ve("tag:yaml.org,2002:null",{kind:"scalar",resolve:Tg,construct:kg,predicate:xg,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"});function Sg(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function Rg(t){return t==="true"||t==="True"||t==="TRUE"}function Pg(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Og=new ve("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Sg,construct:Rg,predicate:Pg,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Cg(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Ig(t){return 48<=t&&t<=55}function jg(t){return 48<=t&&t<=57}function Fg(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!Cg(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}for(;r<e;r++)if(i=t[r],i!=="_"){if(!Ig(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(i===":")break;if(!jg(t.charCodeAt(r)))return!1;n=!0}return!n||i==="_"?!1:i!==":"?!0:/^(:[0-5]?[0-9])+$/.test(t.slice(r))}function Gg(t){var e=t,r=1,n,i,s=[];return e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0"?0:n==="0"?e[1]==="b"?r*parseInt(e.slice(2),2):e[1]==="x"?r*parseInt(e,16):r*parseInt(e,8):e.indexOf(":")!==-1?(e.split(":").forEach(function(o){s.unshift(parseInt(o,10))}),e=0,i=1,s.forEach(function(o){e+=o*i,i*=60}),r*e):r*parseInt(e,10)}function Lg(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1==0&&!ce.isNegativeZero(t)}var $g=new ve("tag:yaml.org,2002:int",{kind:"scalar",resolve:Fg,construct:Gg,predicate:Lg,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0"+t.toString(8):"-0"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Dg=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Ng(t){return!(t===null||!Dg.test(t)||t[t.length-1]==="_")}function Ug(t){var e,r,n,i;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,i=[],"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:e.indexOf(":")>=0?(e.split(":").forEach(function(s){i.unshift(parseFloat(s,10))}),e=0,n=1,i.forEach(function(s){e+=s*n,n*=60}),r*e):r*parseFloat(e,10)}var Mg=/^[-+]?[0-9]+e/;function Bg(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ce.isNegativeZero(t))return"-0.0";return r=t.toString(10),Mg.test(r)?r.replace("e",".e"):r}function qg(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!=0||ce.isNegativeZero(t))}var Hg=new ve("tag:yaml.org,2002:float",{kind:"scalar",resolve:Ng,construct:Ug,predicate:qg,represent:Bg,defaultStyle:"lowercase"}),fl=new Lt({include:[Ki],implicit:[Ag,Og,$g,Hg]}),dl=new Lt({include:[fl]}),gl=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ml=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function zg(t){return t===null?!1:gl.exec(t)!==null||ml.exec(t)!==null}function Wg(t){var e,r,n,i,s,o,a,l=0,u=null,c,h,d;if(e=gl.exec(t),e===null&&(e=ml.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],h=+(e[11]||0),u=(c*60+h)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(r,n,i,s,o,a,l)),u&&d.setTime(d.getTime()-u),d}function Yg(t){return t.toISOString()}var Kg=new ve("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:zg,construct:Wg,instanceOf:Date,represent:Yg});function Vg(t){return t==="<<"||t===null}var Qg=new ve("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Vg}),$t;try{_l=pn,$t=_l("buffer").Buffer}catch(t){}var _l,Vi=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Jg(t){if(t===null)return!1;var e,r,n=0,i=t.length,s=Vi;for(r=0;r<i;r++)if(e=s.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8==0}function Xg(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,s=Vi,o=0,a=[];for(e=0;e<i;e++)e%4==0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(e));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),$t?$t.from?$t.from(a):new $t(a):a}function Zg(t){var e="",r=0,n,i,s=t.length,o=Vi;for(n=0;n<s;n++)n%3==0&&n&&(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]),r=(r<<8)+t[n];return i=s%3,i===0?(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]):i===2?(e+=o[r>>10&63],e+=o[r>>4&63],e+=o[r<<2&63],e+=o[64]):i===1&&(e+=o[r>>2&63],e+=o[r<<4&63],e+=o[64],e+=o[64]),e}function em(t){return $t&&$t.isBuffer(t)}var tm=new ve("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Jg,construct:Xg,predicate:em,represent:Zg}),rm=Object.prototype.hasOwnProperty,nm=Object.prototype.toString;function im(t){if(t===null)return!0;var e=[],r,n,i,s,o,a=t;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,nm.call(i)!=="[object Object]")return!1;for(s in i)if(rm.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function sm(t){return t!==null?t:[]}var om=new ve("tag:yaml.org,2002:omap",{kind:"sequence",resolve:im,construct:sm}),am=Object.prototype.toString;function lm(t){if(t===null)return!0;var e,r,n,i,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1){if(n=o[e],am.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[e]=[i[0],n[i[0]]]}return!0}function um(t){if(t===null)return[];var e,r,n,i,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1)n=o[e],i=Object.keys(n),s[e]=[i[0],n[i[0]]];return s}var cm=new ve("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:lm,construct:um}),hm=Object.prototype.hasOwnProperty;function pm(t){if(t===null)return!0;var e,r=t;for(e in r)if(hm.call(r,e)&&r[e]!==null)return!1;return!0}function fm(t){return t!==null?t:{}}var dm=new ve("tag:yaml.org,2002:set",{kind:"mapping",resolve:pm,construct:fm}),pr=new Lt({include:[dl],implicit:[Kg,Qg],explicit:[tm,om,cm,dm]});function gm(){return!0}function mm(){}function _m(){return""}function bm(t){return typeof t=="undefined"}var wm=new ve("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:gm,construct:mm,predicate:bm,represent:_m});function ym(t){if(t===null||t.length===0)return!1;var e=t,r=/\/([gim]*)$/.exec(t),n="";return!(e[0]==="/"&&(r&&(n=r[1]),n.length>3||e[e.length-n.length-1]!=="/"))}function vm(t){var e=t,r=/\/([gim]*)$/.exec(t),n="";return e[0]==="/"&&(r&&(n=r[1]),e=e.slice(1,e.length-n.length-1)),new RegExp(e,n)}function Em(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}function Tm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}var km=new ve("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:ym,construct:vm,predicate:Tm,represent:Em}),Pn;try{bl=pn,Pn=bl("esprima")}catch(t){typeof window!="undefined"&&(Pn=window.esprima)}var bl;function xm(t){if(t===null)return!1;try{var e="("+t+")",r=Pn.parse(e,{range:!0});return!(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")}catch(n){return!1}}function Am(t){var e="("+t+")",r=Pn.parse(e,{range:!0}),n=[],i;if(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(s){n.push(s.name)}),i=r.body[0].expression.body.range,r.body[0].expression.body.type==="BlockStatement"?new Function(n,e.slice(i[0]+1,i[1]-1)):new Function(n,"return "+e.slice(i[0],i[1]))}function Sm(t){return t.toString()}function Rm(t){return Object.prototype.toString.call(t)==="[object Function]"}var Pm=new ve("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:xm,construct:Am,predicate:Rm,represent:Sm}),On=Lt.DEFAULT=new Lt({include:[pr],explicit:[wm,km,Pm]}),wt=Object.prototype.hasOwnProperty,Cn=1,wl=2,yl=3,In=4,Qi=1,Om=2,vl=3,Cm=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Im=/[\x85\u2028\u2029]/,jm=/[,\[\]\{\}]/,El=/^(?:!|!!|![a-z\-]+!)$/i,Tl=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function kl(t){return Object.prototype.toString.call(t)}function Xe(t){return t===10||t===13}function Dt(t){return t===9||t===32}function Le(t){return t===9||t===32||t===10||t===13}function fr(t){return t===44||t===91||t===93||t===123||t===125}function Fm(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function Gm(t){return t===120?2:t===117?4:t===85?8:0}function Lm(t){return 48<=t&&t<=57?t-48:-1}function xl(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"Â":t===95?"Â ":t===76?"\u2028":t===80?"\u2029":""}function $m(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var Al=new Array(256),Sl=new Array(256);for(var dr=0;dr<256;dr++)Al[dr]=xl(dr)?1:0,Sl[dr]=xl(dr);function Dm(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||On,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function Rl(t,e){return new Ge(e,new dg(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function M(t,e){throw Rl(t,e)}function jn(t,e){t.onWarning&&t.onWarning.call(null,Rl(t,e))}var Pl={YAML:function(e,r,n){var i,s,o;e.version!==null&&M(e,"duplication of %YAML directive"),n.length!==1&&M(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&M(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&M(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&jn(e,"unsupported YAML version of the document")},TAG:function(e,r,n){var i,s;n.length!==2&&M(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],El.test(i)||M(e,"ill-formed tag handle (first argument) of the TAG directive"),wt.call(e.tagMap,i)&&M(e,'there is a previously declared suffix for "'+i+'" tag handle'),Tl.test(s)||M(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[i]=s}};function yt(t,e,r,n){var i,s,o,a;if(e<r){if(a=t.input.slice(e,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||M(t,"expected valid JSON character");else Cm.test(a)&&M(t,"the stream contains non-printable characters");t.result+=a}}function Ol(t,e,r,n){var i,s,o,a;for(ce.isObject(r)||M(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],wt.call(e,s)||(e[s]=r[s],n[s]=!0)}function gr(t,e,r,n,i,s,o,a){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&M(t,"nested arrays are not supported inside keys"),typeof i=="object"&&kl(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&kl(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,u=s.length;l<u;l+=1)Ol(t,e,s[l],r);else Ol(t,e,s,r);else!t.json&&!wt.call(r,i)&&wt.call(e,i)&&(t.line=o||t.line,t.position=a||t.position,M(t,"duplicated mapping key")),e[i]=s,delete r[i];return e}function Ji(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):M(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function he(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Dt(i);)i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Xe(i))for(Ji(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&jn(t,"deficient indentation"),n}function Fn(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||Le(r)))}function Xi(t,e){e===1?t.result+=" ":e>1&&(t.result+=ce.repeat(`
`,e-1))}function Nm(t,e,r){var n,i,s,o,a,l,u,c,h=t.kind,d=t.result,f;if(f=t.input.charCodeAt(t.position),Le(f)||fr(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(i=t.input.charCodeAt(t.position+1),Le(i)||r&&fr(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;f!==0;){if(f===58){if(i=t.input.charCodeAt(t.position+1),Le(i)||r&&fr(i))break}else if(f===35){if(n=t.input.charCodeAt(t.position-1),Le(n))break}else{if(t.position===t.lineStart&&Fn(t)||r&&fr(f))break;if(Xe(f))if(l=t.line,u=t.lineStart,c=t.lineIndent,he(t,!1,-1),t.lineIndent>=e){a=!0,f=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=u,t.lineIndent=c;break}}a&&(yt(t,s,o,!1),Xi(t,t.line-l),s=o=t.position,a=!1),Dt(f)||(o=t.position+1),f=t.input.charCodeAt(++t.position)}return yt(t,s,o,!1),t.result?!0:(t.kind=h,t.result=d,!1)}function Um(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(yt(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else Xe(r)?(yt(t,n,i,!0),Xi(t,he(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Fn(t)?M(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);M(t,"unexpected end of the stream within a single quoted scalar")}function Mm(t,e){var r,n,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return yt(t,r,t.position,!0),t.position++,!0;if(a===92){if(yt(t,r,t.position,!0),a=t.input.charCodeAt(++t.position),Xe(a))he(t,!1,e);else if(a<256&&Al[a])t.result+=Sl[a],t.position++;else if((o=Gm(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=Fm(a))>=0?s=(s<<4)+o:M(t,"expected hexadecimal character");t.result+=$m(s),t.position++}else M(t,"unknown escape sequence");r=n=t.position}else Xe(a)?(yt(t,r,n,!0),Xi(t,he(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Fn(t)?M(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}M(t,"unexpected end of the stream within a double quoted scalar")}function Bm(t,e){var r=!0,n,i=t.tag,s,o=t.anchor,a,l,u,c,h,d={},f,v,A,w;if(w=t.input.charCodeAt(t.position),w===91)l=93,h=!1,s=[];else if(w===123)l=125,h=!0,s={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),w=t.input.charCodeAt(++t.position);w!==0;){if(he(t,!0,e),w=t.input.charCodeAt(t.position),w===l)return t.position++,t.tag=i,t.anchor=o,t.kind=h?"mapping":"sequence",t.result=s,!0;r||M(t,"missed comma between flow collection entries"),v=f=A=null,u=c=!1,w===63&&(a=t.input.charCodeAt(t.position+1),Le(a)&&(u=c=!0,t.position++,he(t,!0,e))),n=t.line,mr(t,e,Cn,!1,!0),v=t.tag,f=t.result,he(t,!0,e),w=t.input.charCodeAt(t.position),(c||t.line===n)&&w===58&&(u=!0,w=t.input.charCodeAt(++t.position),he(t,!0,e),mr(t,e,Cn,!1,!0),A=t.result),h?gr(t,s,d,v,f,A):u?s.push(gr(t,null,d,v,f,A)):s.push(f),he(t,!0,e),w=t.input.charCodeAt(t.position),w===44?(r=!0,w=t.input.charCodeAt(++t.position)):r=!1}M(t,"unexpected end of the stream within a flow collection")}function qm(t,e){var r,n,i=Qi,s=!1,o=!1,a=e,l=0,u=!1,c,h;if(h=t.input.charCodeAt(t.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(t.kind="scalar",t.result="";h!==0;)if(h=t.input.charCodeAt(++t.position),h===43||h===45)Qi===i?i=h===43?vl:Om:M(t,"repeat of a chomping mode identifier");else if((c=Lm(h))>=0)c===0?M(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?M(t,"repeat of an indentation width identifier"):(a=e+c-1,o=!0);else break;if(Dt(h)){do h=t.input.charCodeAt(++t.position);while(Dt(h));if(h===35)do h=t.input.charCodeAt(++t.position);while(!Xe(h)&&h!==0)}for(;h!==0;){for(Ji(t),t.lineIndent=0,h=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&h===32;)t.lineIndent++,h=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),Xe(h)){l++;continue}if(t.lineIndent<a){i===vl?t.result+=ce.repeat(`
`,s?1+l:l):i===Qi&&s&&(t.result+=`
`);break}for(n?Dt(h)?(u=!0,t.result+=ce.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=ce.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=ce.repeat(`
`,l):t.result+=ce.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=t.position;!Xe(h)&&h!==0;)h=t.input.charCodeAt(++t.position);yt(t,r,t.position,!1)}return!0}function Cl(t,e){var r,n=t.tag,i=t.anchor,s=[],o,a=!1,l;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&!(l!==45||(o=t.input.charCodeAt(t.position+1),!Le(o)));){if(a=!0,t.position++,he(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,mr(t,e,yl,!1,!0),s.push(t.result),he(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)M(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function Hm(t,e,r){var n,i,s,o,a=t.tag,l=t.anchor,u={},c={},h=null,d=null,f=null,v=!1,A=!1,w;for(t.anchor!==null&&(t.anchorMap[t.anchor]=u),w=t.input.charCodeAt(t.position);w!==0;){if(n=t.input.charCodeAt(t.position+1),s=t.line,o=t.position,(w===63||w===58)&&Le(n))w===63?(v&&(gr(t,u,c,h,d,null),h=d=f=null),A=!0,v=!0,i=!0):v?(v=!1,i=!0):M(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,w=n;else if(mr(t,r,wl,!1,!0))if(t.line===s){for(w=t.input.charCodeAt(t.position);Dt(w);)w=t.input.charCodeAt(++t.position);if(w===58)w=t.input.charCodeAt(++t.position),Le(w)||M(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(gr(t,u,c,h,d,null),h=d=f=null),A=!0,v=!1,i=!1,h=t.tag,d=t.result;else if(A)M(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=a,t.anchor=l,!0}else if(A)M(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=a,t.anchor=l,!0;else break;if((t.line===s||t.lineIndent>e)&&(mr(t,e,In,!0,i)&&(v?d=t.result:f=t.result),v||(gr(t,u,c,h,d,f,s,o),h=d=f=null),he(t,!0,-1),w=t.input.charCodeAt(t.position)),t.lineIndent>e&&w!==0)M(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return v&&gr(t,u,c,h,d,null),A&&(t.tag=a,t.anchor=l,t.kind="mapping",t.result=u),A}function zm(t){var e,r=!1,n=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&M(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(r=!0,o=t.input.charCodeAt(++t.position)):o===33?(n=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):M(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Le(o);)o===33&&(n?M(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),El.test(i)||M(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),jm.test(s)&&M(t,"tag suffix cannot contain flow indicator characters")}return s&&!Tl.test(s)&&M(t,"tag name cannot contain such characters: "+s),r?t.tag=s:wt.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:M(t,'undeclared tag handle "'+i+'"'),!0}function Wm(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&M(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Le(r)&&!fr(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&M(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function Ym(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Le(n)&&!fr(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&M(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),wt.call(t.anchorMap,r)||M(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],he(t,!0,-1),!0}function mr(t,e,r,n,i){var s,o,a,l=1,u=!1,c=!1,h,d,f,v,A;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=In===r||yl===r,n&&he(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;zm(t)||Wm(t);)he(t,!0,-1)?(u=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=u||i),(l===1||In===r)&&(Cn===r||wl===r?v=e:v=e+1,A=t.position-t.lineStart,l===1?a&&(Cl(t,A)||Hm(t,A,v))||Bm(t,v)?c=!0:(o&&qm(t,v)||Um(t,v)||Mm(t,v)?c=!0:Ym(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&M(t,"alias node should not have any properties")):Nm(t,v,Cn===r)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=a&&Cl(t,A))),t.tag!==null&&t.tag!=="!")if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&M(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),h=0,d=t.implicitTypes.length;h<d;h+=1)if(f=t.implicitTypes[h],f.resolve(t.result)){t.result=f.construct(t.result),t.tag=f.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else wt.call(t.typeMap[t.kind||"fallback"],t.tag)?(f=t.typeMap[t.kind||"fallback"][t.tag],t.result!==null&&f.kind!==t.kind&&M(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+f.kind+'", not "'+t.kind+'"'),f.resolve(t.result)?(t.result=f.construct(t.result),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):M(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):M(t,"unknown tag !<"+t.tag+">");return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function Km(t){var e=t.position,r,n,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};(o=t.input.charCodeAt(t.position))!==0&&(he(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),r=t.position;o!==0&&!Le(o);)o=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&M(t,"directive name must not be less than one character in length");o!==0;){for(;Dt(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Xe(o));break}if(Xe(o))break;for(r=t.position;o!==0&&!Le(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}o!==0&&Ji(t),wt.call(Pl,n)?Pl[n](t,n,i):jn(t,'unknown document directive "'+n+'"')}if(he(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,he(t,!0,-1)):s&&M(t,"directives end mark is expected"),mr(t,t.lineIndent-1,In,!1,!0),he(t,!0,-1),t.checkLineBreaks&&Im.test(t.input.slice(e,t.position))&&jn(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Fn(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,he(t,!0,-1));return}if(t.position<t.length-1)M(t,"end of the stream or a document separator is expected");else return}function Il(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new Dm(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,M(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Km(r);return r.documents}function jl(t,e,r){e!==null&&typeof e=="object"&&typeof r=="undefined"&&(r=e,e=null);var n=Il(t,r);if(typeof e!="function")return n;for(var i=0,s=n.length;i<s;i+=1)e(n[i])}function Fl(t,e){var r=Il(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new Ge("expected a single document in the stream, but found more")}}function Vm(t,e,r){return typeof e=="object"&&e!==null&&typeof r=="undefined"&&(r=e,e=null),jl(t,e,ce.extend({schema:pr},r))}function Qm(t,e){return Fl(t,ce.extend({schema:pr},e))}var Jm=jl,Xm=Fl,Zm=Vm,e_=Qm,Gn={loadAll:Jm,load:Xm,safeLoadAll:Zm,safeLoad:e_},Gl=Object.prototype.toString,Ll=Object.prototype.hasOwnProperty,t_=9,Br=10,r_=13,n_=32,i_=33,s_=34,$l=35,o_=37,a_=38,l_=39,u_=42,Dl=44,c_=45,Nl=58,h_=61,p_=62,f_=63,d_=64,Ul=91,Ml=93,g_=96,Bl=123,m_=124,ql=125,Oe={};Oe[0]="\\0";Oe[7]="\\a";Oe[8]="\\b";Oe[9]="\\t";Oe[10]="\\n";Oe[11]="\\v";Oe[12]="\\f";Oe[13]="\\r";Oe[27]="\\e";Oe[34]='\\"';Oe[92]="\\\\";Oe[133]="\\N";Oe[160]="\\_";Oe[8232]="\\L";Oe[8233]="\\P";var __=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function b_(t,e){var r,n,i,s,o,a,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&Ll.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function Hl(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new Ge("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ce.repeat("0",n-e.length)+e}function w_(t){this.schema=t.schema||On,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ce.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=b_(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function zl(t,e){for(var r=ce.repeat(" ",e),n=0,i=-1,s="",o,a=t.length;n<a;)i=t.indexOf(`
`,n),i===-1?(o=t.slice(n),n=a):(o=t.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Zi(t,e){return`
`+ce.repeat(" ",t.indent*e)}function y_(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}function es(t){return t===n_||t===t_}function _r(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==65279||65536<=t&&t<=1114111}function v_(t){return _r(t)&&!es(t)&&t!==65279&&t!==r_&&t!==Br}function Wl(t,e){return _r(t)&&t!==65279&&t!==Dl&&t!==Ul&&t!==Ml&&t!==Bl&&t!==ql&&t!==Nl&&(t!==$l||e&&v_(e))}function E_(t){return _r(t)&&t!==65279&&!es(t)&&t!==c_&&t!==f_&&t!==Nl&&t!==Dl&&t!==Ul&&t!==Ml&&t!==Bl&&t!==ql&&t!==$l&&t!==a_&&t!==u_&&t!==i_&&t!==m_&&t!==h_&&t!==p_&&t!==l_&&t!==s_&&t!==o_&&t!==d_&&t!==g_}function Yl(t){var e=/^\n* /;return e.test(t)}var Kl=1,Vl=2,Ql=3,Jl=4,Ln=5;function T_(t,e,r,n,i){var s,o,a,l=!1,u=!1,c=n!==-1,h=-1,d=E_(t.charCodeAt(0))&&!es(t.charCodeAt(t.length-1));if(e)for(s=0;s<t.length;s++){if(o=t.charCodeAt(s),!_r(o))return Ln;a=s>0?t.charCodeAt(s-1):null,d=d&&Wl(o,a)}else{for(s=0;s<t.length;s++){if(o=t.charCodeAt(s),o===Br)l=!0,c&&(u=u||s-h-1>n&&t[h+1]!==" ",h=s);else if(!_r(o))return Ln;a=s>0?t.charCodeAt(s-1):null,d=d&&Wl(o,a)}u=u||c&&s-h-1>n&&t[h+1]!==" "}return!l&&!u?d&&!i(t)?Kl:Vl:r>9&&Yl(t)?Ln:u?Jl:Ql}function A_(t,e,r,n){t.dump=function(){if(e.length===0)return"''";if(!t.noCompatMode&&__.indexOf(e)!==-1)return"'"+e+"'";var i=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-i),o=n||t.flowLevel>-1&&r>=t.flowLevel;function a(l){return y_(t,l)}switch(T_(e,o,t.indent,s,a)){case Kl:return e;case Vl:return"'"+e.replace(/'/g,"''")+"'";case Ql:return"|"+Xl(e,t.indent)+Zl(zl(e,i));case Jl:return">"+Xl(e,t.indent)+Zl(zl(k_(e,s),i));case Ln:return'"'+x_(e)+'"';default:throw new Ge("impossible error: invalid scalar style")}}()}function Xl(t,e){var r=Yl(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),s=i?"+":n?"":"-";return r+s+`
`}function Zl(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function k_(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,r.lastIndex=u,eu(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",s,o;o=r.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+eu(l,e),i=s}return n}function eu(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(t);)a=n.index,a-i>e&&(s=o>i?o:a,l+=`
`+t.slice(i,s),i=s+1),o=a;return l+=`
`,t.length-i>e&&o>i?l+=t.slice(i,o)+`
`+t.slice(o+1):l+=t.slice(i),l.slice(1)}function x_(t){for(var e="",r,n,i,s=0;s<t.length;s++){if(r=t.charCodeAt(s),r>=55296&&r<=56319&&(n=t.charCodeAt(s+1),n>=56320&&n<=57343)){e+=Hl((r-55296)*1024+n-56320+65536),s++;continue}i=Oe[r],e+=!i&&_r(r)?t[s]:i||Hl(r)}return e}function S_(t,e,r){var n="",i=t.tag,s,o;for(s=0,o=r.length;s<o;s+=1)Nt(t,e,r[s],!1,!1)&&(s!==0&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}function R_(t,e,r,n){var i="",s=t.tag,o,a;for(o=0,a=r.length;o<a;o+=1)Nt(t,e+1,r[o],!0,!0)&&((!n||o!==0)&&(i+=Zi(t,e)),t.dump&&Br===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function P_(t,e,r){var n="",i=t.tag,s=Object.keys(r),o,a,l,u,c;for(o=0,a=s.length;o<a;o+=1)c="",o!==0&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[o],u=r[l],!!Nt(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Nt(t,e,u,!1,!1)&&(c+=t.dump,n+=c));t.tag=i,t.dump="{"+n+"}"}function O_(t,e,r,n){var i="",s=t.tag,o=Object.keys(r),a,l,u,c,h,d;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new Ge("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!n||a!==0)&&(d+=Zi(t,e)),u=o[a],c=r[u],!!Nt(t,e+1,u,!0,!0,!0)&&(h=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,h&&(t.dump&&Br===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,h&&(d+=Zi(t,e)),!!Nt(t,e+1,c,!0,h)&&(t.dump&&Br===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=s,t.dump=i||"{}"}function tu(t,e,r){var n,i,s,o,a,l;for(i=r?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(t.tag=r?a.tag:"?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,Gl.call(a.represent)==="[object Function]")n=a.represent(e,l);else if(Ll.call(a.represent,l))n=a.represent[l](e,l);else throw new Ge("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}function Nt(t,e,r,n,i,s){t.tag=null,t.dump=r,tu(t,r,!1)||tu(t,r,!0);var o=Gl.call(t.dump);n&&(n=t.flowLevel<0||t.flowLevel>e);var a=o==="[object Object]"||o==="[object Array]",l,u;if(a&&(l=t.duplicates.indexOf(r),u=l!==-1),(t.tag!==null&&t.tag!=="?"||u||t.indent!==2&&e>0)&&(i=!1),u&&t.usedDuplicates[l])t.dump="*ref_"+l;else{if(a&&u&&!t.usedDuplicates[l]&&(t.usedDuplicates[l]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(O_(t,e,t.dump,i),u&&(t.dump="&ref_"+l+t.dump)):(P_(t,e,t.dump),u&&(t.dump="&ref_"+l+" "+t.dump));else if(o==="[object Array]"){var c=t.noArrayIndent&&e>0?e-1:e;n&&t.dump.length!==0?(R_(t,c,t.dump,i),u&&(t.dump="&ref_"+l+t.dump)):(S_(t,c,t.dump),u&&(t.dump="&ref_"+l+" "+t.dump))}else if(o==="[object String]")t.tag!=="?"&&A_(t,t.dump,e,s);else{if(t.skipInvalid)return!1;throw new Ge("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function C_(t,e){var r=[],n=[],i,s;for(ts(t,r,n),i=0,s=n.length;i<s;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(s)}function ts(t,e,r){var n,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)ts(t[i],e,r);else for(n=Object.keys(t),i=0,s=n.length;i<s;i+=1)ts(t[n[i]],e,r)}function ru(t,e){e=e||{};var r=new w_(e);return r.noRefs||C_(t,r),Nt(r,0,t,!0,!0)?r.dump+`
`:""}function I_(t,e){return ru(t,ce.extend({schema:pr},e))}var j_=ru,F_=I_,nu={dump:j_,safeDump:F_};function $n(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}var G_=ve,L_=Lt,$_=Ki,D_=fl,N_=dl,U_=pr,M_=On,B_=Gn.load,q_=Gn.loadAll,H_=Gn.safeLoad,z_=Gn.safeLoadAll,W_=nu.dump,Y_=nu.safeDump,K_=Ge,V_=Ki,Q_=pr,J_=On,X_=$n("scan"),Z_=$n("parse"),eb=$n("compose"),tb=$n("addConstructor"),rb={Type:G_,Schema:L_,FAILSAFE_SCHEMA:$_,JSON_SCHEMA:D_,CORE_SCHEMA:N_,DEFAULT_SAFE_SCHEMA:U_,DEFAULT_FULL_SCHEMA:M_,load:B_,loadAll:q_,safeLoad:H_,safeLoadAll:z_,dump:W_,safeDump:Y_,YAMLException:K_,MINIMAL_SCHEMA:V_,SAFE_SCHEMA:Q_,DEFAULT_SCHEMA:J_,scan:X_,parse:Z_,compose:eb,addConstructor:tb},nb=rb,iu=nb;var qr=document.querySelector("#env-json")?JSON.parse(document.querySelector("#env-json").innerHTML):{API:"https://api.biblogos.info"};function br(){let t={};return function(e,r,n){let i=n.value;n.value=function(...s){let o=`__cacheKey__${s.toString()}`;return t.hasOwnProperty(o)||(t[o]=i.apply(this,s)),t[o]}}}var Hr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",zr="http://www.w3.org/2001/XMLSchema#",rs="http://www.w3.org/2000/10/swap/",Ie={xsd:{decimal:`${zr}decimal`,boolean:`${zr}boolean`,double:`${zr}double`,integer:`${zr}integer`,string:`${zr}string`},rdf:{type:`${Hr}type`,nil:`${Hr}nil`,first:`${Hr}first`,rest:`${Hr}rest`,langString:`${Hr}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${rs}reify#forSome`,forAll:`${rs}reify#forAll`},log:{implies:`${rs}log#implies`}};var su,ib=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:Ke):t=>(su||(su=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0)),{xsd:Dn}=Ie,sb=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,ou={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},ob=/[\x00-\x20<>\\"\{\}\|\^\`]/,ab={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},lb=/$0^/,au=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(let r in this)!(r in ab)&&this[r]instanceof RegExp&&(this[r]=lb)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,i=this._comments;for(;;){let o,a;for(;o=this._newline.exec(n);)i&&(a=this._comment.exec(o[0]))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),n=n.substr(o[0].length,n.length),this._line++;if(!o&&(o=this._whitespace.exec(n))&&(n=n.substr(o[0].length,n.length)),this._endOfFile.test(n))return r&&(i&&(a=this._comment.exec(n))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),e(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;let l=this._line,u=n[0],c="",h="",d="",f=null,v=0,A=!1;switch(u){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){A=!0;break}}else{this._n3Mode&&(v=1,c="^");break}case"<":if(f=this._unescapedIri.exec(n))c="IRI",h=f[1];else if(f=this._iri.exec(n)){if(h=this._unescape(f[1]),h===null||ob.test(h))return s(this);c="IRI"}else n.length>1&&n[1]==="<"?(c="<<",v=2):this._n3Mode&&n.length>1&&n[1]==="="&&(c="inverse",v=2,h=">");break;case">":n.length>1&&n[1]===">"&&(c=">>",v=2);break;case"_":((f=this._blank.exec(n))||r&&(f=this._blank.exec(`${n} `)))&&(c="blank",d="_",h=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(n))h=f[1];else if({value:h,matchLength:v}=this._parseLiteral(n),h===null)return s(this);(f!==null||v!==0)&&(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(n))h=f[1];else if({value:h,matchLength:v}=this._parseLiteral(n),h===null)return s(this);(f!==null||v!==0)&&(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(n))&&(c="var",h=f[0]);break;case"@":this._previousMarker==="literal"&&(f=this._langcode.exec(n))?(c="langcode",h=f[1]):(f=this._keyword.exec(n))&&(c=f[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){c=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(n)||r&&(f=this._number.exec(`${n} `)))&&(c="literal",h=f[0],d=typeof f[1]=="string"?Dn.double:typeof f[2]=="string"?Dn.decimal:Dn.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(n))?c=f[0].toUpperCase():A=!0;break;case"f":case"t":(f=this._boolean.exec(n))?(c="literal",h=f[0],d=Dn.boolean):A=!0;break;case"a":(f=this._shortPredicates.exec(n))?(c="abbreviation",h="a"):A=!0;break;case"=":this._n3Mode&&n.length>1&&(c="abbreviation",n[1]!==">"?(v=1,h="="):(v=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(v=1,c=u);break;default:A=!0}if(A&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(f=this._prefix.exec(n))?(c="prefix",h=f[1]||""):((f=this._prefixed.exec(n))||r&&(f=this._prefixed.exec(`${n} `)))&&(c="prefixed",d=f[1]||"",h=this._unescape(f[2]))),this._previousMarker==="^^")switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?s(this):this._input=n;let w={line:l,type:c,value:h,prefix:d};e(null,w),this.previousToken=w,this._previousMarker=c,n=n.substr(v||f[0].length,n.length)}function s(o){e(o._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1,n=e.replace(sb,(i,s,o,a)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return a in ou?ou[a]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){let r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length,i=Math.max(this._literalClosingPos,n);for(;(i=e.indexOf(r,i))>0;){let s=0;for(;e[i-s-1]==="\\";)s++;if(s%2==0){let o=e.substring(n,i),a=o.split(/\r\n|\r|\n/).length-1,l=i+n;if(n===1&&a!==0||n===3&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;let r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")ib(()=>this._tokenizeToEnd(r,!0));else{let n=[],i;if(this._tokenizeToEnd((s,o)=>s?i=s:n.push(o),!0),i)throw i;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=E.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input=="undefined"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}};function ub(t){return!!t&&t.termType==="DefaultGraph"}var{rdf:cb,xsd:Ut}=Ie,Wr,hb=0,lu=/^"(.*".*)(?="[^"]*$)/,pb=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,Nn={namedNode:fb,blankNode:db,variable:mb,literal:gb,defaultGraph:_b,quad:uu,triple:uu},Ze=class{constructor(e){this.id=e}get value(){return this.id}get hashCode(){return 0}equals(e){return e instanceof Ze?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}toJSON(){return{termType:this.termType,value:this.value}}},ns=class extends Ze{get termType(){return"NamedNode"}},Mt=class extends Ze{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){let e=this.id,r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new ns(this.datatypeString)}get datatypeString(){let e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?Ut.string:cb.langString}equals(e){return e instanceof Mt?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},cu=class extends Ze{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},hu=class extends Ze{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},pu=class extends Ze{constructor(){return super(""),Wr||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Wr=new pu;function ut(t,e){if(e=e||Nn,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===Nn)return new Mt(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));let r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"<":let n=pb.exec(t);return e.quad(ut(Un(n[1]),e),ut(Un(n[2]),e),ut(Un(n[3]),e),n[4]&&ut(Un(n[4]),e));default:return e.namedNode(t)}}function Z(t){if(typeof t=="string")return t;if(t instanceof Ze&&t.termType!=="Quad")return t.id;if(!t)return Wr.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Ut.string?`^^${t.datatype.value}`:""}`;case"Quad":return`<<${is(Z(t.subject))} ${is(Z(t.predicate))} ${is(Z(t.object))}${ub(t.graph)?"":` ${Z(t.graph)}`}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}var fu=class extends Ze{constructor(e,r,n,i){super("");this._subject=e,this._predicate=r,this._object=n,this._graph=i||Wr}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function is(t){return t.replace(lu,(e,r)=>`"${r.replace(/"/g,'""')}`)}function Un(t){return t.replace(lu,(e,r)=>`"${r.replace(/""/g,'"')}`)}function fb(t){return new ns(t)}function db(t){return new cu(t||`n3-${hb++}`)}function gb(t,e){if(typeof e=="string")return new Mt(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=Ut.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?Ut.integer:Ut.double:(r=Ut.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===Ut.string?new Mt(`"${t}"`):new Mt(`"${t}"^^${r}`)}function mb(t){return new hu(t)}function _b(){return Wr}function uu(t,e,r,n){return new fu(t,e,r,n)}var du=0,Mn=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&gu(this,e.factory);let r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),i=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),a=this._n3Mode=/n3/.test(r),l=s||o;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||s||a),this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new au({lineMode:l,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){du=0}_setBase(e){if(!e)this._base="",this._basePath="";else{let r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,i,s){let o=this._n3Mode;this._contextStack.push({subject:n,predicate:i,object:s,graph:r,type:e,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.id.substr(2)}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(){let e=this._contextStack.pop(),r=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,r&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":let i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);n=this._namedNode(i);break;case"type":case"prefixed":let s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(s+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){let r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);let r=this._predicate===null;return this._restoreContext(),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,i=this._readListItem,s=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(r=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?a.predicate===null?a.subject=n:a.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":let n=this._readEntity(e);if(n===void 0)return;r=this._literal(this._literalValue,n),e=null;break;case"langcode":r=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){let n=this._completeLiteral(e);if(!!n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph,i=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){let o=this._predicate,a=this._object;s?this._emit(a,o,i,n):this._emit(i,o,a,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);let r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){let r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:let r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){let i=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n,i=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=i):(r=this._object,this._object=i),this._emit(r,n,i,this._graph),this._readPath}_readBackwardPath(e){let r=this._blankNode(),n,i;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=r):(i=this._object,this._object=r),this._emit(r,n,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);let r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){let e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,i){this._callback(null,this._quad(e,r,n,i||this.DEFAULTGRAPH))}_error(e,r){let n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=ss}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;let r=e.length,n="",i=-1,s=-1,o=0,a="/";for(;i<r;){switch(a){case":":if(s<0&&e[++i]==="/"&&e[++i]==="/")for(;(s=i+1)<r&&e[s]!=="/";)i=s;break;case"?":case"#":i=r;break;case"/":if(e[i+1]===".")switch(a=e[++i+1],a){case"/":n+=e.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return n+e.substring(o,i)+e.substr(i+1);case".":if(a=e[++i+1],a===void 0||a==="/"||a==="?"||a==="#"){if(n+=e.substring(o,i-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),a!=="/")return`${n}/${e.substr(i+1)}`;o=i+1}}}a=e[++i]}return n+e.substring(o)}parse(e,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${du++}_`,this._prefixCallback=n||ss,this._inversePredicate=!1,this._quantified=Object.create(null),!r){let i=[],s;if(this._callback=(o,a)=>{o?s=o:a&&i.push(a)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return i}this._callback=r,this._lexer.tokenize(e,(i,s)=>{i!==null?(this._callback(i),this._callback=ss):this._readCallback&&(this._readCallback=this._readCallback(s))})}};function ss(){}function gu(t,e){let r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(Ie.rdf.first),t.RDF_REST=r(Ie.rdf.rest),t.RDF_NIL=r(Ie.rdf.nil),t.N3_FORALL=r(Ie.r.forAll),t.N3_FORSOME=r(Ie.r.forSome),t.ABBREVIATIONS={a:r(Ie.rdf.type),"=":r(Ie.owl.sameAs),">":r(Ie.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}gu(Mn.prototype,Nn);var bb;function vt(){}vt.prototype=Object.create(null);function ie(){ie.init.call(this)}ie.EventEmitter=ie;ie.usingDomains=!1;ie.prototype.domain=void 0;ie.prototype._events=void 0;ie.prototype._maxListeners=void 0;ie.defaultMaxListeners=10;ie.init=function(){this.domain=null,ie.usingDomains&&bb.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new vt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ie.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};function mu(t){return t._maxListeners===void 0?ie.defaultMaxListeners:t._maxListeners}ie.prototype.getMaxListeners=function(){return mu(this)};function wb(t,e,r){if(e)t.call(r);else for(var n=t.length,i=Yr(t,n),s=0;s<n;++s)i[s].call(r)}function yb(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,s=Yr(t,i),o=0;o<i;++o)s[o].call(r,n)}function vb(t,e,r,n,i){if(e)t.call(r,n,i);else for(var s=t.length,o=Yr(t,s),a=0;a<s;++a)o[a].call(r,n,i)}function Eb(t,e,r,n,i,s){if(e)t.call(r,n,i,s);else for(var o=t.length,a=Yr(t,o),l=0;l<o;++l)a[l].call(r,n,i,s)}function Tb(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,s=Yr(t,i),o=0;o<i;++o)s[o].apply(r,n)}ie.prototype.emit=function(e){var r,n,i,s,o,a,l,u=e==="error";if(a=this._events,a)u=u&&a.error==null;else if(!u)return!1;if(l=this.domain,u){if(r=arguments[1],l)r||(r=new Error('Uncaught, unspecified "error" event')),r.domainEmitter=this,r.domain=l,r.domainThrown=!1,l.emit("error",r);else{if(r instanceof Error)throw r;var c=new Error('Uncaught, unspecified "error" event. ('+r+")");throw c.context=r,c}return!1}if(n=a[e],!n)return!1;var h=typeof n=="function";switch(i=arguments.length,i){case 1:wb(n,h,this);break;case 2:yb(n,h,this,arguments[1]);break;case 3:vb(n,h,this,arguments[1],arguments[2]);break;case 4:Eb(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(i-1),o=1;o<i;o++)s[o-1]=arguments[o];Tb(n,h,this,s)}return!0};function _u(t,e,r,n){var i,s,o;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(s=t._events,s?(s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]):(s=t._events=new vt,t._eventsCount=0),!o)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=mu(t),i&&i>0&&o.length>i)){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,kb(a)}return t}function kb(t){typeof console.warn=="function"?console.warn(t):console.log(t)}ie.prototype.addListener=function(e,r){return _u(this,e,r,!1)};ie.prototype.on=ie.prototype.addListener;ie.prototype.prependListener=function(e,r){return _u(this,e,r,!0)};function bu(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}ie.prototype.once=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,bu(this,e,r)),this};ie.prototype.prependOnceListener=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,bu(this,e,r)),this};ie.prototype.removeListener=function(e,r){var n,i,s,o,a;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(n=i[e],!n)return this;if(n===r||n.listener&&n.listener===r)--this._eventsCount==0?this._events=new vt:(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length;o-- >0;)if(n[o]===r||n[o].listener&&n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new vt,this;delete i[e]}else xb(n,s);i.removeListener&&this.emit("removeListener",e,a||r)}return this};ie.prototype.off=function(t,e){return this.removeListener(t,e)};ie.prototype.removeAllListeners=function(e){var r,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new vt,this._eventsCount=0):n[e]&&(--this._eventsCount==0?this._events=new vt:delete n[e]),this;if(arguments.length===0){for(var i=Object.keys(n),s=0,o;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new vt,this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r)do this.removeListener(e,r[r.length-1]);while(r[0]);return this};ie.prototype.listeners=function(e){var r,n,i=this._events;return i?(r=i[e],r?typeof r=="function"?n=[r.listener||r]:n=Ab(r):n=[]):n=[],n};ie.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):wu.call(t,e)};ie.prototype.listenerCount=wu;function wu(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}ie.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function xb(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}function Yr(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}function Ab(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}var Sb=Object.freeze({__proto__:null,default:ie,EventEmitter:ie}),yu=Gr(Sb),Bt=yu.EventEmitter,qt=Gr(ta);function vu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vu(Object(r),!0).forEach(function(n){Rb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vu(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cb(t,e,r){return e&&Eu(t.prototype,e),r&&Eu(t,r),t}var Bn=qt.Buffer,os=bt.inspect,Ib=os&&os.custom||"inspect";function jb(t,e,r){Bn.prototype.copy.call(t,e,r)}var Fb=function(){function t(){Ob(this,t),this.head=null,this.tail=null,this.length=0}return Cb(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Bn.alloc(0);for(var n=Bn.allocUnsafe(r>>>0),i=this.head,s=0;i;)jb(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=Bn.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:Ib,value:function(r,n){return os(this,Pb({},n,{depth:0,customInspect:!1}))}}]),t}();function Gb(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,J.nextTick(as,this,t)):J.nextTick(as,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?J.nextTick(qn,r):(r._writableState.errorEmitted=!0,J.nextTick(Tu,r,s)):J.nextTick(Tu,r,s):e?(J.nextTick(qn,r),e(s)):J.nextTick(qn,r)}),this)}function Tu(t,e){as(t,e),qn(t)}function qn(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Lb(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function as(t,e){t.emit("error",e)}function $b(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var wr={destroy:Gb,undestroy:Lb,errorOrDestroy:$b};function Db(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ku={};function Ue(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Db(o,s);function o(a,l,u){return s.call(this,n(a,l,u))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,ku[t]=i}function xu(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Nb(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Ub(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Mb(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ue("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ue("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Nb(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Ub(t," argument"))i="The ".concat(t," ").concat(n," ").concat(xu(e,"type"));else{var s=Mb(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(xu(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ue("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ue("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ue("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ue("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ue("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ue("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ue("ERR_STREAM_WRITE_AFTER_END","write after end");Ue("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ue("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ue("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");var Bb=ku,yr={codes:Bb},qb=yr.codes.ERR_INVALID_OPT_VALUE;function Hb(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function zb(t,e,r,n){var i=Hb(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new qb(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Au={getHighWaterMark:zb},Kr=rt(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Yb=Wb;function Wb(t,e){if(ls("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ls("throwDeprecation"))throw new Error(e);ls("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ls(t){try{if(!Ke.localStorage)return!1}catch(r){return!1}var e=Ke.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Hn=ue;function Su(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Kb(e,t)}}var vr;ue.WritableState=Vr;var Vb={deprecate:Yb},zn=qt.Buffer,Qb=Ke.Uint8Array||function(){};function Jb(t){return zn.from(t)}function Xb(t){return zn.isBuffer(t)||t instanceof Qb}var Zb=Au.getHighWaterMark,Et=yr.codes,e0=Et.ERR_INVALID_ARG_TYPE,t0=Et.ERR_METHOD_NOT_IMPLEMENTED,r0=Et.ERR_MULTIPLE_CALLBACK,n0=Et.ERR_STREAM_CANNOT_PIPE,i0=Et.ERR_STREAM_DESTROYED,s0=Et.ERR_STREAM_NULL_VALUES,o0=Et.ERR_STREAM_WRITE_AFTER_END,a0=Et.ERR_UNKNOWN_ENCODING,Er=wr.errorOrDestroy;Kr(ue,Bt);function l0(){}function Vr(t,e,r){vr=vr||ct,t=t||{},typeof r!="boolean"&&(r=e instanceof vr),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Zb(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){u0(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Su(this)}Vr.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Vr.prototype,"buffer",{get:Vb.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var Wn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Wn=Function.prototype[Symbol.hasInstance],Object.defineProperty(ue,Symbol.hasInstance,{value:function(e){return Wn.call(this,e)?!0:this!==ue?!1:e&&e._writableState instanceof Vr}})):Wn=function(e){return e instanceof this};function ue(t){vr=vr||ct;var e=this instanceof vr;if(!e&&!Wn.call(ue,this))return new ue(t);this._writableState=new Vr(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Bt.call(this)}ue.prototype.pipe=function(){Er(this,new n0)};function c0(t,e){var r=new o0;Er(t,r),J.nextTick(e,r)}function h0(t,e,r,n){var i;return r===null?i=new s0:typeof r!="string"&&!e.objectMode&&(i=new e0("chunk",["string","Buffer"],r)),i?(Er(t,i),J.nextTick(n,i),!1):!0}ue.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&Xb(t);return s&&!zn.isBuffer(t)&&(t=Jb(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=l0),n.ending?c0(this,r):(s||h0(this,n,t,r))&&(n.pendingcb++,i=p0(this,n,s,t,e,r)),i};ue.prototype.cork=function(){this._writableState.corked++};ue.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Ru(this,t))};ue.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new a0(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ue.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function f0(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=zn.from(e,r)),e}Object.defineProperty(ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function p0(t,e,r,n,i,s){if(!r){var o=f0(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else us(t,e,!1,a,n,i,s);return l}function us(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new i0("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function d0(t,e,r,n,i){--e.pendingcb,r?(J.nextTick(i,n),J.nextTick(Qr,t,e),t._writableState.errorEmitted=!0,Er(t,n)):(i(n),t._writableState.errorEmitted=!0,Er(t,n),Qr(t,e))}function g0(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function u0(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new r0;if(g0(r),e)d0(t,r,n,e,i);else{var s=Ou(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Ru(t,r),n?J.nextTick(Pu,t,r,s,i):Pu(t,r,s,i)}}function Pu(t,e,r,n){r||m0(t,e),e.pendingcb--,n(),Qr(t,e)}function m0(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Ru(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,us(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Su(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,c=r.callback,h=e.objectMode?1:l.length;if(us(t,e,!1,h,l,u,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ue.prototype._write=function(t,e,r){r(new t0("_write()"))};ue.prototype._writev=null;ue.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||_0(this,n,r),this};Object.defineProperty(ue.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ou(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function b0(t,e){t._final(function(r){e.pendingcb--,r&&Er(t,r),e.prefinished=!0,t.emit("prefinish"),Qr(t,e)})}function w0(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,J.nextTick(b0,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Qr(t,e){var r=Ou(e);if(r&&(w0(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function _0(t,e,r){e.ending=!0,Qr(t,e),r&&(e.finished?J.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Kb(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ue.prototype.destroy=wr.destroy;ue.prototype._undestroy=wr.undestroy;ue.prototype._destroy=function(t,e){e(t)};var y0=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},ct=et;Kr(et,cs);for(hs=y0(Hn.prototype),Yn=0;Yn<hs.length;Yn++)Kn=hs[Yn],et.prototype[Kn]||(et.prototype[Kn]=Hn.prototype[Kn]);var hs,Kn,Yn;function et(t){if(!(this instanceof et))return new et(t);cs.call(this,t),Hn.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",v0)))}Object.defineProperty(et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(et.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(et.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function v0(){this._writableState.ended||J.nextTick(E0,this)}function E0(t){t.end()}Object.defineProperty(et.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var T0=rt(function(t,e){var r=qt.Buffer;function n(s,o){for(var a in s)o[a]=s[a]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=qt:(n(qt,e),e.Buffer=i);function i(s,o,a){return r(s,o,a)}i.prototype=Object.create(r.prototype),n(r,i),i.from=function(s,o,a){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,o,a)},i.alloc=function(s,o,a){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=r(s);return o!==void 0?typeof a=="string"?l.fill(o,a):l.fill(o):l.fill(0),l},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return qt.SlowBuffer(s)}}),ps=T0.Buffer,Cu=ps.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function k0(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function x0(t){var e=k0(t);if(typeof e!="string"&&(ps.isEncoding===Cu||!Cu(t)))throw new Error("Unknown encoding: "+t);return e||t}var A0=Jr;function Jr(t){this.encoding=x0(t);var e;switch(this.encoding){case"utf16le":this.text=R0,this.end=P0,e=4;break;case"utf8":this.fillLast=S0,e=4;break;case"base64":this.text=O0,this.end=C0,e=3;break;default:this.write=I0,this.end=j0;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ps.allocUnsafe(e)}Jr.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Jr.prototype.end=F0;Jr.prototype.text=G0;Jr.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function fs(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function L0(t,e,r){var n=e.length-1;if(n<r)return 0;var i=fs(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=fs(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=fs(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function $0(t,e,r){if((e[0]&192)!=128)return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!=128)return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!=128)return t.lastNeed=2,"ï¿½"}}function S0(t){var e=this.lastTotal-this.lastNeed,r=$0(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function G0(t,e){var r=L0(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function F0(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e}function R0(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function P0(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function O0(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function C0(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function I0(t){return t.toString(this.encoding)}function j0(t){return t&&t.length?this.write(t):""}var Iu={StringDecoder:A0},ju=yr.codes.ERR_STREAM_PREMATURE_CLOSE;function D0(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function N0(){}function U0(t){return t.setHeader&&typeof t.abort=="function"}function Fu(t,e,r){if(typeof e=="function")return Fu(t,null,e);e||(e={}),r=D0(r||N0);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,l=!0,i||r.call(t)},c=function(v){r.call(t,v)},h=function(){var v;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(v=new ju),r.call(t,v);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(v=new ju),r.call(t,v)},d=function(){t.req.on("finish",a)};return U0(t)?(t.on("complete",a),t.on("abort",h),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",c),t.on("close",h),function(){t.removeListener("complete",a),t.removeListener("abort",h),t.removeListener("request",d),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",c),t.removeListener("close",h)}}var ds=Fu,Vn;function Tt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kt=Symbol("lastResolve"),Ht=Symbol("lastReject"),Xr=Symbol("error"),Qn=Symbol("ended"),zt=Symbol("lastPromise"),gs=Symbol("handlePromise"),Wt=Symbol("stream");function xt(t,e){return{value:t,done:e}}function M0(t){var e=t[kt];if(e!==null){var r=t[Wt].read();r!==null&&(t[zt]=null,t[kt]=null,t[Ht]=null,e(xt(r,!1)))}}function B0(t){J.nextTick(M0,t)}function q0(t,e){return function(r,n){t.then(function(){if(e[Qn]){r(xt(void 0,!0));return}e[gs](r,n)},n)}}var H0=Object.getPrototypeOf(function(){}),z0=Object.setPrototypeOf((Vn={get stream(){return this[Wt]},next:function(){var e=this,r=this[Xr];if(r!==null)return Promise.reject(r);if(this[Qn])return Promise.resolve(xt(void 0,!0));if(this[Wt].destroyed)return new Promise(function(o,a){J.nextTick(function(){e[Xr]?a(e[Xr]):o(xt(void 0,!0))})});var n=this[zt],i;if(n)i=new Promise(q0(n,this));else{var s=this[Wt].read();if(s!==null)return Promise.resolve(xt(s,!1));i=new Promise(this[gs])}return this[zt]=i,i}},Tt(Vn,Symbol.asyncIterator,function(){return this}),Tt(Vn,"return",function(){var e=this;return new Promise(function(r,n){e[Wt].destroy(null,function(i){if(i){n(i);return}r(xt(void 0,!0))})})}),Vn),H0),W0=function(e){var r,n=Object.create(z0,(r={},Tt(r,Wt,{value:e,writable:!0}),Tt(r,kt,{value:null,writable:!0}),Tt(r,Ht,{value:null,writable:!0}),Tt(r,Xr,{value:null,writable:!0}),Tt(r,Qn,{value:e._readableState.endEmitted,writable:!0}),Tt(r,gs,{value:function(s,o){var a=n[Wt].read();a?(n[zt]=null,n[kt]=null,n[Ht]=null,s(xt(a,!1))):(n[kt]=s,n[Ht]=o)},writable:!0}),r));return n[zt]=null,ds(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Ht];s!==null&&(n[zt]=null,n[kt]=null,n[Ht]=null,s(i)),n[Xr]=i;return}var o=n[kt];o!==null&&(n[zt]=null,n[kt]=null,n[Ht]=null,o(xt(void 0,!0))),n[Qn]=!0}),e.on("readable",B0.bind(null,n)),n},Y0=W0,K0=function(){throw new Error("Readable.from is not available in the browser")},cs=ee,Tr;ee.ReadableState=Gu;var Gy=yu.EventEmitter,Lu=function(e,r){return e.listeners(r).length},Jn=qt.Buffer,V0=Ke.Uint8Array||function(){};function Q0(t){return Jn.from(t)}function J0(t){return Jn.isBuffer(t)||t instanceof V0}var Y;bt&&bt.debuglog?Y=bt.debuglog("stream"):Y=function(){};var X0=Au.getHighWaterMark,Xn=yr.codes,Z0=Xn.ERR_INVALID_ARG_TYPE,ew=Xn.ERR_STREAM_PUSH_AFTER_EOF,tw=Xn.ERR_METHOD_NOT_IMPLEMENTED,rw=Xn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,kr,ms,_s;Kr(ee,Bt);var Zr=wr.errorOrDestroy,bs=["error","close","destroy","pause","resume"];function nw(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Gu(t,e,r){Tr=Tr||ct,t=t||{},typeof r!="boolean"&&(r=e instanceof Tr),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=X0(this,t,"readableHighWaterMark",r),this.buffer=new Fb,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(kr||(kr=Iu.StringDecoder),this.decoder=new kr(t.encoding),this.encoding=t.encoding)}function ee(t){if(Tr=Tr||ct,!(this instanceof ee))return new ee(t);var e=this instanceof Tr;this._readableState=new Gu(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Bt.call(this)}Object.defineProperty(ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});ee.prototype.destroy=wr.destroy;ee.prototype._undestroy=wr.undestroy;ee.prototype._destroy=function(t,e){e(t)};ee.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Jn.from(t,e),e=""),n=!0),$u(this,t,e,!1,n)};ee.prototype.unshift=function(t){return $u(this,t,null,!0,!1)};function $u(t,e,r,n,i){Y("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,sw(t,s);else{var o;if(i||(o=iw(s,e)),o)Zr(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Jn.prototype&&(e=Q0(e)),n)s.endEmitted?Zr(t,new rw):ws(t,s,e,!0);else if(s.ended)Zr(t,new ew);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?ws(t,s,e,!1):ys(t,s)):ws(t,s,e,!1)}else n||(s.reading=!1,ys(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function ws(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Zn(t)),ys(t,e)}function iw(t,e){var r;return!J0(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Z0("chunk",["string","Buffer","Uint8Array"],e)),r}ee.prototype.isPaused=function(){return this._readableState.flowing===!1};ee.prototype.setEncoding=function(t){kr||(kr=Iu.StringDecoder);var e=new kr(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Du=1073741824;function ow(t){return t>=Du?t=Du:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Nu(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=ow(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ee.prototype.read=function(t){Y("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Y("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?vs(this):Zn(this),null;if(t=Nu(t,e),t===0&&e.ended)return e.length===0&&vs(this),null;var n=e.needReadable;Y("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Y("length less than watermark",n)),e.ended||e.reading?(n=!1,Y("reading or ended",n)):n&&(Y("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Nu(r,e)));var i;return t>0?i=Uu(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&vs(this)),i!==null&&this.emit("data",i),i};function sw(t,e){if(Y("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Zn(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Mu(t)))}}function Zn(t){var e=t._readableState;Y("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Y("emitReadable",e.flowing),e.emittedReadable=!0,J.nextTick(Mu,t))}function Mu(t){var e=t._readableState;Y("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Es(t)}function ys(t,e){e.readingMore||(e.readingMore=!0,J.nextTick(aw,t,e))}function aw(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Y("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ee.prototype._read=function(t){Zr(this,new tw("_read()"))};ee.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Y("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==J.stdout&&t!==J.stderr,s=i?a:A;n.endEmitted?J.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(w,j){Y("onunpipe"),w===r&&j&&j.hasUnpiped===!1&&(j.hasUnpiped=!0,c())}function a(){Y("onend"),t.end()}var l=lw(r);t.on("drain",l);var u=!1;function c(){Y("cleanup"),t.removeListener("close",f),t.removeListener("finish",v),t.removeListener("drain",l),t.removeListener("error",d),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",A),r.removeListener("data",h),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",h);function h(w){Y("ondata");var j=t.write(w);Y("dest.write",j),j===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Bu(n.pipes,t)!==-1)&&!u&&(Y("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(w){Y("onerror",w),A(),t.removeListener("error",d),Lu(t,"error")===0&&Zr(t,w)}nw(t,"error",d);function f(){t.removeListener("finish",v),A()}t.once("close",f);function v(){Y("onfinish"),t.removeListener("close",f),A()}t.once("finish",v);function A(){Y("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Y("pipe resume"),r.resume()),t};function lw(t){return function(){var r=t._readableState;Y("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Lu(t,"data")&&(r.flowing=!0,Es(t))}}ee.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Bu(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ee.prototype.on=function(t,e){var r=Bt.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Y("on readable",n.length,n.reading),n.length?Zn(this):n.reading||J.nextTick(uw,this)),r};ee.prototype.addListener=ee.prototype.on;ee.prototype.removeListener=function(t,e){var r=Bt.prototype.removeListener.call(this,t,e);return t==="readable"&&J.nextTick(qu,this),r};ee.prototype.removeAllListeners=function(t){var e=Bt.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&J.nextTick(qu,this),e};function qu(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function uw(t){Y("readable nexttick read 0"),t.read(0)}ee.prototype.resume=function(){var t=this._readableState;return t.flowing||(Y("resume"),t.flowing=!t.readableListening,cw(this,t)),t.paused=!1,this};function cw(t,e){e.resumeScheduled||(e.resumeScheduled=!0,J.nextTick(hw,t,e))}function hw(t,e){Y("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Es(t),e.flowing&&!e.reading&&t.read(0)}ee.prototype.pause=function(){return Y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Es(t){var e=t._readableState;for(Y("flow",e.flowing);e.flowing&&t.read()!==null;);}ee.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Y("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Y("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<bs.length;s++)t.on(bs[s],this.emit.bind(this,bs[s]));return this._read=function(o){Y("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(ee.prototype[Symbol.asyncIterator]=function(){return ms===void 0&&(ms=Y0),ms(this)});Object.defineProperty(ee.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ee.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ee.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});ee._fromList=Uu;Object.defineProperty(ee.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Uu(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function vs(t){var e=t._readableState;Y("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,J.nextTick(pw,e,t))}function pw(t,e){if(Y("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(ee.from=function(t,e){return _s===void 0&&(_s=K0),_s(ee,t,e)});function Bu(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var Ts=ht,ei=yr.codes,fw=ei.ERR_METHOD_NOT_IMPLEMENTED,dw=ei.ERR_MULTIPLE_CALLBACK,gw=ei.ERR_TRANSFORM_ALREADY_TRANSFORMING,mw=ei.ERR_TRANSFORM_WITH_LENGTH_0;Kr(ht,ct);function _w(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new dw);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ht(t){if(!(this instanceof ht))return new ht(t);ct.call(this,t),this._transformState={afterTransform:_w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",bw)}function bw(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Hu(t,e,r)}):Hu(this,null,null)}ht.prototype.push=function(t,e){return this._transformState.needTransform=!1,ct.prototype.push.call(this,t,e)};ht.prototype._transform=function(t,e,r){r(new fw("_transform()"))};ht.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ht.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ht.prototype._destroy=function(t,e){ct.prototype._destroy.call(this,t,function(r){e(r)})};function Hu(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new mw;if(t._transformState.transforming)throw new gw;return t.push(null)}var ww=en;Kr(en,Ts);function en(t){if(!(this instanceof en))return new en(t);Ts.call(this,t)}en.prototype._transform=function(t,e,r){r(null,t)};var ks;function yw(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var zu=yr.codes,vw=zu.ERR_MISSING_ARGS,Ew=zu.ERR_STREAM_DESTROYED;function Wu(t){if(t)throw t}function Tw(t){return t.setHeader&&typeof t.abort=="function"}function kw(t,e,r,n){n=yw(n);var i=!1;t.on("close",function(){i=!0}),ks===void 0&&(ks=ds),ks(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Tw(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new Ew("pipe"))}}}function Yu(t){t()}function xw(t,e){return t.pipe(e)}function Aw(t){return!t.length||typeof t[t.length-1]!="function"?Wu:t.pop()}function Sw(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Aw(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new vw("streams");var i,s=e.map(function(o,a){var l=a<e.length-1,u=a>0;return kw(o,l,u,function(c){i||(i=c),c&&s.forEach(Yu),!l&&(s.forEach(Yu),n(i))})});return e.reduce(xw)}var Rw=Sw,Ku=rt(function(t,e){e=t.exports=cs,e.Stream=e,e.Readable=e,e.Writable=Hn,e.Duplex=ct,e.Transform=Ts,e.PassThrough=ww,e.finished=ds,e.pipeline=Rw}),ti=class{constructor(e,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,!r&&e&&!e[0]&&(r=e,e=null),r=r||{},this._factory=r.factory||Nn,e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;let r=this._graphs,n,i;for(let s in r)for(let o in n=r[s].subjects)for(let a in i=n[o])e+=Object.keys(i[a]).length;return this._size=e}_addToIndex(e,r,n,i){let s=e[r]||(e[r]={}),o=s[n]||(s[n]={}),a=i in o;return a||(o[i]=null),!a}_removeFromIndex(e,r,n,i){let s=e[r],o=s[n];delete o[i];for(let a in o)return;delete s[n];for(let a in s)return;delete e[r]}_findInIndex(e,r,n,i,s,o,a,l,u,c){let h,d,f,v=!r+!n+!i,A=v>1?Object.keys(this._ids):this._entities;r&&((h=e,e={})[r]=h[r]);for(let w in e){let j=A[w];if(d=e[w]){n&&((h=d,d={})[n]=h[n]);for(let D in d){let K=A[D];if(f=d[D]){let H=i?i in f?[i]:[]:Object.keys(f);for(let re=0;re<H.length;re++){let V={subject:null,predicate:null,object:null};V[s]=ut(j,this._factory),V[o]=ut(K,this._factory),V[a]=ut(A[H[re]],this._factory);let ae=this._factory.quad(V.subject,V.predicate,V.object,ut(l,this._factory));if(c)c.push(ae);else if(u(ae))return!0}}}}}return c}_loop(e,r){for(let n in e)r(n)}_loopByKey0(e,r,n){let i,s;if(i=e[r])for(s in i)n(s)}_loopByKey1(e,r,n){let i,s;for(i in e)s=e[i],s[r]&&n(i)}_loopBy2Keys(e,r,n,i){let s,o,a;if((s=e[r])&&(o=s[n]))for(a in o)i(a)}_countInIndex(e,r,n,i){let s=0,o,a,l;r&&((o=e,e={})[r]=o[r]);for(let u in e)if(a=e[u]){n&&((o=a,a={})[n]=o[n]);for(let c in a)(l=a[c])&&(i?i in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(e){if(!Ce(e))return this._graphs;let r={};return r[e]=this._graphs[e],r}_uniqueEntities(e){let r=Object.create(null);return n=>{n in r||(r[n]=!0,e(ut(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,r,n,i){r||(i=e.graph,n=e.object,r=e.predicate,e=e.subject),e=Z(e),r=Z(r),n=Z(n),i=Z(i);let s=this._graphs[i];s||(s=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(s));let o=this._ids,a=this._entities;e=o[e]||(o[a[++this._id]=e]=this._id),r=o[r]||(o[a[++this._id]=r]=this._id),n=o[n]||(o[a[++this._id]=n]=this._id);let l=this._addToIndex(s.subjects,e,r,n);return this._addToIndex(s.predicates,r,n,e),this._addToIndex(s.objects,n,e,r),this._size=null,l}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}delete(e){return this.removeQuad(e),this}has(e){return this.getQuads(e.subject,e.predicate,e.object,e.graph).length!==0}import(e){return e.on("data",r=>{this.addQuad(r)}),e}removeQuad(e,r,n,i){r||(i=e.graph,n=e.object,r=e.predicate,e=e.subject),e=Z(e),r=Z(r),n=Z(n),i=Z(i);let s=this._ids,o=this._graphs,a,l,u;if(!(e=s[e])||!(r=s[r])||!(n=s[n])||!(a=o[i])||!(l=a.subjects[e])||!(u=l[r])||!(n in u))return!1;this._removeFromIndex(a.subjects,e,r,n),this._removeFromIndex(a.predicates,r,n,e),this._removeFromIndex(a.objects,n,e,r),this._size!==null&&this._size--;for(e in a.subjects)return!0;return delete o[i],!0}removeQuads(e){for(let r=0;r<e.length;r++)this.removeQuad(e[r])}remove(e){return e.on("data",r=>{this.removeQuad(r)}),e}removeMatches(e,r,n,i){let s=new Ku.Readable({objectMode:!0});return s._read=()=>{for(let o of this.getQuads(e,r,n,i))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,r,n,i){e=e&&Z(e),r=r&&Z(r),n=n&&Z(n),i=i&&Z(i);let s=[],o=this._getGraphs(i),a=this._ids,l,u,c,h;if(Ce(e)&&!(u=a[e])||Ce(r)&&!(c=a[r])||Ce(n)&&!(h=a[n]))return s;for(let d in o)(l=o[d])&&(u?h?this._findInIndex(l.objects,h,u,c,"object","subject","predicate",d,null,s):this._findInIndex(l.subjects,u,c,null,"subject","predicate","object",d,null,s):c?this._findInIndex(l.predicates,c,h,null,"predicate","object","subject",d,null,s):h?this._findInIndex(l.objects,h,null,null,"object","subject","predicate",d,null,s):this._findInIndex(l.subjects,null,null,null,"subject","predicate","object",d,null,s));return s}match(e,r,n,i){return new ri(this,e,r,n,i)}countQuads(e,r,n,i){e=e&&Z(e),r=r&&Z(r),n=n&&Z(n),i=i&&Z(i);let s=this._getGraphs(i),o=this._ids,a=0,l,u,c,h;if(Ce(e)&&!(u=o[e])||Ce(r)&&!(c=o[r])||Ce(n)&&!(h=o[n]))return 0;for(let d in s)(l=s[d])&&(e?n?a+=this._countInIndex(l.objects,h,u,c):a+=this._countInIndex(l.subjects,u,c,h):r?a+=this._countInIndex(l.predicates,c,h,u):a+=this._countInIndex(l.objects,h,u,c));return a}forEach(e,r,n,i,s){this.some(o=>(e(o),!1),r,n,i,s)}every(e,r,n,i,s){let o=!1,a=!this.some(l=>(o=!0,!e(l)),r,n,i,s);return o&&a}some(e,r,n,i,s){r=r&&Z(r),n=n&&Z(n),i=i&&Z(i),s=s&&Z(s);let o=this._getGraphs(s),a=this._ids,l,u,c,h;if(Ce(r)&&!(u=a[r])||Ce(n)&&!(c=a[n])||Ce(i)&&!(h=a[i]))return!1;for(let d in o)if(l=o[d]){if(u){if(h){if(this._findInIndex(l.objects,h,u,c,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(l.subjects,u,c,null,"subject","predicate","object",d,e,null))return!0}else if(c){if(this._findInIndex(l.predicates,c,h,null,"predicate","object","subject",d,e,null))return!0}else if(h){if(this._findInIndex(l.objects,h,null,null,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(l.subjects,null,null,null,"subject","predicate","object",d,e,null))return!0}return!1}getSubjects(e,r,n){let i=[];return this.forSubjects(s=>{i.push(s)},e,r,n),i}forSubjects(e,r,n,i){r=r&&Z(r),n=n&&Z(n),i=i&&Z(i);let s=this._ids,o=this._getGraphs(i),a,l,u;if(e=this._uniqueEntities(e),!(Ce(r)&&!(l=s[r])||Ce(n)&&!(u=s[n])))for(i in o)(a=o[i])&&(l?u?this._loopBy2Keys(a.predicates,l,u,e):this._loopByKey1(a.subjects,l,e):u?this._loopByKey0(a.objects,u,e):this._loop(a.subjects,e))}getPredicates(e,r,n){let i=[];return this.forPredicates(s=>{i.push(s)},e,r,n),i}forPredicates(e,r,n,i){r=r&&Z(r),n=n&&Z(n),i=i&&Z(i);let s=this._ids,o=this._getGraphs(i),a,l,u;if(e=this._uniqueEntities(e),!(Ce(r)&&!(l=s[r])||Ce(n)&&!(u=s[n])))for(i in o)(a=o[i])&&(l?u?this._loopBy2Keys(a.objects,u,l,e):this._loopByKey0(a.subjects,l,e):u?this._loopByKey1(a.predicates,u,e):this._loop(a.predicates,e))}getObjects(e,r,n){let i=[];return this.forObjects(s=>{i.push(s)},e,r,n),i}forObjects(e,r,n,i){r=r&&Z(r),n=n&&Z(n),i=i&&Z(i);let s=this._ids,o=this._getGraphs(i),a,l,u;if(e=this._uniqueEntities(e),!(Ce(r)&&!(l=s[r])||Ce(n)&&!(u=s[n])))for(i in o)(a=o[i])&&(l?u?this._loopBy2Keys(a.subjects,l,u,e):this._loopByKey1(a.objects,l,e):u?this._loopByKey0(a.predicates,u,e):this._loop(a.objects,e))}getGraphs(e,r,n){let i=[];return this.forGraphs(s=>{i.push(s)},e,r,n),i}forGraphs(e,r,n,i){for(let s in this._graphs)this.some(o=>(e(o.graph),!0),r,n,i,s)}createBlankNode(e){let r,n;if(e)for(r=e=`_:${e}`,n=1;this._ids[r];)r=e+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:e=!1,ignoreErrors:r=!1}={}){let n={},i=r?()=>!0:(a,l)=>{throw new Error(`${a.value} ${l}`)},s=this.getQuads(null,Ie.rdf.rest,Ie.rdf.nil,null),o=e?[...s]:[];return s.forEach(a=>{let l=[],u=!1,c,h,d=a.graph,f=a.subject;for(;f&&!u;){let v=this.getQuads(null,null,f,null),A=this.getQuads(f,null,null,null),w,j=null,D=null,K=null;for(let H=0;H<A.length&&!u;H++)w=A[H],w.graph.equals(d)?c?u=i(f,"has non-list arcs out"):w.predicate.value===Ie.rdf.first?j?u=i(f,"has multiple rdf:first arcs"):o.push(j=w):w.predicate.value===Ie.rdf.rest?D?u=i(f,"has multiple rdf:rest arcs"):o.push(D=w):v.length?u=i(f,"can't be subject and object"):(c=w,h="subject"):u=i(f,"not confined to single graph");for(let H=0;H<v.length&&!u;++H)w=v[H],c?u=i(f,"can't have coreferences"):w.predicate.value===Ie.rdf.rest?K?u=i(f,"has incoming rdf:rest arcs"):K=w:(c=w,h="object");j?l.unshift(j.object):u=i(f,"has no list head"),f=K&&K.subject}u?e=!1:c&&(n[c[h].value]=l)}),e&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.getQuads()}};function Ce(t){return typeof t=="string"||t instanceof String}var ri=class extends Ku.Readable{constructor(e,r,n,i,s){super({objectMode:!0});Object.assign(this,{n3Store:e,subject:r,predicate:n,object:i,graph:s})}get filtered(){if(!this._filtered){let{n3Store:e,graph:r,object:n,predicate:i,subject:s}=this,o=e.getQuads(s,i,n,r);this._filtered=new ti(o,{factory:e._factory})}return this._filtered}get size(){return this.filtered.size}_read(){for(let e of this.filtered.getQuads())this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,r,n,i){return new ri(this.filtered,e,r,n,i)}*[Symbol.iterator](){yield*this.filtered.getQuads()}};var Vu=async(t,e)=>new Promise(r=>{let n=document.createElement("script");n.src=t,n.onload=()=>{r(window[e])},document.head.appendChild(n)});var xs=t=>t.map(e=>parseInt(e).toString()===e?parseInt(e):e);var As=class{#e;constructor(e){this.#e=e;let[r,n]=e.split(":"),[i,s,o,a]=xs(r.split("."));Object.assign(this,{startBook:i,startChapter:s,startVerse:o,startWord:a});let[u,c,h,d]=xs(n.split("."));Object.assign(this,{endBook:u,endChapter:c,endVerse:h,endWord:d}),this.startNumber=this.toNumber(s,o,a),this.endNumber=this.toNumber(c,h,d)}toNumber(e,r,n){return e*1e4+r*1e3+n}includes(e,r,n,i){if(e!==this.startBook&&e!==this.endBook)return;let s=this.toNumber(r,n,i);return s>=this.startNumber&&s<=this.endNumber}get isShort(){return this.startVerse+4>this.endVerse}get length(){return this.endNumber-this.startNumber}toString(){return this.#e}};var Qu=t=>{let e=new EventTarget;return[new Proxy(t,{get:function(r,n,i){return["addQuad","removeQuad"].includes(n.toString())?s=>(e.dispatchEvent(new CustomEvent(n.toString(),{detail:s})),t[n](s)):Reflect.get(r,n,i)}}),e]};var Ju=`${location.protocol}//${location.hostname}:${location.port}/ttl/ontology.ttl`,Ss=class extends EventTarget{constructor(e,r){super();this.changes=[];let[n,i]=Qu(e);this.#e=n,this.#r=r,i.addEventListener("removeQuad",s=>{this.changes.push(["removed",s.detail,new Date])}),i.addEventListener("addQuad",s=>{this.changes.push(["added",s.detail,new Date])})}#e;#t;#r;get bookAbbreviation(){return this.#r}async query(e,r,n=!1){if(n&&console.log(e),!this.#t){let{newEngine:a}=await Vu("https://rdf.js.org/comunica-browser/versions/latest/packages/actor-init-sparql/comunica-browser.js","Comunica");this.#t=a()}let i=await this.#t.query(e,{sources:r});if(i.type==="update")return i.updateResult;if(i.type==="boolean")return i.booleanResult;let s=await i.bindings(),o=[];for(let a of s){let l={};for(let u of i.variables)i.variables.length===1?l=a.get(u)?.value:l[u.substr(1)]=a.get(u)?.value;o.push(l)}return o}async getMarkings(e){let r=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>

        SELECT ?subject ?reference ?name (COALESCE(?class_predicate, ?property_predicate) as ?predicate) ?comment {
            ?subject biblogos:reference ?reference .
            OPTIONAL { ?subject biblogos:name ?name . }
            OPTIONAL { ?subject biblogos:comment ?comment . }
            OPTIONAL { ?subject a ?class_predicate . }
            OPTIONAL { ?subject biblogos:predicate ?property_predicate . }
            FILTER strstarts(?reference, """${`${this.#r}.${e}"""`})
        }
        `,[this.#e]);for(let n of r)n.reference=new As(n.reference);return r}async searchSubject(e,r,n=null){return e.length===0||e.length===1&&e[0].trim()===""?[]:this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        SELECT * { 
            ?predicate a <${r}> .
            ?predicate biblogos:name ?name .
            ?predicate a/a rdfs:Class .
            OPTIONAL { ?predicate biblogos:comment ?comment . }
            FILTER regex(?name, """${e.join("|")}""", "i")
        }
        LIMIT 10
    `,[this.#e,Ju])}async getFactPredicates(){return this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        SELECT * { 
            { ?predicate a rdfs:Class } UNION { ?predicate a rdfs:Property } .
            ?predicate rdfs:label ?label .
            ?predicate biblogos:predicateType ?type .
        }
        `,[Ju])}async insertFact(e){return await this.deleteFact(e.uri),await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        INSERT DATA { 
            <${e.uri}> a <${e.predicate}> .
            <${e.uri}> biblogos:name """${e.name}""" .

            ${e.references.map(r=>`
                <${e.uri}> biblogos:reference """${r}""" .
            `).join(`
`)}
            
            ${e.subject?`
                <${e.uri}> biblogos:subject <${e.subject}> .
            `:""}
            ${e.comment?`
                <${e.uri}> biblogos:comment """${e.comment}""" .
            `:""}
        } 
        `,[this.#e])}async appendFactReferences(e,r){return this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        
        INSERT DATA { 
            ${r.map(n=>`
                <${e}> biblogos:reference """${n}""" .
            `)}
        }
        `,[this.#e])}async removeFactReferences(e,r){return this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        
        DELETE DATA { 
            ${r.map(n=>`
                <${e}> biblogos:reference """${n}""" .
            `)}
        }
        `,[this.#e])}async deleteFact(e){return this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        DELETE { 
            <${e}> a ?type .
            <${e}> biblogos:name ?name .
            <${e}> biblogos:subject ?subject .
            <${e}> biblogos:reference ?reference .
            <${e}> biblogos:comment ?comment . 
        } WHERE { 
            <${e}> a ?type .
            <${e}> biblogos:name ?name .
            <${e}> biblogos:reference ?reference .
            OPTIONAL { <${e}> biblogos:comment ?comment . }
            OPTIONAL { <${e}> biblogos:subject ?subject . }
        }        
        `,[this.#e])}async getReferencesCountForFact(e){let r=await this.query(`
        PREFIX biblogos: <https://biblogos.info/ttl/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        
        SELECT (count(?reference) as ?count) {
            <${e}> biblogos:reference ?reference .
        }
        `,[this.#e]);return parseInt(r[0])}};var Rs=class{constructor(e,r){this.#t=new Map,this.#e=e,this.settings=r}#e;#t;#r;get name(){return this.settings.name}async getMarkingsStore(){if(this.#r)return this.#r;let e=new ti,r=new Mn,{slug:n,branch:i}=this.#e,s=await Promise.all(this.settings.files.map(async a=>{let l=`https://raw.githubusercontent.com/${n}/${i}/${a.file}`;if(this.#t.has(l))return this.#t.get(l);let c=await(await fetch(l)).text();return this.#t.set(l,c),c})),o={};for(let a of s)await r.parse(a,(l,u,c)=>{l&&console.error(l),u?e.addQuad(u):Object.assign(o,c)});return this.#r=new Ss(e,this.settings.book),this.#r}};var Pw=Object.defineProperty,Ow=Object.getOwnPropertyDescriptor,Xu=(t,e,r,n)=>{for(var i=n>1?void 0:n?Ow(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Pw(e,r,i),i},tn=class extends Rs{async getChapters(){let{bible:e,book:r}=this.settings;try{let n=await fetch(`${qr.API}/plugins/api.bible/bibles/${e}/books/${r}/chapters`),{data:i}=await n.json();return i.filter(({number:s})=>s!=="intro").map(({number:s})=>{let o=s==="intro"?"Intro":s;return[parseInt(s),o]})}catch(n){throw new Error("Could not fetch chapters from api.bible")}}async getText(e){let{bible:r,book:n}=this.settings;try{let i=await fetch(`${qr.API}/plugins/api.bible/bibles/${r}/chapters/${`${n}.${e}?content-type=text`}`),{data:s}=await i.json(),o=/\[(\d+)\]([^[]*)/g,a=[...s.content.matchAll(o)];return a.length===0?[[1,s.content]]:a.map(l=>{let u=/\r|\n/.exec(l[2]),c=parseInt(l[1]),h=l[2].trim();return[c,h,f=>F`<span class="verse-number word">${c}${f} </span>`,u?.length??0]})}catch(i){throw console.error(i),new Error("Could not fetch verses from api.bible")}}};Xu([br()],tn.prototype,"getChapters",1);Xu([br()],tn.prototype,"getText",1);var Cw={ApiBible:tn},Ps=class{#e;async init(e){this.#e=e;let r=await pt.getBooks(this.#e.owner.login,this.#e.name,this.#e.default_branch);return this.books=r.map(n=>new Cw[n.type](this,n)),this}get name(){return this.#e.name.replace("biblogos-","").replaceAll("-"," ")}get description(){return this.#e.description}get owner(){return this.#e.owner.name??this.#e.owner.login}get avatar(){return this.#e.owner.avatar_url}get slug(){return this.#e.full_name}get branch(){return this.#e.default_branch}get editorLink(){return`/editor/${this.slug}`}};var Iw=Object.defineProperty,jw=Object.getOwnPropertyDescriptor,Zu=(t,e,r,n)=>{for(var i=n>1?void 0:n?jw(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Iw(e,r,i),i},ni=class{#e;async init(){if(!this.#e){let e=await fetch(`${qr.API}/token`),{token:r}=await e.json();this.#e=new Rn({auth:r})}}async getProjects(){await this.init();let r=(await this.#e.rest.search.repos({q:"topic:biblogos"})).data.items;return await Promise.all(r.map(n=>new Ps().init(n)))}async getProject(e,r){return await this.init(),(await this.getProjects()).find(n=>n.slug===`${e}/${r}`)}async getBooks(e,r,n){await this.init();let s=(await this.#e.rest.git.getTree({owner:e,repo:r,tree_sha:n})).data.tree;return await Promise.all(s.filter(a=>a.path.endsWith(".biblogos")).map(async a=>{let l=await pt.#e.rest.git.getBlob({owner:e,repo:r,file_sha:a.sha});return iu.load(atob(l.data.content))}))}};Zu([br()],ni.prototype,"getProjects",1);Zu([br()],ni.prototype,"getProject",1);var pt=new ni;var se=t=>t;var Os=class extends fe.Div{async upgradedCallback(){this.draw(),this.classList.add("project"),this.classList.add("teaser")}draw(){de(this,F`
        <h3 class="title">${this.project.name}<em>, by ${this.project.owner}</em></h3>
        <p class="description">${this.project.description}</p>

        <div class="actions">
            <a class="button medium secondary edit" href=${this.project.editorLink}>${se`Edit facts`}</a>
            <a class="button medium primary" href=${this.project.editorLink}>${se`Explore data`}</a>
        </div>
        
        `)}};var Cs=class extends fe.Div{constructor(){super(...arguments);this.projects=[]}async upgradedCallback(){this.draw(),this.classList.add("projects-overview"),this.classList.add("route"),this.projects=await pt.getProjects(),this.draw()}draw(){de(this,F`
        ${this.projects?F`
            ${this.projects.map(e=>F`<${Os} .project=${e} />`)}
        `:F`Loading...`}
        `)}};var Is=class extends fe.Div{async upgradedCallback(){this.draw(),this.classList.add("menu")}draw(){de(this,F`

        <div onclick=${()=>{console.log(document.body.dataset.menu),document.body.dataset.showMenu=document.body.dataset.showMenu!=="true"?"true":"false"}} class="menu-toggle">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
        `)}};var rn=class extends fe.Div{async upgradedCallback(){this.draw(),this.classList.add("site-header")}draw(){de(this,F`
            <a class="site-logo-link" href="/">
                <img class="favicon" src="/assets/favicon.svg">
                ${location.pathname==="/"?F`<h1 class="logo-text">BibLogos</h1>`:null}
            </a>

            ${this.extra}

            <${Is} />
        `)}};function ec(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var xr=ec();function Fw(t){xr=t}var Gw=/[&<>"']/,Lw=/[&<>"']/g,$w=/[<>"']|&(?!#?\w+;)/,Dw=/[<>"']|&(?!#?\w+;)/g,Nw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tc=t=>Nw[t];function Ee(t,e){if(e){if(Gw.test(t))return t.replace(Lw,tc)}else if($w.test(t))return t.replace(Dw,tc);return t}var Uw=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function rc(t){return t.replace(Uw,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}var Mw=/(^|[^\[])\^/g;function oe(t,e){t=t.source||t,e=e||"";let r={replace:(n,i)=>(i=i.source||i,i=i.replace(Mw,"$1"),t=t.replace(n,i),r),getRegex:()=>new RegExp(t,e)};return r}var Bw=/[^\w:]/g,qw=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function nc(t,e,r){if(t){let n;try{n=decodeURIComponent(rc(r)).replace(Bw,"").toLowerCase()}catch(i){return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!qw.test(r)&&(r=Hw(e,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(n){return null}return r}var ii={},zw=/^[^:]+:\/*[^/]*$/,Ww=/^([^:]+:)[\s\S]*$/,Yw=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Hw(t,e){ii[" "+t]||(zw.test(t)?ii[" "+t]=t+"/":ii[" "+t]=si(t,"/",!0)),t=ii[" "+t];let r=t.indexOf(":")===-1;return e.substring(0,2)==="//"?r?e:t.replace(Ww,"$1")+e:e.charAt(0)==="/"?r?e:t.replace(Yw,"$1")+e:t+e}var oi={exec:function(){}};function He(t){let e=1,r,n;for(;e<arguments.length;e++){r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}function ic(t,e){let r=t.replace(/\|/g,(s,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/),i=0;if(n[0].trim()||n.shift(),n[n.length-1].trim()||n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function si(t,e,r){let n=t.length;if(n===0)return"";let i=0;for(;i<n;){let s=t.charAt(n-i-1);if(s===e&&!r)i++;else if(s!==e&&r)i++;else break}return t.substr(0,n-i)}function Kw(t,e){if(t.indexOf(e[1])===-1)return-1;let r=t.length,n=0,i=0;for(;i<r;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])n++;else if(t[i]===e[1]&&(n--,n<0))return i;return-1}function sc(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function oc(t,e){if(e<1)return"";let r="";for(;e>1;)e&1&&(r+=t),e>>=1,t+=t;return r+t}function ac(t,e,r,n){let i=e.href,s=e.title?Ee(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;let a={type:"link",raw:r,href:i,title:s,text:o,tokens:n.inlineTokens(o,[])};return n.state.inLink=!1,a}else return{type:"image",raw:r,href:i,title:s,text:Ee(o)}}function Vw(t,e){let r=t.match(/^(\s+)(?:```)/);if(r===null)return e;let n=r[1];return e.split(`
`).map(i=>{let s=i.match(/^\s+/);if(s===null)return i;let[o]=s;return o.length>=n.length?i.slice(n.length):i}).join(`
`)}var ai=class{constructor(e){this.options=e||xr}space(e){let r=this.rules.block.newline.exec(e);if(r)return r[0].length>1?{type:"space",raw:r[0]}:{raw:`
`}}code(e){let r=this.rules.block.code.exec(e);if(r){let n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:si(n,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let n=r[0],i=Vw(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim():r[2],text:i}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){let s=si(n,"#");(this.options.pedantic||!s||/ $/.test(s))&&(n=s.trim())}let i={type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:r[0]}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let n=r[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:r[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n,i,s,o,a,l,u,c,h,d,f,v,A=r[1].trim(),w=A.length>1,j={type:"list",raw:"",ordered:w,start:w?+A.slice(0,-1):"",loose:!1,items:[]};A=w?`\\d{1,9}\\${A.slice(-1)}`:`\\${A}`,this.options.pedantic&&(A=w?A:"[*+-]");let D=new RegExp(`^( {0,3}${A})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(v=!1,!(!(r=D.exec(e))||this.rules.block.hr.test(e)));){if(n=r[0],e=e.substring(n.length),c=r[2].split(`
`,1)[0],h=e.split(`
`,1)[0],this.options.pedantic?(o=2,f=c.trimLeft()):(o=r[2].search(/[^ ]/),o=o>4?1:o,f=c.slice(o),o+=r[1].length),l=!1,!c&&/^ *$/.test(h)&&(n+=h+`
`,e=e.substring(h.length+1),v=!0),!v){let H=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(d=e.split(`
`,1)[0],c=d,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!H.test(c));){if(c.search(/[^ ]/)>=o||!c.trim())f+=`
`+c.slice(o);else if(!l)f+=`
`+c;else break;!l&&!c.trim()&&(l=!0),n+=d+`
`,e=e.substring(d.length+1)}}j.loose||(u?j.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(f),i&&(s=i[0]!=="[ ] ",f=f.replace(/^\[[ xX]\] +/,""))),j.items.push({type:"list_item",raw:n,task:!!i,checked:s,loose:!1,text:f}),j.raw+=n}j.items[j.items.length-1].raw=n.trimRight(),j.items[j.items.length-1].text=f.trimRight(),j.raw=j.raw.trimRight();let K=j.items.length;for(a=0;a<K;a++)this.lexer.state.top=!1,j.items[a].tokens=this.lexer.blockTokens(j.items[a].text,[]),!j.loose&&j.items[a].tokens.some(H=>H.type==="space")&&(j.loose=!0,j.items[a].loose=!0);return j}}html(e){let r=this.rules.block.html.exec(e);if(r){let n={type:"html",raw:r[0],pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(r[0]):Ee(r[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}}def(e){let r=this.rules.block.def.exec(e);if(r){r[3]&&(r[3]=r[3].substring(1,r[3].length-1));let n=r[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:n,raw:r[0],href:r[2],title:r[3]}}}table(e){let r=this.rules.block.table.exec(e);if(r){let n={type:"table",header:ic(r[1]).map(i=>({text:i})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=r[0];let i=n.align.length,s,o,a,l;for(s=0;s<i;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(i=n.rows.length,s=0;s<i;s++)n.rows[s]=ic(n.rows[s],n.header.length).map(u=>({text:u}));for(i=n.header.length,o=0;o<i;o++)n.header[o].tokens=[],this.lexer.inlineTokens(n.header[o].text,n.header[o].tokens);for(i=n.rows.length,o=0;o<i;o++)for(l=n.rows[o],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return n}}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r){let n={type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let n={type:"paragraph",raw:r[0],text:r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}text(e){let r=this.rules.block.text.exec(e);if(r){let n={type:"text",raw:r[0],text:r[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:Ee(r[1])}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ee(r[0]):r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let o=si(n.slice(0,-1),"\\");if((n.length-o.length)%2==0)return}else{let o=Kw(r[2],"()");if(o>-1){let l=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),ac(r,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=r[i.toLowerCase()],!i||!i.href){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return ac(n,i,n[0],this.lexer)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;let s=i[1]||i[2]||"";if(!s||s&&(n===""||this.rules.inline.punctuation.exec(n))){let o=i[0].length-1,a,l,u=o,c=0,h=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*e.length+o);(i=h.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=a.length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){c+=l;continue}if(u-=l,u>0)continue;if(l=Math.min(l,l+u+c),Math.min(o,l)%2){let f=e.slice(1,o+i.index+l);return{type:"em",raw:e.slice(0,o+i.index+l+1),text:f,tokens:this.lexer.inlineTokens(f,[])}}let d=e.slice(2,o+i.index+l-1);return{type:"strong",raw:e.slice(0,o+i.index+l+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," "),i=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return i&&s&&(n=n.substring(1,n.length-1)),n=Ee(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2],[])}}autolink(e,r){let n=this.rules.inline.autolink.exec(e);if(n){let i,s;return n[2]==="@"?(i=Ee(this.options.mangle?r(n[1]):n[1]),s="mailto:"+i):(i=Ee(n[1]),s=i),{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,r){let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=Ee(this.options.mangle?r(n[0]):n[0]),s="mailto:"+i;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(o!==n[0]);i=Ee(n[0]),n[1]==="www."?s="http://"+i:s=i}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,r){let n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ee(n[0]):n[0]:i=Ee(this.options.smartypants?r(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}},B={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:oi,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};B._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;B._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;B.def=oe(B.def).replace("label",B._label).replace("title",B._title).getRegex();B.bullet=/(?:[*+-]|\d{1,9}[.)])/;B.listItemStart=oe(/^( *)(bull) */).replace("bull",B.bullet).getRegex();B.list=oe(B.list).replace(/bull/g,B.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+B.def.source+")").getRegex();B._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";B._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;B.html=oe(B.html,"i").replace("comment",B._comment).replace("tag",B._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();B.paragraph=oe(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex();B.blockquote=oe(B.blockquote).replace("paragraph",B.paragraph).getRegex();B.normal=He({},B);B.gfm=He({},B.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});B.gfm.table=oe(B.gfm.table).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex();B.gfm.paragraph=oe(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",B.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex();B.pedantic=He({},B.normal,{html:oe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",B._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:oi,paragraph:oe(B.normal._paragraph).replace("hr",B.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",B.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var G={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:oi,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:oi,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};G._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";G.punctuation=oe(G.punctuation).replace(/punctuation/g,G._punctuation).getRegex();G.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;G.escapedEmSt=/\\\*|\\_/g;G._comment=oe(B._comment).replace("(?:-->|$)","-->").getRegex();G.emStrong.lDelim=oe(G.emStrong.lDelim).replace(/punct/g,G._punctuation).getRegex();G.emStrong.rDelimAst=oe(G.emStrong.rDelimAst,"g").replace(/punct/g,G._punctuation).getRegex();G.emStrong.rDelimUnd=oe(G.emStrong.rDelimUnd,"g").replace(/punct/g,G._punctuation).getRegex();G._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;G._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;G._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;G.autolink=oe(G.autolink).replace("scheme",G._scheme).replace("email",G._email).getRegex();G._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;G.tag=oe(G.tag).replace("comment",G._comment).replace("attribute",G._attribute).getRegex();G._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;G._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;G._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;G.link=oe(G.link).replace("label",G._label).replace("href",G._href).replace("title",G._title).getRegex();G.reflink=oe(G.reflink).replace("label",G._label).getRegex();G.reflinkSearch=oe(G.reflinkSearch,"g").replace("reflink",G.reflink).replace("nolink",G.nolink).getRegex();G.normal=He({},G);G.pedantic=He({},G.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:oe(/^!?\[(label)\]\((.*?)\)/).replace("label",G._label).getRegex(),reflink:oe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",G._label).getRegex()});G.gfm=He({},G.normal,{escape:oe(G.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});G.gfm.url=oe(G.gfm.url,"i").replace("email",G.gfm._extended_email).getRegex();G.breaks=He({},G.gfm,{br:oe(G.br).replace("{2,}","*").getRegex(),text:oe(G.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Qw(t){return t.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦")}function lc(t){let e="",r,n,i=t.length;for(r=0;r<i;r++)n=t.charCodeAt(r),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}var ft=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||xr,this.options.tokenizer=this.options.tokenizer||new ai,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:B.normal,inline:G.normal};this.options.pedantic?(r.block=B.pedantic,r.inline=G.pedantic):this.options.gfm&&(r.block=B.gfm,this.options.breaks?r.inline=G.breaks:r.inline=G.gfm),this.tokenizer.rules=r}static get rules(){return{block:B,inline:G}}static lex(e,r){return new ft(r).lex(e)}static lexInline(e,r){return new ft(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(e,r=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let n,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(n=a.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.type&&r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=Infinity,l=e.slice(1),u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<Infinity&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){i=r[r.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n),o=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(n);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(e,r){this.inlineQueue.push({src:e,tokens:r})}inlineTokens(e,r=[]){let n,i,s,o=e,a,l,u;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+oc("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+oc("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(n=c.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(e,o,u)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(e,lc)){e=e.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,lc))){e=e.substring(n.raw.length),r.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=Infinity,h=e.slice(1),d;this.options.extensions.startInline.forEach(function(f){d=f.call({lexer:this},h),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<Infinity&&c>=0&&(s=e.substring(0,c+1))}if(n=this.tokenizer.inlineText(s,Qw)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),l=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return r}},li=class{constructor(e){this.options=e||xr}code(e,r,n){let i=(r||"").match(/\S*/)[0];if(this.options.highlight){let s=this.options.highlight(e,i);s!=null&&s!==e&&(n=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Ee(i,!0)+'">'+(n?e:Ee(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Ee(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,r,n,i){return this.options.headerIds?"<h"+r+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+r+`>
`:"<h"+r+">"+e+"</h"+r+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,r,n){let i=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,r){return r&&(r="<tbody>"+r+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,r){let n=r.header?"th":"td";return(r.align?"<"+n+' align="'+r.align+'">':"<"+n+">")+e+"</"+n+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,r,n){if(e=nc(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<a href="'+Ee(e)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(e,r,n){if(e=nc(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<img src="'+e+'" alt="'+n+'"';return r&&(i+=' title="'+r+'"'),i+=this.options.xhtml?"/>":">",i}text(e){return e}},js=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,r,n){return""+n}image(e,r,n){return""+n}br(){return""}},Fs=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,r){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do i++,n=e+"-"+i;while(this.seen.hasOwnProperty(n))}return r||(this.seen[e]=i,this.seen[n]=0),n}slug(e,r={}){let n=this.serialize(e);return this.getNextSafeSlug(n,r.dryrun)}},dt=class{constructor(e){this.options=e||xr,this.options.renderer=this.options.renderer||new li,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new js,this.slugger=new Fs}static parse(e,r){return new dt(r).parse(e)}static parseInline(e,r){return new dt(r).parseInline(e)}parse(e,r=!0){let n="",i,s,o,a,l,u,c,h,d,f,v,A,w,j,D,K,H,re,V,ae=e.length;for(i=0;i<ae;i++){if(f=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(V=this.options.extensions.renderers[f.type].call({parser:this},f),V!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type))){n+=V||"";continue}switch(f.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(f.tokens),f.depth,rc(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(f.text,f.lang,f.escaped);continue}case"table":{for(h="",c="",a=f.header.length,s=0;s<a;s++)c+=this.renderer.tablecell(this.parseInline(f.header[s].tokens),{header:!0,align:f.align[s]});for(h+=this.renderer.tablerow(c),d="",a=f.rows.length,s=0;s<a;s++){for(u=f.rows[s],c="",l=u.length,o=0;o<l;o++)c+=this.renderer.tablecell(this.parseInline(u[o].tokens),{header:!1,align:f.align[o]});d+=this.renderer.tablerow(c)}n+=this.renderer.table(h,d);continue}case"blockquote":{d=this.parse(f.tokens),n+=this.renderer.blockquote(d);continue}case"list":{for(v=f.ordered,A=f.start,w=f.loose,a=f.items.length,d="",s=0;s<a;s++)D=f.items[s],K=D.checked,H=D.task,j="",D.task&&(re=this.renderer.checkbox(K),w?D.tokens.length>0&&D.tokens[0].type==="paragraph"?(D.tokens[0].text=re+" "+D.tokens[0].text,D.tokens[0].tokens&&D.tokens[0].tokens.length>0&&D.tokens[0].tokens[0].type==="text"&&(D.tokens[0].tokens[0].text=re+" "+D.tokens[0].tokens[0].text)):D.tokens.unshift({type:"text",text:re}):j+=re),j+=this.parse(D.tokens,w),d+=this.renderer.listitem(j,H,K);n+=this.renderer.list(d,v,A);continue}case"html":{n+=this.renderer.html(f.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(f.tokens));continue}case"text":{for(d=f.tokens?this.parseInline(f.tokens):f.text;i+1<ae&&e[i+1].type==="text";)f=e[++i],d+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);n+=r?this.renderer.paragraph(d):d;continue}default:{let xe='Token with "'+f.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}}return n}parseInline(e,r){r=r||this.renderer;let n="",i,s,o,a=e.length;for(i=0;i<a;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){n+=o||"";continue}switch(s.type){case"escape":{n+=r.text(s.text);break}case"html":{n+=r.html(s.text);break}case"link":{n+=r.link(s.href,s.title,this.parseInline(s.tokens,r));break}case"image":{n+=r.image(s.href,s.title,s.text);break}case"strong":{n+=r.strong(this.parseInline(s.tokens,r));break}case"em":{n+=r.em(this.parseInline(s.tokens,r));break}case"codespan":{n+=r.codespan(s.text);break}case"br":{n+=r.br();break}case"del":{n+=r.del(this.parseInline(s.tokens,r));break}case"text":{n+=r.text(s.text);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return n}};function z(t,e,r){if(typeof t=="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(r=e,e=null),e=He({},z.defaults,e||{}),sc(e),r){let n=e.highlight,i;try{i=ft.lex(t,e)}catch(a){return r(a)}let s=function(a){let l;if(!a)try{e.walkTokens&&z.walkTokens(i,e.walkTokens),l=dt.parse(i,e)}catch(u){a=u}return e.highlight=n,a?r(a):r(null,l)};if(!n||n.length<3||(delete e.highlight,!i.length))return s();let o=0;z.walkTokens(i,function(a){a.type==="code"&&(o++,setTimeout(()=>{n(a.text,a.lang,function(l,u){if(l)return s(l);u!=null&&u!==a.text&&(a.text=u,a.escaped=!0),o--,o===0&&s()})},0))}),o===0&&s();return}try{let n=ft.lex(t,e);return e.walkTokens&&z.walkTokens(n,e.walkTokens),dt.parse(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Ee(n.message+"",!0)+"</pre>";throw n}}z.options=z.setOptions=function(t){return He(z.defaults,t),Fw(z.defaults),z};z.getDefaults=ec;z.defaults=xr;z.use=function(...t){let e=He({},...t),r=z.defaults.extensions||{renderers:{},childTokens:{}},n;t.forEach(i=>{if(i.extensions&&(n=!0,i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){let o=r.renderers?r.renderers[s.name]:null;o?r.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:r.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[s.level]?r[s.level].unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}s.childTokens&&(r.childTokens[s.name]=s.childTokens)})),i.renderer){let s=z.defaults.renderer||new li;for(let o in i.renderer){let a=s[o];s[o]=(...l)=>{let u=i.renderer[o].apply(s,l);return u===!1&&(u=a.apply(s,l)),u}}e.renderer=s}if(i.tokenizer){let s=z.defaults.tokenizer||new ai;for(let o in i.tokenizer){let a=s[o];s[o]=(...l)=>{let u=i.tokenizer[o].apply(s,l);return u===!1&&(u=a.apply(s,l)),u}}e.tokenizer=s}if(i.walkTokens){let s=z.defaults.walkTokens;e.walkTokens=function(o){i.walkTokens.call(this,o),s&&s.call(this,o)}}n&&(e.extensions=r),z.setOptions(e)})};z.walkTokens=function(t,e){for(let r of t)switch(e.call(z,r),r.type){case"table":{for(let n of r.header)z.walkTokens(n.tokens,e);for(let n of r.rows)for(let i of n)z.walkTokens(i.tokens,e);break}case"list":{z.walkTokens(r.items,e);break}default:z.defaults.extensions&&z.defaults.extensions.childTokens&&z.defaults.extensions.childTokens[r.type]?z.defaults.extensions.childTokens[r.type].forEach(function(n){z.walkTokens(r[n],e)}):r.tokens&&z.walkTokens(r.tokens,e)}};z.parseInline=function(t,e){if(typeof t=="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=He({},z.defaults,e||{}),sc(e);try{let r=ft.lexInline(t,e);return e.walkTokens&&z.walkTokens(r,e.walkTokens),dt.parseInline(r,e)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Ee(r.message+"",!0)+"</pre>";throw r}};z.Parser=dt;z.parser=dt.parse;z.Renderer=li;z.TextRenderer=js;z.Lexer=ft;z.lexer=ft.lex;z.Tokenizer=ai;z.Slugger=Fs;z.parse=z;var Gs=class extends fe.Div{async upgradedCallback(){this.classList.add("markdown");let r=await(await fetch(`/markdown/${this.src}.md`)).text();this.innerHTML=z(r)}};var uc={name:"home",template:()=>F`
            <${rn} />
            <${Gs} class="route" .src=${"home"} />
            <${Cs} />
        `};var Me=t=>{if(!t)debugger;return t.substr(0,4)!=="http"?t:t.split(/\/|#/).pop()};"use strict";var Jw=typeof window=="object"?window:{},W="0123456789abcdef".split(""),Xw=[-2147483648,8388608,32768,128],ze=[24,16,8,0];var Te=[];function Be(t=null){t?(Te[0]=Te[16]=Te[1]=Te[2]=Te[3]=Te[4]=Te[5]=Te[6]=Te[7]=Te[8]=Te[9]=Te[10]=Te[11]=Te[12]=Te[13]=Te[14]=Te[15]=0,this.blocks=Te):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Be.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===Jw.ArrayBuffer&&(t=new Uint8Array(t));for(var r,n=0,i,s=t.length||0,o=this.blocks;n<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(i=this.start;n<s&&i<64;++n)o[i>>2]|=t[n]<<ze[i++&3];else for(i=this.start;n<s&&i<64;++n)r=t.charCodeAt(n),r<128?o[i>>2]|=r<<ze[i++&3]:r<2048?(o[i>>2]|=(192|r>>6)<<ze[i++&3],o[i>>2]|=(128|r&63)<<ze[i++&3]):r<55296||r>=57344?(o[i>>2]|=(224|r>>12)<<ze[i++&3],o[i>>2]|=(128|r>>6&63)<<ze[i++&3],o[i>>2]|=(128|r&63)<<ze[i++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++n)&1023),o[i>>2]|=(240|r>>18)<<ze[i++&3],o[i>>2]|=(128|r>>12&63)<<ze[i++&3],o[i>>2]|=(128|r>>6&63)<<ze[i++&3],o[i>>2]|=(128|r&63)<<ze[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=o[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};Be.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=Xw[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};Be.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s,o,a,l=this.blocks;for(o=16;o<80;++o)a=l[o-3]^l[o-8]^l[o-14]^l[o-16],l[o]=a<<1|a>>>31;for(o=0;o<20;o+=5)s=e&r|~e&n,a=t<<5|t>>>27,i=a+s+i+1518500249+l[o]<<0,e=e<<30|e>>>2,s=t&e|~t&r,a=i<<5|i>>>27,n=a+s+n+1518500249+l[o+1]<<0,t=t<<30|t>>>2,s=i&t|~i&e,a=n<<5|n>>>27,r=a+s+r+1518500249+l[o+2]<<0,i=i<<30|i>>>2,s=n&i|~n&t,a=r<<5|r>>>27,e=a+s+e+1518500249+l[o+3]<<0,n=n<<30|n>>>2,s=r&n|~r&i,a=e<<5|e>>>27,t=a+s+t+1518500249+l[o+4]<<0,r=r<<30|r>>>2;for(;o<40;o+=5)s=e^r^n,a=t<<5|t>>>27,i=a+s+i+1859775393+l[o]<<0,e=e<<30|e>>>2,s=t^e^r,a=i<<5|i>>>27,n=a+s+n+1859775393+l[o+1]<<0,t=t<<30|t>>>2,s=i^t^e,a=n<<5|n>>>27,r=a+s+r+1859775393+l[o+2]<<0,i=i<<30|i>>>2,s=n^i^t,a=r<<5|r>>>27,e=a+s+e+1859775393+l[o+3]<<0,n=n<<30|n>>>2,s=r^n^i,a=e<<5|e>>>27,t=a+s+t+1859775393+l[o+4]<<0,r=r<<30|r>>>2;for(;o<60;o+=5)s=e&r|e&n|r&n,a=t<<5|t>>>27,i=a+s+i-1894007588+l[o]<<0,e=e<<30|e>>>2,s=t&e|t&r|e&r,a=i<<5|i>>>27,n=a+s+n-1894007588+l[o+1]<<0,t=t<<30|t>>>2,s=i&t|i&e|t&e,a=n<<5|n>>>27,r=a+s+r-1894007588+l[o+2]<<0,i=i<<30|i>>>2,s=n&i|n&t|i&t,a=r<<5|r>>>27,e=a+s+e-1894007588+l[o+3]<<0,n=n<<30|n>>>2,s=r&n|r&i|n&i,a=e<<5|e>>>27,t=a+s+t-1894007588+l[o+4]<<0,r=r<<30|r>>>2;for(;o<80;o+=5)s=e^r^n,a=t<<5|t>>>27,i=a+s+i-899497514+l[o]<<0,e=e<<30|e>>>2,s=t^e^r,a=i<<5|i>>>27,n=a+s+n-899497514+l[o+1]<<0,t=t<<30|t>>>2,s=i^t^e,a=n<<5|n>>>27,r=a+s+r-899497514+l[o+2]<<0,i=i<<30|i>>>2,s=n^i^t,a=r<<5|r>>>27,e=a+s+e-899497514+l[o+3]<<0,n=n<<30|n>>>2,s=r^n^i,a=e<<5|e>>>27,t=a+s+t-899497514+l[o+4]<<0,r=r<<30|r>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0};Be.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4;return W[t>>28&15]+W[t>>24&15]+W[t>>20&15]+W[t>>16&15]+W[t>>12&15]+W[t>>8&15]+W[t>>4&15]+W[t&15]+W[e>>28&15]+W[e>>24&15]+W[e>>20&15]+W[e>>16&15]+W[e>>12&15]+W[e>>8&15]+W[e>>4&15]+W[e&15]+W[r>>28&15]+W[r>>24&15]+W[r>>20&15]+W[r>>16&15]+W[r>>12&15]+W[r>>8&15]+W[r>>4&15]+W[r&15]+W[n>>28&15]+W[n>>24&15]+W[n>>20&15]+W[n>>16&15]+W[n>>12&15]+W[n>>8&15]+W[n>>4&15]+W[n&15]+W[i>>28&15]+W[i>>24&15]+W[i>>20&15]+W[i>>16&15]+W[i>>12&15]+W[i>>8&15]+W[i>>4&15]+W[i&15]};Be.prototype.toString=Be.prototype.hex;Be.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255]};Be.prototype.array=Be.prototype.digest;Be.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};var Ls=new Map;function $s(t,e=20,r=80,n=20,i=90){let s=JSON.stringify(arguments);if(Ls.has(s))return Ls.get(s);let o=new Be;o.update(t);let a=new TextEncoder,l=new Uint8Array(a.encode(o.hex())).join("").slice(16),u="hsl("+l%360+", "+(l%(i-n)+n)+"%, "+(l%(r-e)+e)+"%)";return Ls.set(s,u),u}var cc=(t,e="px")=>typeof t=="number"?t+e:t;function At({style:t},e,r){if(typeof e=="object")for(let[n,i]of Object.entries(e))t[n]=cc(i);else r!==void 0&&(t[e]=cc(r))}function hc(t){return(e,r,n,i={})=>{e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]);for(let s of e)for(let o of r)s[t](o,n,{capture:!1,...i});return[e,r,n,i]}}var Ar=hc("addEventListener"),St=hc("removeEventListener"),ui=t=>{let e=t.touches&&t.touches[0]||t;return{tap:e,x:e.clientX,y:e.clientY,target:e.target}};function Zw(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let r=t.target.parentElement;for(e=[t.target,r];r=r.parentElement;)e.push(r);return e.push(document,window),e}function pc(t,e,r="touch"){switch(r){case"center":{let n=e.left+e.width/2,i=e.top+e.height/2;return n>=t.left&&n<=t.right&&i>=t.top&&i<=t.bottom}case"cover":return e.left>=t.left&&e.top>=t.top&&e.right<=t.right&&e.bottom<=t.bottom;case"touch":return t.right>=e.left&&t.left<=e.right&&t.bottom>=e.top&&t.top<=e.bottom;default:throw new Error(`Unkown intersection mode: ${r}`)}}function fc(t,e){let r=t.indexOf(e);~r&&t.splice(r,1)}function nn(t,e=document){let r=Array.isArray(t)?t:[t],n=[];for(let i=0,s=r.length;i<s;i++){let o=r[i];typeof o=="string"?n.push(...Array.from(e.querySelectorAll(o))):o instanceof Element&&n.push(o)}return n}var dc=()=>matchMedia("(hover: none), (pointer: coarse)").matches,gc=(t,e)=>{for(let[r,n]of Object.entries(t)){let i=e[r];t[r]=i===void 0?t[r]:typeof i!="object"||typeof n!="object"||n===null||Array.isArray(n)?i:gc(n,i)}return t},{abs:Yt,max:mc,min:_c,ceil:bc}=Math,Ds=class extends class{constructor(){this.t=new Map,this.on=this.addEventListener,this.off=this.removeEventListener,this.emit=this.dispatchEvent}addEventListener(e,r){let n=this.t.get(e)||new Set;return this.t.set(e,n),n.add(r),this}removeEventListener(e,r){return this.t.get(e)?.delete(r),this}dispatchEvent(e,...r){let n=!0;for(let i of this.t.get(e)||[])n=i(...r)!==!1&&n;return n}unbindAllListeners(){this.t.clear()}}{constructor(e){super(),this.i={touched:[],stored:[],selected:[],changed:{added:[],removed:[]}},this.o=[],this.h=new DOMRect,this.l={y1:0,x2:0,y2:0,x1:0},this.u=!0,this.p=!0,this.m={x:0,y:0},this.v={x:0,y:0},this.disable=this.g.bind(this,!1),this.enable=this.g,this._=gc({selectionAreaClass:"selection-area",selectionContainerClass:void 0,selectables:[],document:window.document,behaviour:{overlap:"invert",intersect:"touch",startThreshold:{x:10,y:10},scrolling:{speedDivider:10,manualSpeed:750,startScrollMargins:{x:0,y:0}}},features:{range:!0,touch:!0,singleTap:{allow:!0,intersect:"native"}},startAreas:["html"],boundaries:["html"],container:"body"},e);for(let s of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))typeof this[s]=="function"&&(this[s]=this[s].bind(this));let{document:r,selectionAreaClass:n,selectionContainerClass:i}=this._;this.S=r.createElement("div"),this.A=r.createElement("div"),this.A.appendChild(this.S),this.S.classList.add(n),i&&this.A.classList.add(i),At(this.S,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),At(this.A,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"1"}),this.T=(s=>{let o,a=-1,l=!1;return{next(...u){o=u,l||(l=!0,a=requestAnimationFrame(()=>{s(...o),l=!1}))},cancel(){cancelAnimationFrame(a),l=!1}}})(s=>{this.L(),this.C(),this.M("move",s),this.j()}),this.enable()}g(e=!0){let{document:r,features:n}=this._,i=e?Ar:St;i(r,"mousedown",this.k),n.touch&&i(r,"touchstart",this.k,{passive:!1})}k(e,r=!1){let{x:n,y:i,target:s}=ui(e),{_:o}=this,{document:a}=this._,l=s.getBoundingClientRect(),u=nn(o.startAreas,o.document),c=nn(o.boundaries,o.document);this.O=c.find(f=>pc(f.getBoundingClientRect(),l));let h=Zw(e);if(!this.O||!u.find(f=>h.includes(f))||!c.find(f=>h.includes(f))||!r&&this.M("beforestart",e)===!1)return;this.l={x1:n,y1:i,x2:0,y2:0};let d=a.scrollingElement||a.body;this.v={x:d.scrollLeft,y:d.scrollTop},this.u=!0,this.clearSelection(!1),Ar(a,["touchmove","mousemove"],this.R,{passive:!1}),Ar(a,["mouseup","touchcancel","touchend"],this.$),Ar(a,"scroll",this.D)}F(e){let{singleTap:{intersect:r},range:n}=this._.features,i=ui(e),s=null;if(r==="native")s=i.target;else if(r==="touch"){this.resolveSelectables();let{x:a,y:l}=i;s=this.o.find(u=>{let{right:c,left:h,top:d,bottom:f}=u.getBoundingClientRect();return a<c&&a>h&&l<f&&l>d})}if(!s)return;for(this.resolveSelectables();!this.o.includes(s);){if(!s.parentElement)return;s=s.parentElement}let{stored:o}=this.i;if(this.M("start",e),e.shiftKey&&o.length&&n){let a=this.q??o[0],[l,u]=4&a.compareDocumentPosition(s)?[s,a]:[a,s],c=[...this.o.filter(h=>4&h.compareDocumentPosition(l)&&2&h.compareDocumentPosition(u)),l,u];this.select(c)}else o.includes(s)&&(o.length===1||e.ctrlKey||o.every(a=>this.i.stored.includes(a)))?this.deselect(s):(this.q=s,this.select(s));this.M("stop",e)}R(e){let{container:r,document:n,features:i,behaviour:{startThreshold:s}}=this._,{x1:o,y1:a}=this.l,{x:l,y:u}=ui(e),c=typeof s;if(c==="number"&&Yt(l+u-(o+a))>=s||c==="object"&&Yt(l-o)>=s.x||Yt(u-a)>=s.y){if(St(n,["mousemove","touchmove"],this.R,{passive:!1}),this.M("beforedrag",e)===!1)return void St(n,["mouseup","touchcancel","touchend"],this.$);Ar(n,["mousemove","touchmove"],this.H,{passive:!1}),At(this.S,"display","block"),nn(r,n)[0].appendChild(this.A),this.resolveSelectables(),this.u=!1,this.W=this.O.getBoundingClientRect(),this.p=this.O.scrollHeight!==this.O.clientHeight||this.O.scrollWidth!==this.O.clientWidth,this.p&&(Ar(n,"wheel",this.I,{passive:!1}),this.o=this.o.filter(h=>this.O.contains(h))),this.N(),this.M("start",e),this.H(e)}i.touch&&dc()&&e.preventDefault()}N(){let{A:e,O:r,S:n}=this,i=this.W=r.getBoundingClientRect();this.p?(At(e,{top:i.top,left:i.left,width:i.width,height:i.height}),At(n,{marginTop:-i.top,marginLeft:-i.left})):(At(e,{top:0,left:0,width:"100%",height:"100%"}),At(n,{marginTop:0,marginLeft:0}))}H(e){let{x:r,y:n}=ui(e),{m:i,l:s,_:o,T:a}=this,{features:l}=o,{speedDivider:u}=o.behaviour.scrolling,c=this.O;if(s.x2=r,s.y2=n,this.p&&(i.y||i.x)){let h=()=>{if(!i.x&&!i.y)return;let{scrollTop:d,scrollLeft:f}=c;i.y&&(c.scrollTop+=bc(i.y/u),s.y1-=c.scrollTop-d),i.x&&(c.scrollLeft+=bc(i.x/u),s.x1-=c.scrollLeft-f),a.next(e),requestAnimationFrame(h)};requestAnimationFrame(h)}else a.next(e);l.touch&&dc()&&e.preventDefault()}D(){let{v:e,_:{document:r}}=this,{scrollTop:n,scrollLeft:i}=r.scrollingElement||r.body;this.l.x1+=e.x-i,this.l.y1+=e.y-n,e.x=i,e.y=n,this.N(),this.T.next(null)}I(e){let{manualSpeed:r}=this._.behaviour.scrolling,n=e.deltaY?e.deltaY>0?1:-1:0,i=e.deltaX?e.deltaX>0?1:-1:0;this.m.y+=n*r,this.m.x+=i*r,this.H(e),e.preventDefault()}L(){let{m:e,l:r,h:n,O:i,W:s,_:o}=this,{scrollTop:a,scrollHeight:l,clientHeight:u,scrollLeft:c,scrollWidth:h,clientWidth:d}=i,f=s,{x1:v,y1:A}=r,{x2:w,y2:j}=r,{behaviour:{scrolling:{startScrollMargins:D}}}=o;w<f.left+D.x?(e.x=c?-Yt(f.left-w+D.x):0,w=w<f.left?f.left:w):w>f.right-D.x?(e.x=h-c-d?Yt(f.left+f.width-w-D.x):0,w=w>f.right?f.right:w):e.x=0,j<f.top+D.y?(e.y=a?-Yt(f.top-j+D.y):0,j=j<f.top?f.top:j):j>f.bottom-D.y?(e.y=l-a-u?Yt(f.top+f.height-j-D.y):0,j=j>f.bottom?f.bottom:j):e.y=0;let K=_c(v,w),H=_c(A,j),re=mc(v,w),V=mc(A,j);n.x=K,n.y=H,n.width=re-K,n.height=V-H}j(){let{x:e,y:r,width:n,height:i}=this.h,{style:s}=this.S;s.left=`${e}px`,s.top=`${r}px`,s.width=`${n}px`,s.height=`${i}px`}$(e,r){let{document:n,features:i}=this._,{u:s}=this;St(n,["mousemove","touchmove"],this.R),St(n,["touchmove","mousemove"],this.H),St(n,["mouseup","touchcancel","touchend"],this.$),St(n,"scroll",this.D),e&&s&&i.singleTap.allow?this.F(e):s||r||(this.C(),this.M("stop",e)),this.m.x=0,this.m.y=0,this.p&&St(n,"wheel",this.I,{passive:!0}),this.A.remove(),this.T?.cancel(),At(this.S,"display","none"),this.U()}C(){let{o:e,_:r,i:n,h:i}=this,{stored:s,selected:o,touched:a}=n,{intersect:l,overlap:u}=r.behaviour,c=u==="invert",h=[],d=[],f=[];for(let A=0;A<e.length;A++){let w=e[A];if(pc(i,w.getBoundingClientRect(),l)){if(o.includes(w))s.includes(w)&&!a.includes(w)&&a.push(w);else{if(c&&s.includes(w)){f.push(w);continue}d.push(w)}h.push(w)}}c&&d.push(...s.filter(A=>!o.includes(A)));let v=u==="keep";for(let A=0;A<o.length;A++){let w=o[A];h.includes(w)||v&&s.includes(w)||f.push(w)}n.selected=h,n.changed={added:d,removed:f},this.q=h[h.length-1]}M(e,r){return this.emit(e,{event:r,store:this.i,selection:this})}U(){let{_:e,i:r}=this,{selected:n,changed:i,touched:s,stored:o}=r,a=n.filter(l=>!o.includes(l));switch(e.behaviour.overlap){case"drop":r.stored=[...a,...o.filter(l=>!s.includes(l))];break;case"invert":r.stored=[...a,...o.filter(l=>!i.removed.includes(l))];break;case"keep":r.stored=[...o,...n.filter(l=>!o.includes(l))]}}trigger(e,r=!0){this.k(e,r)}resolveSelectables(){this.o=nn(this._.selectables,this._.document)}clearSelection(e=!0){this.i={stored:e?[]:this.i.stored,selected:[],touched:[],changed:{added:[],removed:[]}}}getSelection(){return this.i.stored}getSelectionArea(){return this.S}cancel(e=!1){this.$(null,!e)}destroy(){this.cancel(),this.disable(),this.A.remove(),super.unbindAllListeners()}select(e,r=!1){let{changed:n,selected:i,stored:s}=this.i,o=nn(e,this._.document).filter(a=>!i.includes(a)&&!s.includes(a));return s.push(...o),i.push(...o),n.added.push(...o),!r&&this.M("move",null),o}deselect(e,r=!1){let{selected:n,stored:i,changed:s}=this.i;return!(!n.includes(e)&&!i.includes(e))&&(s.removed.push(e),fc(i,e),fc(n,e),!r&&this.M("move",null),!0)}};Ds.version="3.0.0-beta.13";var wc=Ds;var Ns=class extends fe.Div{async upgradedCallback(){this.draw(),this.classList.add("markings-editor-change")}draw(){de(this,F`
        <ul class="changes">

        </ul>
        `)}};var ey={bin:'<path d="M0 0h24v24H0z" fill="none"/><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"/>',add:'<path d="M0 0h24v24H0z" fill="none"/><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>',remove:'<path d="M0 0h24v24H0z" fill="none"/><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>',edit:'<path d="M0 0h24v24H0z" fill="none"/><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>',close:'<path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>',menu_book_black:'<g><rect fill="none" height="24" width="24"/></g><g><g/><path d="M21,5c-1.11-0.35-2.33-0.5-3.5-0.5c-1.95,0-4.05,0.4-5.5,1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45,4.9,1,6v15.5 C2.45,20.4,4.55,20,6.5,20s4.05,0.4,5.5,1.5c1.45-1.1,3.55-1.5,5.5-1.5c1.17,0,2.39,0.15,3.5,0.5c0.75,0.25,1.4,0.55,2,1V6 C22.4,5.55,21.75,5.25,21,5z M21,18.5c-1.1-0.35-2.3-0.5-3.5-0.5c-1.7,0-4.15,0.65-5.5,1.5V8c1.35-0.85,3.8-1.5,5.5-1.5 c1.2,0,2.4,0.15,3.5,0.5V18.5z"/><g><path d="M17.5,10.5c0.88,0,1.73,0.09,2.5,0.26V9.24C19.21,9.09,18.36,9,17.5,9c-1.7,0-3.24,0.29-4.5,0.83v1.66 C14.13,10.85,15.7,10.5,17.5,10.5z"/><path d="M13,12.49v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26V11.9c-0.79-0.15-1.64-0.24-2.5-0.24 C15.8,11.66,14.26,11.96,13,12.49z"/><path d="M17.5,14.33c-1.7,0-3.24,0.29-4.5,0.83v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26v-1.52 C19.21,14.41,18.36,14.33,17.5,14.33z"/></g></g>',next:'<path d="M0 0h24v24H0z" fill="none"/><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>',prev:'<path d="M0 0h24v24H0z" fill="none"/><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>'},Nv=new Map,De=t=>F`<svg class=${t.replace(/_/g,"-")+" icon"} viewBox="0 0 24 24" ref=${e=>e.innerHTML=ey[t]}></svg>`;var Us=class extends fe.Div{async upgradedCallback(){await this.draw(),await this.loadData(),je.addEventListener("params-change",()=>this.loadData())}async loadData(){let{ownerId:e,repoId:r,bookId:n,chapterId:i}=ke,s=await pt.getProject(e,r);if(this.book=n?s.books.find(o=>o.name===n):s.books[0],this.chapters=await this.book.getChapters(),!n||!i){if(n||(n=this.book.name),!i){let[o,a]=this.chapters[0];i=o}Kt(`/editor/${e}/${r}/${n}/${i}`,!0)}this.text=await this.book.getText(i),this.markingsStore=await this.book.getMarkingsStore(),this.markings=await this.markingsStore.getMarkings(i),this.bigMarkings=this.markings.filter(o=>!o.reference.isShort),await this.draw(),this.createSelectionArea()}clear(){for(let e of[...this.querySelectorAll(".selected")])e.classList.remove("selected");this.selection.clearSelection()}createSelectionArea(){let e=this.book.settings.book,{chapterId:r}=ke;this.selection&&this.selection.destroy(),this.selection=new wc({selectables:[".word"],boundaries:[".markings-editor"]}).on("beforedrag",()=>!1).on("start",({store:n,event:i})=>{if(!i.ctrlKey&&!i.metaKey){for(let s of n.stored)s.classList.remove("selected");this.selection.clearSelection()}}).on("move",({store:{changed:{added:n,removed:i}}})=>{for(let s of n)s.classList.add("selected");for(let s of i)s.classList.remove("selected")}).on("stop",n=>{let i=[...this.element.querySelectorAll(".word.selected")].filter(a=>a.hasAttribute("line-number")).map(a=>{let l=parseInt(a.getAttribute("line-number")),u=parseInt(a.getAttribute("word-number")),c=this.markings.filter(({reference:f})=>f.includes(e,parseInt(r),l,u)),h=a.querySelector(".selection-popup");h&&h.remove();let d=a.innerText.replace(/[\p{P}$+<=>^`|~]/gu,"").trim();return h&&a.appendChild(h),{lineNumber:l,wordNumber:u,text:d,markings:c,element:a}}),s=new Set,o=[];for(let a of i){if(o.length===0){o.push(a);continue}let l=o.at(-1),u=a.element.previousElementSibling.previousElementSibling;u.classList.contains("space")&&(u=u.previousElementSibling),u!==l.element&&(o.length&&s.add(o),o=[]),o.push(a)}s.add(o),this.dispatchEvent(new CustomEvent("selection",{detail:[...s.values()]}))})}wordMarkings(e,r=!1,n=[]){return e=e.filter(i=>i.reference.isShort).sort((i,s)=>s.reference.length-i.reference.length),F`<span class="markings">${e.map(i=>{let s=n.find(o=>o.predicate===i.predicate);return r&&!s?F``:F`
                <span class=${`marking ${Me(i.predicate).toLowerCase()}`} 
                    style=${`--color: ${$s(Me(i.predicate).toLowerCase())};`} 
                    title=${i?.comment}>
                </span>`})}</span>`}wordTemplate(e,r,n,i){let s=this.book.settings.book,o=this.markings.filter(({reference:c})=>c.includes(s,parseInt(e),r,n)),a=this.markings.filter(({reference:c})=>c.includes(s,parseInt(e),r,n+1)),l=o.find(c=>Me(c.predicate)==="Person"),u=o.map(c=>{let h=c.comment,d=Me(c.predicate);return h?h+", "+d:d}).join(`
`);return F`<span 
            title=${u} 
            person=${l?.subject} 
            chapter-id=${e}
            class="word" 
            word-number=${n} 
            line-number=${r}>${this.wordMarkings(o,!1,a)}${i}</span><span 
            class="word space">${this.wordMarkings(o,!0,a)} </span>`}async draw(){let{chapterId:e}=ke,r=this.book?.settings.book,n=this.chapters?.find(([s])=>s.toString()===e.toString()),i=this.chapters?.indexOf(n);return de(this,this.text?F`

        <${Ns} ref=${s=>s.draw?s.draw():null} .changes=${this.markingsStore.changes} />

        ${i!==void 0&&i>0?F`
            <a class="prev-chapter" href=${this.chapters[i-1][0]}>${De("prev")}</a>
        `:null}
        
        ${i!==void 0&&i!==this.chapters.length-1?F`
            <a class="next-chapter" href=${this.chapters[i+1][0]}>${De("next")}</a>
        `:null}

        <div params=${JSON.stringify(ke)} ref=${s=>this.element=s} class=${`markings-editor ${this.bigMarkings.length?"has-big-marking":""}`}>
            ${this.text.map(([s,o,a,l],u)=>{let c=this.markings.filter(({reference:A})=>A.includes(r,parseInt(e),s,1)&&(s===1||A.includes(r,parseInt(e),s-1,this.text[u-1].length))),h=this.wordMarkings(c),d=[],f=new Array(l);for(let A of f)d.push(F`<br><br>`);let v=o.split(" ").map((A,w)=>this.wordTemplate(e,s,w+1,A));return F.for(v)`${a?a(h):null}${v}${d}`})}

            ${this.bigMarkings.map(s=>{let o=Me(s.predicate);return F`<div ref=${a=>{setTimeout(()=>{let l=this.querySelector(`[chapter-id="${e}"][line-number="${s.reference.startVerse}"][word-number="${s.reference.startWord}"]`),u=this.querySelector(`[chapter-id="${e}"][line-number="${s.reference.endVerse}"][word-number="${s.reference.endWord}"]`);l.classList.add("start-of-big-marking"),a.style.setProperty("--y1",l.offsetTop-6+"px"),a.style.setProperty("--y2",u.offsetTop+50+"px"),a.style.setProperty("--color",$s(o.toLowerCase()))})}} class="big-marking">
                    <span class="text">${s.name}</span>
                </div>`})}

        </div>

        `:F`<span class="markings-editor">${se`Loading...`}</span>`)}};var me=class{constructor(e){this.selectionPopup=e}toString(){return this.constructor.name}};var Ms=class extends me{applies(){return!this.selectionPopup.form}template(){return F`
        <button onclick=${()=>{this.selectionPopup.form="search",this.selectionPopup.draw()}} class="button nowrap">
            ${De("add")} ${se`Create marking`}
        </button>`}};function yc(t,e,r){return r.indexOf(t)===e}function vc(t,e,r=!1){let n;return function(){let i=this,s=arguments,o=function(){n=null,r||t.apply(i,s)},a=r&&!n;clearTimeout(n),n=setTimeout(o,e),a&&t.apply(i,s)}}var Bs=class extends me{constructor(){super(...arguments);this.searchResults=null}applies(){return this.selectionPopup.predicate&&this.selectionPopup.form==="search"}template(){let e=this.selectionPopup.predicate&&this.searchResults===null,r=this.selectionPopup.predicateType!=="predicate",n=this.selectionPopup.predicate&&this.searchResults===null&&this.selectionPopup.predicateType==="predicate"&&this.selectionPopup.subject;if(e&&(r||n)){let i=this.selectionPopup.selections.flatMap(s=>s.map(o=>o.text.replace(/[\p{P}$+<=>^`|~]/gu,"").trim()).join(" ")).filter(yc);this.selectionPopup.markingsStore.searchSubject(i,this.selectionPopup.predicate).then(s=>{this.searchResults=s,this.selectionPopup.draw()})}return F`
            <input type="search" onkeyup=${vc(i=>{this.selectionPopup.markingsStore.searchSubject(i.target.value.split(" "),this.selectionPopup.predicate).then(s=>{this.searchResults=s,this.selectionPopup.draw()})},100)} placeholder=${se`Search existing`}>

            <!--uhtml crashes without this-->
            ${this.searchResults!==null?this.searchResults.length?F`${this.searchResults.map(i=>F`
            <span class="search-result">
                <span class="label" onclick=${async()=>{let{chapterId:s}=ke,o=this.selectionPopup.markingsStore.bookAbbreviation,a=this.selectionPopup.selections.map(l=>{let u=l.at(0),c=l.at(-1),h=`${o}.${s}.${u.lineNumber}.${u.wordNumber}`,d=`${o}.${s}.${c.lineNumber}.${c.wordNumber}`;return h+":"+d});await this.selectionPopup.markingsStore.appendFactReferences(i.predicate,a),this.selectionPopup.remove(),je.render()}}>${i.name}${i.comment?F`, ${i.comment}`:F``}</span>
            </span>
            `)}`:F``:F``}
        `}};var Ec=t=>function(e,r,n){return n.indexOf(n.find(i=>i[t]===e[t]))===r};var qs=class extends me{applies(){return this.selectionPopup.markings.length&&!this.selectionPopup.form}template(){return F`
        <!--uhtml crashes without this-->
        ${this.selectionPopup.markings.filter(Ec("subject")).map(e=>{let r=Me(e.predicate).toLowerCase();return F`
            <span class="search-result">
                <span class="label">${r}: ${e.name}</span>
                <button class="button mini" onclick=${()=>{this.selectionPopup.form="delete",this.selectionPopup.subject=e.subject,this.selectionPopup.draw()}}>${De("remove")}</button>
                <button class="button mini" onclick=${()=>{this.selectionPopup.form="edit",this.selectionPopup.subject=e.subject,this.selectionPopup.name=e.name,this.selectionPopup.comment=e.comment,this.selectionPopup.draw()}}>${De("edit")}</button>
            </span>`})}`}};var Hs=class extends me{constructor(){super(...arguments);this.count=null}applies(){return this.selectionPopup.form==="delete"}template(){this.count===null&&this.selectionPopup.markingsStore.getReferencesCountForFact(this.selectionPopup.subject).then(s=>{this.count=s,this.selectionPopup.draw()});let e=this.selectionPopup.markings.filter(s=>s.subject===this.selectionPopup.subject),r=e[0],n=e.map(s=>s.reference.toString()),i=Me(r.predicate);return F`
            <span class="search-result">
            <span class="label">
            ${i}: ${r.name}
            </span>
            </span>

            ${this.count>1?F`
                <button class="button nowrap" onclick=${async()=>{await this.selectionPopup.markingsStore.removeFactReferences(r.subject,n),this.selectionPopup.remove(),je.render()}}>${De("remove")}${se`Remove only this marking`}</button>
            `:F``}

            <button class="button nowrap" onclick=${async()=>{await this.selectionPopup.markingsStore.deleteFact(r.subject),this.selectionPopup.remove(),je.render()}}>${De("bin")}${se`Remove every marking`}</button>
        `}};var zs=class extends me{applies(){return["edit","create"].includes(this.selectionPopup.form)}template(){return F`
        <form class="predicate-part" onsubmit=${async e=>{e.preventDefault();let{ownerId:r,repoId:n,chapterId:i}=ke,s=this.selectionPopup.markingsStore.bookAbbreviation,o=this.selectionPopup.selections.map(a=>{let l=a.at(0),u=a.at(-1),c=`${s}.${i}.${l.lineNumber}.${l.wordNumber}`,h=`${s}.${i}.${u.lineNumber}.${u.wordNumber}`;return c+":"+h});await this.selectionPopup.markingsStore.insertFact({uri:`https://biblogos.info/${r}/${n}/${this.selectionPopup.identifier}`,name:this.selectionPopup.name,predicate:this.selectionPopup.predicate,subject:this.selectionPopup.subject,references:o,comment:this.selectionPopup.comment}),this.selectionPopup.remove(),je.render()}}>
            <div class="field">
                <label>${se`Text`}</label>
                <input required type="text" 
                    onchange=${e=>this.selectionPopup.name=e.target.value} 
                    .value=${this.selectionPopup.name} />
            </div>

            <div class="field">
                <label>${se`Identifier`}</label>
                <input required type="text" 
                    onchange=${e=>this.selectionPopup.identifier=e.target.value} 
                    .value=${this.selectionPopup.identifier} />
            </div>

            <div class="field">
                <label>${se`Optional comment`}</label>
                <textarea onchange=${e=>this.selectionPopup.comment=e.target.value}>${this.selectionPopup.comment}</textarea>
            </div>

            <button class="button primary">${se`Save`}</button>
        </form>`}};function sn({title:t,values:e,onchange:r,currentValue:n="",extraCssClass:i=""}){return F`
    <div class="field">
        ${t?F`<label class="field-label">${t}</label>`:null}

        <div class=${`select ${i}`}>
            <select onchange=${r}>
                ${e.map(([s,o])=>F`<option ?disabled=${s===""} .selected=${s.toString()===n.toString()?!0:null} value=${s}>${o}</option>`)}
            </select>

            <div class="focus"></div>
        </div>

    </div>
    `}var Ws=class extends me{applies(){return this.selectionPopup.form==="search"}template(){return this.factPredicates||this.selectionPopup.markingsStore.getFactPredicates().then(e=>{this.factPredicates=e,this.selectionPopup.draw()}),this.factPredicates?sn({title:se`Relation type`,currentValue:this.selectionPopup.predicate?this.selectionPopup.predicate+"|"+this.selectionPopup.predicateType:"",values:[["","- Select -"],...this.factPredicates.map(e=>[e.predicate+"|"+e.type,e.label])].filter(([e])=>!this.selectionPopup.markings.find(r=>r.predicate===e)),onchange:e=>{let[r,n]=e.target.value.split("|");this.selectionPopup.predicate=r,this.selectionPopup.predicateType=n,this.selectionPopup.draw()}}):F`
            <span>${se`Loading...`}</span>
        `}};function Tc(t){return t.trim().replaceAll("  "," ").toLowerCase().trim().split(/[ -_]/g).map(r=>r.replace(r?.[0],r[0]?.toString().toUpperCase())).join("")}var Ys=class extends me{applies(){let e=this.selectionPopup.predicate&&this.selectionPopup.form==="search",r=this.selectionPopup.predicateType!=="predicate",n=this.selectionPopup.subject&&this.selectionPopup.predicateType==="predicate";return e&&(r||n)}buttonClick(){let e=this.selectionPopup.selections.flatMap(n=>n.map(i=>i.text).join(" ")).join(" "),r=this.selectionPopup.subject?Me(this.selectionPopup.subject):null;this.selectionPopup.name=e,this.selectionPopup.identifier=Tc((r??"")+" "+e),this.selectionPopup.form="create",this.selectionPopup.draw()}template(){return F`
        <button onclick=${this.buttonClick.bind(this)} class="button nowrap">
            ${De("add")} ${se`New marking`}
        </button>`}};var Ks=class extends me{applies(){return this.selectionPopup.predicate&&this.selectionPopup.form==="search"&&this.selectionPopup.predicateType==="predicate"&&!this.selectionPopup.subject}textClick(e){if(e.stopImmediatePropagation(),!e.target.classList?.contains("word"))return;let r=e.target.getAttribute("person");e.target.classList.add("selected"),this.selectionPopup.subject=r,this.selectionPopup.form="search",this.selectionPopup.draw()}template(){return document.querySelector(".markings-editor").addEventListener("mouseup",this.textClick.bind(this),{once:!0}),F`
        <span class="search-result">
            <span class="label">${se`Select the subject`}</span>
        </span>
        `}};var Vs=class extends me{applies(){return!0}template(){return F`
        <button onclick=${()=>{this.selectionPopup.markingsEditor.clear(),this.selectionPopup.remove()}} class="button cancel-button secondary nowrap">
            ${se`Cancel`}
        </button>`}};var Qs=t=>t.stopImmediatePropagation(),Js=class extends fe.Span{constructor(e,r,n){super();this.subject="",this.identifier="",this.predicate="",this.predicateType="",this.object="",this.name="",this.comment="",this.afterRenders=[],this.selections=e,this.markingsStore=r,this.markingsEditor=n,this.markings=e.flatMap(i=>i.flatMap(s=>s.markings)),this.draw(),this.addEventListener("mousedown",Qs),this.addEventListener("mouseup",Qs),this.addEventListener("click",Qs)}async upgradedCallback(){document.body.classList.add("has-selection-popup"),this.popupParts=[new Ws(this),new Bs(this),new qs(this),new Hs(this),new zs(this),new Ys(this),new Ms(this),new Vs(this),new Ks(this)],this.classList.add("selection-popup")}async draw(){let e=this.popupParts.filter(r=>r.applies());await de(this,F`${e.map(r=>r.template())}`);for(let r of this.afterRenders)r();this.afterRenders=[]}addAfterRender(e){this.afterRenders.push(e)}remove(){document.body.classList.remove("has-selection-popup"),super.remove()}};var Xs=class extends fe.Div{async upgradedCallback(){let{ownerId:e,repoId:r,bookId:n}=ke;if(this.project=await pt.getProject(e,r),this.book=this.project.books.find(i=>i.name===n),this.bookOptions=this.project.books.map(i=>[i.settings.name,i.settings.name]),this.chapters=await this.book?.getChapters(),this.classList.add("book-navigation"),!this.book){je.addEventListener("params-change",()=>{this.upgradedCallback()},{once:!0});return}je.addEventListener("params-change",()=>this.draw()),this.draw()}draw(){console.log(ke.chapterId),!!this.book&&de(this,F`

        <h2 class="project-title">${this.project.name}</h2>

        ${sn({values:this.bookOptions,onchange:e=>{let r=location.pathname.split("/");r[4]=e.target.value,Kt(r.join("/"))},currentValue:ke.bookId})}

        ${sn({values:this.chapters,onchange:e=>{let r=location.pathname.split("/");r[5]=e.target.value,Kt(r.join("/"))},currentValue:ke.chapterId})}
        
        `)}};var kc={name:"editor",template:function(){let t;return F`
            <${rn} .extra=${F`<${Xs} />`} />
            <${Us} class="route" ref=${e=>t=e} onclick=${e=>{e.target.classList.contains("word")||(t.clear(),document.querySelector(".selection-popup")?.remove())}} class="route-editor" onselection=${e=>{let r=e.detail,n=r[0][0]?.element;if(document.querySelector(".selection-popup")?.remove(),n){let i=new Js(r,t.markingsStore,t);n.appendChild(i)}}} />
        `}};var xc={name:"oauth-callback",redirect:()=>{let e=new URLSearchParams(location.search).get("code");return localStorage.githubCode=e,"/editor"}};var Ac={name:"login",redirect:()=>"https://biblogos.info/login"};var Sc={name:"not-found",template:()=>F`Not found`};var ty,ke,on=t=>(e,r)=>(ty=e,ke=r,t),ry=[{path:"/",action:on(uc)},{path:"/editor/:ownerId/:repoId/:bookId?/:chapterId?",action:on(kc)},{path:"/login",action:on(Ac)},{path:"/oauth-callback",action:on(xc)},{path:"(.*)",action:on(Sc)}],Rc=new Go(ry),Kt=(t,e=!1)=>(location.pathname!==t&&history[e?"replaceState":"pushState"]({},"",t),je.render());var Vt=null,Pc=class extends EventTarget{constructor(){super();document.body.addEventListener("click",e=>{let r=e.target.nodeName!=="A"?e.target.closest("a"):e.target;if(r){let n=r.getAttribute("href");n&&(n[0]==="/"||!n.startsWith("http"))&&(e.preventDefault(),setTimeout(()=>Kt(n)))}}),window.addEventListener("popstate",()=>this.render()),this.render()}async render(){try{let e=await Rc.resolve({pathname:location.pathname});if(e.redirect){let r=e.redirect();r.startsWith("http")?location.replace(r):location.pathname=r}else{Vt?.unload&&Vt.unload();let r=e.params;e.params=ke;let n=r===ke;(Vt!==e||!n)&&e.load&&e.load(),document.body.dataset.route=e.name,await de(document.body,e.template()),Vt!==e&&this.dispatchEvent(new CustomEvent("route-change")),Vt===e&&!n&&this.dispatchEvent(new CustomEvent("params-change")),Vt!==e&&e.afterTemplate&&e.afterTemplate(),Vt=e}}catch(e){de(document.body,F`<h3>Exception: ${e.message}</h3>`)}}},je=new Pc;export{je as app};
/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! (c) Andrea Giammarchi - ISC */
/*! @viselect/vanilla 3.0.0-beta.13 MIT | https://github.com/Simonwep/selection */
/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */
/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=app.js.map
